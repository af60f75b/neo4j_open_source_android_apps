id,short_id,title,message,additions,deletions,total,author_name,author_email,committer_name,committer_email,authored_date,committed_date,parent_ids
ecb25a042c50df979ea70c2ce1c04fc08c33b8e7,ecb25a04,regenerate fwknopd man page with Jonathan's pcap loop fix,"regenerate fwknopd man page with Jonathan's pcap loop fix
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1505787952,1505787952,3cd88ac62e231d9cfb599c08b0b5d248ad4127e7
3cd88ac62e231d9cfb599c08b0b5d248ad4127e7,3cd88ac6,Merge branch 'master' of ssh://github.com/mrash/fwknop,"Merge branch 'master' of ssh://github.com/mrash/fwknop
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1505787631,1505787631,"8c33a104d6017f5f80dad0bae5ca74f7c807bee6,e89d2c38e0236d895d2fc7f504e09cc199e63532"
8c33a104d6017f5f80dad0bae5ca74f7c807bee6,8c33a104,a further byte-order refinement,"a further byte-order refinement
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1505787602,1505787602,a617502b25932999a274e0252a876e6cb83e172c
e89d2c38e0236d895d2fc7f504e09cc199e63532,e89d2c38,Correct default value of PCAP_LOOP_SLEEP in man page,"Correct default value of PCAP_LOOP_SLEEP in man page

The default value of PCAP_LOOP_SLEEP was misstated, a 0 was missed.",,,,Jonathan Bennett,jbennett@incomsystems.biz,GitHub,noreply@github.com,1505190446,1505190446,a617502b25932999a274e0252a876e6cb83e172c
a617502b25932999a274e0252a876e6cb83e172c,a617502b,update ChangeLog with OpenBSD endian fix,"update ChangeLog with OpenBSD endian fix
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1504963322,1504963322,10d31064c35fab1a80a92d9b19e86a60d948bf1a
10d31064c35fab1a80a92d9b19e86a60d948bf1a,10d31064,Endian fix for OpenBSD systems,"Endian fix for OpenBSD systems

Per github issue #257, Jérémie Courrèges-Anglas and Ingo Feinerer
contributed a patch to fix endian detection on OpenBSD systems. This is
based on information contained at:

https://www.opengroup.org/austin/docs/austin_514.txt
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1504962367,1504962367,78b3a215cb895f59b62bbb081ca83792b5d18358
78b3a215cb895f59b62bbb081ca83792b5d18358,78b3a215,fix gnupg.org link in the ChangeLog,"fix gnupg.org link in the ChangeLog
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1492260973,1492260973,d5c841140f696fff8fcf35d216ecddc8948a5605
d5c841140f696fff8fcf35d216ecddc8948a5605,d5c84114,image markdown fix for the README,"image markdown fix for the README
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1490756596,1490756596,013509832e50f7343a6f3a404f6462e37168bf8a
013509832e50f7343a6f3a404f6462e37168bf8a,01350983,Merge branch 'master' of ssh://moria/home/mbr/git/fwknop,"Merge branch 'master' of ssh://moria/home/mbr/git/fwknop
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1490756232,1490756232,"bc1505934e7d0e0c54b4de06f852f1764cee5a74,456b51693f37887a86e5d82b4c325b8c14f8c092"
456b51693f37887a86e5d82b4c325b8c14f8c092,456b5169,minor README images path update,"minor README images path update
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1490756168,1490756168,ac9ccb9ab069ae936798df23ba1f37d42bd1c79c
bc1505934e7d0e0c54b4de06f852f1764cee5a74,bc150593,Merge branch 'master' of ssh://github.com/mrash/fwknop,"Merge branch 'master' of ssh://github.com/mrash/fwknop
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1487646596,1487646596,"ac9ccb9ab069ae936798df23ba1f37d42bd1c79c,5dffde18fd88d45389155d5d7866f729fd4ca2f3"
ac9ccb9ab069ae936798df23ba1f37d42bd1c79c,ac9ccb9a,[libfko] check NULL ptr before utilizing - discovered by the PVS-Studio static analyzer,"[libfko] check NULL ptr before utilizing - discovered by the PVS-Studio static analyzer
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1487645662,1487645662,9f963df723d4ded1001b8a32948ca8028bd9109a
9f963df723d4ded1001b8a32948ca8028bd9109a,9f963df7,minor comment addition,"minor comment addition
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1487645495,1487645495,d7412af09eef4a80568142d55c875961b37b2c97
5dffde18fd88d45389155d5d7866f729fd4ca2f3,5dffde18,Merge pull request #250 from jwilk/python-errstr,"Merge pull request #250 from jwilk/python-errstr

",,,,Michael Rash,michael.rash@gmail.com,GitHub,noreply@github.com,1486936010,1486936010,"d579c6cd0fac3faf9f1784202cdc7f7a8ebebf7c,42ebb04605cb98599d89c8c3542b84b8bfb98c27"
42ebb04605cb98599d89c8c3542b84b8bfb98c27,42ebb046,[python] fix name error in Fko.errstr(),"[python] fix name error in Fko.errstr()
",,,,Jakub Wilk,jwilk@jwilk.net,Jakub Wilk,jwilk@jwilk.net,1486638894,1486638989,d579c6cd0fac3faf9f1784202cdc7f7a8ebebf7c
d579c6cd0fac3faf9f1784202cdc7f7a8ebebf7c,d579c6cd,Merge pull request #249 from jwilk/python-cfb,"Merge pull request #249 from jwilk/python-cfb

",,,,Michael Rash,michael.rash@gmail.com,GitHub,noreply@github.com,1485482674,1485482674,"d7412af09eef4a80568142d55c875961b37b2c97,8f5d9c0e8220e376966e7c8c36570f724ceaf2ac"
8f5d9c0e8220e376966e7c8c36570f724ceaf2ac,8f5d9c0e,[python] Fix typo in CFB mode,"[python] Fix typo in CFB mode
",,,,Jakub Wilk,jwilk@jwilk.net,Jakub Wilk,jwilk@jwilk.net,1485455370,1485455370,d7412af09eef4a80568142d55c875961b37b2c97
d7412af09eef4a80568142d55c875961b37b2c97,d7412af0,[test suite] don't use shell redirection char in bogus IP string,"[test suite] don't use shell redirection char in bogus IP string
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1481329391,1481329391,8b734049a73f9b25ff944f0d295450cd3f685397
8b734049a73f9b25ff944f0d295450cd3f685397,8b734049,[test suite] only run user/group parity tests for non-root owner user,"[test suite] only run user/group parity tests for non-root owner user
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1481329044,1481329044,643805967ed0b695973f9689bd577a2f3e7d8cbd
643805967ed0b695973f9689bd577a2f3e7d8cbd,64380596,remove ChangeLog.git file since people should just get this information from git,"remove ChangeLog.git file since people should just get this information from git
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1480887170,1480887170,f05b1a7a0d17424beb2313013719278040731b81
f05b1a7a0d17424beb2313013719278040731b81,f05b1a7a,Merge pull request #245 from mstair/erlang_client,"Merge pull request #245 from mstair/erlang_client

[erlang] updating Erlang .gitignore and build dependencies",,,,Michael Rash,michael.rash@gmail.com,GitHub,noreply@github.com,1479584962,1479584962,"0e1634a8b16f02766e4e8af56fb42a00ae5d71c9,b25f8ed970d5b070a2fd6aa4306354ea4e2b2509"
b25f8ed970d5b070a2fd6aa4306354ea4e2b2509,b25f8ed9,[erlang] explicit pull of pkcs7 from master branch,"[erlang] explicit pull of pkcs7 from master branch
",,,,Michael Stair,ms1784@att.com,Michael Stair,ms1784@att.com,1479579700,1479579700,d2810c6ce1bac3a8fbf66b54767e64bb5a23a44c
d2810c6ce1bac3a8fbf66b54767e64bb5a23a44c,d2810c6c,[erlang] removing rebar.lock,"[erlang] removing rebar.lock
",,,,Michael Stair,ms1784@att.com,Michael Stair,ms1784@att.com,1479579360,1479579360,5545b1c4f2eaa2e0961f306c2d03ddf509247513
5545b1c4f2eaa2e0961f306c2d03ddf509247513,5545b1c4,[erlang] remove rebar.lock and update .gitignore,"[erlang] remove rebar.lock and update .gitignore
",,,,Michael Stair,ms1784@att.com,Michael Stair,ms1784@att.com,1479579222,1479579222,88cff80690b7e255a4e6b4fccb9c6a4c82c62b04
0e1634a8b16f02766e4e8af56fb42a00ae5d71c9,0e1634a8,Merge pull request #244 from mstair/erlang_client,"Merge pull request #244 from mstair/erlang_client

[erlang] initial checkin of Erlang client",,,,Michael Rash,michael.rash@gmail.com,GitHub,noreply@github.com,1479565493,1479565493,"00669b2be01cb1412a9dbe2b4c630e3c7c427b8a,88cff80690b7e255a4e6b4fccb9c6a4c82c62b04"
88cff80690b7e255a4e6b4fccb9c6a4c82c62b04,88cff806,[erlang] initial checkin of Erlang client,"[erlang] initial checkin of Erlang client
",,,,Michael Stair,ms1784@att.com,Michael Stair,ms1784@att.com,1479493763,1479493763,00669b2be01cb1412a9dbe2b4c630e3c7c427b8a
00669b2be01cb1412a9dbe2b4c630e3c7c427b8a,00669b2b,Merge pull request #241 from fjoncourt/apparmor,"Merge pull request #241 from fjoncourt/apparmor

Fix apparmor profil for Ubuntu",,,,Michael Rash,michael.rash@gmail.com,GitHub,noreply@github.com,1478911617,1478911617,"2c5d7597a924edc77f89c549b3266a730aeaa882,861111bd1ea1e6eac04f938d9d13816a6fa0b1e3"
861111bd1ea1e6eac04f938d9d13816a6fa0b1e3,861111bd,Fix apparmor profil for Ubuntu,"Fix apparmor profil for Ubuntu

Refer to https://bugs.launchpad.net/ubuntu/+source/fwknop/+bug/1598506
",,,,Franck Joncourt,franck.joncourt@gmail.com,Franck Joncourt,franck.joncourt@gmail.com,1478899142,1478899142,2c5d7597a924edc77f89c549b3266a730aeaa882
2c5d7597a924edc77f89c549b3266a730aeaa882,2c5d7597,[client] minor comment update,"[client] minor comment update
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1476241942,1476241942,c06e8baa7e2ce193196b2b7a8e6036eec90ce7c8
c06e8baa7e2ce193196b2b7a8e6036eec90ce7c8,c06e8baa,[client] exit() upon execvpe() error for wget execution,"[client] exit() upon execvpe() error for wget execution
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1476241465,1476241465,be39f1a6f7964f0f0556b3debc8b7be6086af04d
be39f1a6f7964f0f0556b3debc8b7be6086af04d,be39f1a6,"[server] call exit() upon execvpe() error, fixes #235","[server] call exit() upon execvpe() error, fixes #235
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1476146318,1476146318,836335ed41369d75c71553b180292ae9a643b82a
836335ed41369d75c71553b180292ae9a643b82a,836335ed,[server] add strerror() to fopen() failures for the digest cache file,"[server] add strerror() to fopen() failures for the digest cache file
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1476020117,1476020117,d8b44b4c4b6c72b4bfab700cdedcf0ac22c826c4
d8b44b4c4b6c72b4bfab700cdedcf0ac22c826c4,d8b44b4c,[python] add SHA3 digest algorithms,"[python] add SHA3 digest algorithms
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1475634202,1475634202,d287d142837d4323576a61182431a58ead88f9cd
d287d142837d4323576a61182431a58ead88f9cd,d287d142,[perl] add SHA3 digest algorithms,"[perl] add SHA3 digest algorithms
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1475633794,1475633794,f5509bcd0cb6cb0f0ed035fefabf9a93aa70bb2e
f5509bcd0cb6cb0f0ed035fefabf9a93aa70bb2e,f5509bcd,[server] Add MAX_FW_TIMEOUT to access.conf variables.,"[server] Add MAX_FW_TIMEOUT to access.conf variables.

[server] Add MAX_FW_TIMEOUT to access.conf stanzas to allow a
maximum number of seconds for client-specified timeouts in SPA packets.
This fixes issue #226 which was spotted by Jeremiah Rothschild.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1475201893,1475201893,330edaed63ece33890c5fe356781dd4e361f2a69
330edaed63ece33890c5fe356781dd4e361f2a69,330edaed,Merge pull request #232 from jwilk/spelling,"Merge pull request #232 from jwilk/spelling

Fix indefinite articles",,,,Jonathan Bennett,jbennett@incomsystems.biz,GitHub,noreply@github.com,1474051780,1474051780,"66fb63281d80baf13f10fde6af73c6e546223c96,2d7f5132aad66f4ef86cab81ecce1109de7e9989"
2d7f5132aad66f4ef86cab81ecce1109de7e9989,2d7f5132,Fix indefinite articles,"Fix indefinite articles
",,,,Jakub Wilk,jwilk@jwilk.net,Jakub Wilk,jwilk@jwilk.net,1473157239,1473157239,66fb63281d80baf13f10fde6af73c6e546223c96
66fb63281d80baf13f10fde6af73c6e546223c96,66fb6328,Merge pull request #227 from Jakuje/master,"Merge pull request #227 from Jakuje/master

Proper link to coverity scan results",,,,Michael Rash,michael.rash@gmail.com,GitHub,noreply@github.com,1471957542,1471957542,"eb5e7528a3c44fc2043631dea1add7c36c0898e0,05df4cb049744e58339998419db8da42b7730604"
eb5e7528a3c44fc2043631dea1add7c36c0898e0,eb5e7528,Merge pull request #229 from Anthchirp/debian-spelling,"Merge pull request #229 from Anthchirp/debian-spelling

fix spelling errors flagged by Debian lintian",,,,Jonathan Bennett,jbennett@incomsystems.biz,GitHub,noreply@github.com,1471905905,1471905905,"184ff61c636fa1352a0b5a59862066fe2a224f8f,2b365abcee73c195224688278ec38544641d059b"
2b365abcee73c195224688278ec38544641d059b,2b365abc,fix spelling errors flagged by Debian lintian,"fix spelling errors flagged by Debian lintian
",,,,Markus Gerstel,markus.gerstel@diamond.ac.uk,Markus Gerstel,markus.gerstel@diamond.ac.uk,1471902826,1471902826,ea23648d02276dfa9033e52904d657812476616b
184ff61c636fa1352a0b5a59862066fe2a224f8f,184ff61c,Merge pull request #228 from Anthchirp/debian-spelling,"Merge pull request #228 from Anthchirp/debian-spelling

Fix spelling error in documentation",,,,Jonathan Bennett,jbennett@incomsystems.biz,GitHub,noreply@github.com,1471900919,1471900919,"99ed7a57aa8d230818ffa04ef89a93c27985f3d9,ea23648d02276dfa9033e52904d657812476616b"
ea23648d02276dfa9033e52904d657812476616b,ea23648d,Fix spelling error in documentation,"Fix spelling error in documentation
Original patch by Franck Joncourt <franck@debian.org>
",,,,Markus Gerstel,markus.gerstel@diamond.ac.uk,Markus Gerstel,markus.gerstel@diamond.ac.uk,1471899906,1471899906,99ed7a57aa8d230818ffa04ef89a93c27985f3d9
05df4cb049744e58339998419db8da42b7730604,05df4cb0,Proper link to coverity scan results,"Proper link to coverity scan results
",,,,Jakub Jelen,jjelen@redhat.com,Jakub Jelen,jjelen@redhat.com,1471869334,1471869334,99ed7a57aa8d230818ffa04ef89a93c27985f3d9
99ed7a57aa8d230818ffa04ef89a93c27985f3d9,99ed7a57,Tweaks for Visual Studio 2008 project files,"Tweaks for Visual Studio 2008 project files
",,,,Damien Stuart,dstuart@dstuart.org,Damien Stuart,dstuart@dstuart.org,1468771219,1468771219,6d173f73e425cdfd452e7676e53a5091a44e859f
6d173f73e425cdfd452e7676e53a5091a44e859f,6d173f73,Updates a missed reference of libfko version,"Updates a missed reference of libfko version
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1468709071,1468709071,b2f88a9dad8936aff7b739f06d311b2d714c7728
b2f88a9dad8936aff7b739f06d311b2d714c7728,b2f88a9d,"Fixes libfko for mac, adds common functions","Fixes libfko for mac, adds common functions
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1468709013,1468709013,183a9c51182c53d67c0b99c737b0c6df5bc823ef
183a9c51182c53d67c0b99c737b0c6df5bc823ef,183a9c51,[docs] update links to Jonathan's new github username,"[docs] update links to Jonathan's new github username
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1467603553,1467603553,9371450d67585e3d67d2f21494fe70e1f5e89db1
9371450d67585e3d67d2f21494fe70e1f5e89db1,9371450d,bump libfko version to 3.0.0 for RPM builds,"bump libfko version to 3.0.0 for RPM builds
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1465434113,1465434113,b14d48a36025b93a24917ad25a20f03cb5d2f24f
b14d48a36025b93a24917ad25a20f03cb5d2f24f,b14d48a3,added ChangeLog.git for changes since 2.6.8,"added ChangeLog.git for changes since 2.6.8
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1465432383,1465432383,779029e8bbce2317a80e240692aea329478ad123
779029e8bbce2317a80e240692aea329478ad123,779029e8,doc update,"doc update
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1465432720,1465432720,3686eab348b7927bfeeee3a014bb244c6a5dee6c
3686eab348b7927bfeeee3a014bb244c6a5dee6c,3686eab3,bump version numbers in preparation for 2.6.9 release,"bump version numbers in preparation for 2.6.9 release
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1465431157,1465431157,6db424999d56a37c539182f67c6383daf0863309
6db424999d56a37c539182f67c6383daf0863309,6db42499,Add my email address to the man pages,"Add my email address to the man pages
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1465356230,1465356230,36f356425467d3b31bcfde8b4141eca9593f69c7
36f356425467d3b31bcfde8b4141eca9593f69c7,36f35642,add material on Damien's NFQ support,"add material on Damien's NFQ support
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1465266994,1465266994,ae417e43bbf31187680b8ec3efbf4c4fec368339
ae417e43bbf31187680b8ec3efbf4c4fec368339,ae417e43,recognize Jonathan as a core developer,"recognize Jonathan as a core developer
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1465259026,1465259026,0a439c1dc03f00cd5c6681610296ca3dc647bdbb
0a439c1dc03f00cd5c6681610296ca3dc647bdbb,0a439c1d,further GPLv2+ clarifications,"further GPLv2+ clarifications
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1465259008,1465259008,5f15119190c230071cf8b8744936527dd25dd8b7
5f15119190c230071cf8b8744936527dd25dd8b7,5f151191,clarify GPL v2+ for the license per issue #222,"clarify GPL v2+ for the license per issue #222
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1465006095,1465006095,d7a51a19d4ae9eba3fd29c331e343cb47452a288
d7a51a19d4ae9eba3fd29c331e343cb47452a288,d7a51a19,"clarify GPL license version for README, closes issue #222","clarify GPL license version for README, closes issue #222
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1464922517,1464922517,d7ddbec9620aa3b3d6a5c322708175c225934c7f
d7ddbec9620aa3b3d6a5c322708175c225934c7f,d7ddbec9,Indicate GPL2+ in setup.py,"Indicate GPL2+ in setup.py
",,,,Damien Stuart,dstuart@dstuart.org,Damien Stuart,dstuart@dstuart.org,1464921947,1464921947,a4879fdfc4822528b6ee79e7b773adfba08689db
a4879fdfc4822528b6ee79e7b773adfba08689db,a4879fdf,Added explicit GPL2 license text to the python module code files.,"Added explicit GPL2 license text to the python module code files.
",,,,Damien Stuart,dstuart@dstuart.org,Damien Stuart,dstuart@dstuart.org,1464921419,1464921419,dd1f05c03077b517f74a2f37703cd83c88d13b91
dd1f05c03077b517f74a2f37703cd83c88d13b91,dd1f05c0,Merge pull request #221 from oneru/master,"Merge pull request #221 from oneru/master

[Server] slightly broadens FORWARD rule matching, disables rewriting …",,,,Michael Rash,michael.rash@gmail.com,Michael Rash,michael.rash@gmail.com,1464743485,1464743485,"a651b092cc0af9dcfc230d2ed9436b8a979e4850,d448004f3848a252f13f8a6a3cd7744a23d7b4f8"
a651b092cc0af9dcfc230d2ed9436b8a979e4850,a651b092,[Test suite] Typo fix,"[Test suite] Typo fix
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1464636799,1464636799,3d044a2d04bbc767c4eafe991b9bc7fb651b6cec
3d044a2d04bbc767c4eafe991b9bc7fb651b6cec,3d044a2d,Minor wording change to error message,"Minor wording change to error message
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1464636753,1464636753,df47ed4ecd00cee07d3334ca7c703efd2ae05257
df47ed4ecd00cee07d3334ca7c703efd2ae05257,df47ed4e,[test suite] Modify test to work with iptables,"[test suite] Modify test to work with iptables
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1464636291,1464636291,d6b8205b2a053abe23a2cc4870642c11c1503312
d6b8205b2a053abe23a2cc4870642c11c1503312,d6b8205b,[Test suite] minor change to rerun-failed,"[Test suite] minor change to rerun-failed
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1464636190,1464636190,8122e46bc77028a1bc4e4e42b63e0c7050e5f480
8122e46bc77028a1bc4e4e42b63e0c7050e5f480,8122e46b,"[Test suite] rearranges processing of rerun-failed, handles options better","[Test suite] rearranges processing of rerun-failed, handles options better
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1464617998,1464617998,b5db9c66d340a391bff018a54382db7dab403c1d
b5db9c66d340a391bff018a54382db7dab403c1d,b5db9c66,"[Server] Free the access list on invalid hostname, fixes memory leak.","[Server] Free the access list on invalid hostname, fixes memory leak.
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1464583214,1464583214,67c46de9dd76451d8cdd3d0f0681e155f5e02a42
67c46de9dd76451d8cdd3d0f0681e155f5e02a42,67c46de9,"Minor error message wording fix, also fixes test suite test","Minor error message wording fix, also fixes test suite test
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1464570432,1464570432,2d1568f413fda9fa3b253ef6967f894de72c3b1b
2d1568f413fda9fa3b253ef6967f894de72c3b1b,2d1568f4,"[Test suite] Minor fix, prevent stall on slow systems","[Test suite] Minor fix, prevent stall on slow systems
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1464562969,1464562969,246d8a1db7e16f67a44b3843f21f57e38c510ff5
d448004f3848a252f13f8a6a3cd7744a23d7b4f8,d448004f,"[Server] slightly broadens FORWARD rule matching, disables rewriting sport for snat","[Server] slightly broadens FORWARD rule matching, disables rewriting sport for snat
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1464549233,1464549233,246d8a1db7e16f67a44b3843f21f57e38c510ff5
246d8a1db7e16f67a44b3843f21f57e38c510ff5,246d8a1d,[Server] enable global fw variable even for access stanzas that enable command exec,"[Server] enable global fw variable even for access stanzas that enable command exec
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1464548513,1464548513,2937bc10588e89853d21ae7fd1adace8b9b8e523
2937bc10588e89853d21ae7fd1adace8b9b8e523,2937bc10,[test suite] fix NAT DNS bad host check,"[test suite] fix NAT DNS bad host check
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1464438269,1464438269,7f12fc72d18127cf11c148ce394460c6b1321d71
7f12fc72d18127cf11c148ce394460c6b1321d71,7f12fc72,[test suite] more NAT DNS coverage,"[test suite] more NAT DNS coverage
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1464437167,1464437167,8514061681fadb17d859c24bc111ee7c06181c70
8514061681fadb17d859c24bc111ee7c06181c70,85140616,[test suite] minor removal of comments,"[test suite] minor removal of comments
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1464435661,1464435661,3a10ccff4d2960dca2750f7d04ae8d9748c6ec21
3a10ccff4d2960dca2750f7d04ae8d9748c6ec21,3a10ccff,[test suite] NAT DNS test coverage fix,"[test suite] NAT DNS test coverage fix
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1464435544,1464435544,8366e118e27de69be1c12d4b846d7e52f211ab00
8366e118e27de69be1c12d4b846d7e52f211ab00,8366e118,[server] negative testing for ENABLE_NAT_DNS,"[server] negative testing for ENABLE_NAT_DNS
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1464417001,1464417193,919156fdf028a4977b8ed50a0a85ed0849cd53d8
919156fdf028a4977b8ed50a0a85ed0849cd53d8,919156fd,apply doc updates to man pages,"apply doc updates to man pages
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1464442174,1464442174,74ddbf63b2177f77bb3e68491cb2ce6b77836aed
74ddbf63b2177f77bb3e68491cb2ce6b77836aed,74ddbf63,minor documentation updates,"minor documentation updates
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1464416139,1464416139,efd21281aa13f2e95189d5447cceae6635d4b397
efd21281aa13f2e95189d5447cceae6635d4b397,efd21281,"minor README wording update, include Android link","minor README wording update, include Android link
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1464371733,1464371733,7573824d2179d2ff1ccaa73373209bebb6c8fd68
7573824d2179d2ff1ccaa73373209bebb6c8fd68,7573824d,add fwknop-gui language and screenshot to main README,"add fwknop-gui language and screenshot to main README
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1464368916,1464368916,ac247bb7389cff2c604c2719a4fa16aff10ba2bc
ac247bb7389cff2c604c2719a4fa16aff10ba2bc,ac247bb7,[Test suite] Adds --rerun-failed description to help output,"[Test suite] Adds --rerun-failed description to help output
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1464324552,1464324552,6e54e9452ac74dd20755bebb939a31df2507fe05
6e54e9452ac74dd20755bebb939a31df2507fe05,6e54e945,[test suite] add ENABLE_RULE_PREPEND test,"[test suite] add ENABLE_RULE_PREPEND test
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1464315667,1464315667,6a8a554851d52f94552902e2000c8b9084ec1936
6a8a554851d52f94552902e2000c8b9084ec1936,6a8a5548,[Test suite] Adds tests for invalid server and client cmd lines involving --key-gen,"[Test suite] Adds tests for invalid server and client cmd lines involving --key-gen
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1464275243,1464275243,74d3515218f3e93a3d2be44e7499780ea65dcc78
74d3515218f3e93a3d2be44e7499780ea65dcc78,74d35152,Removes a dead code path in client,"Removes a dead code path in client

A trio of checks were done two places, and the code path always went through both checks.
Since the program announced a fail and closed, the second set of checks could never be triggered.
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1464273146,1464273146,d804ba33f5802d6225f2b1b56aa60e0e9c9f15e6
d804ba33f5802d6225f2b1b56aa60e0e9c9f15e6,d804ba33,[Test suite] Adds --no-rc-file tests,"[Test suite] Adds --no-rc-file tests
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1464229308,1464229308,b0c0242054cd8832052c98d84b52fdfc68d6b5f6
b0c0242054cd8832052c98d84b52fdfc68d6b5f6,b0c02420,[Test suite] Add a couple of tests for --no-home-dir,"[Test suite] Add a couple of tests for --no-home-dir
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1464186666,1464186666,16dd3f4d32b13bb19adb11ecd5d08035d41d144b
16dd3f4d32b13bb19adb11ecd5d08035d41d144b,16dd3f4d,[Test suite] Adds libfiu test to emulate failure in set_sig_handlers(),"[Test suite] Adds libfiu test to emulate failure in set_sig_handlers()
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1464145362,1464145362,71cea19f3d854150da1f3d1b6f675689d54d15d9
71cea19f3d854150da1f3d1b6f675689d54d15d9,71cea19f,[Server] Respond to set signal handler failure with clean_exit,"[Server] Respond to set signal handler failure with clean_exit
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1464145221,1464145221,d593779ecf24bcd5be7c2213b66f30c149d73223
d593779ecf24bcd5be7c2213b66f30c149d73223,d593779e,Merge branch 'master' of https://github.com/mrash/fwknop,"Merge branch 'master' of https://github.com/mrash/fwknop
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1464141719,1464141719,"08c6a9d4e2daae41071752a96ff6933b8813eb76,db1cdd2fea63d616a14ba0cf76df478966df5e3d"
08c6a9d4e2daae41071752a96ff6933b8813eb76,08c6a9d4,[test suite] trigger a couple of -p errors for code coverage,"[test suite] trigger a couple of -p errors for code coverage
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1464141658,1464141658,4122199139462b8be28a2acd4a0080b14fc05bfc
db1cdd2fea63d616a14ba0cf76df478966df5e3d,db1cdd2f,[Server] Moves signal handling code to earlier in fwknopd initialization,"[Server] Moves signal handling code to earlier in fwknopd initialization

Also serves to de-duplicate code slightly
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1464140771,1464140920,4122199139462b8be28a2acd4a0080b14fc05bfc
4122199139462b8be28a2acd4a0080b14fc05bfc,41221991,[test suite] apply server output criteria in fault injection tests,"[test suite] apply server output criteria in fault injection tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1464140583,1464140583,270d8bea624c9e8aecbd23fe52e47cc407c032c5
270d8bea624c9e8aecbd23fe52e47cc407c032c5,270d8bea,[test suite] fault injection test for build_cmd() error path,"[test suite] fault injection test for build_cmd() error path
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1464140444,1464140444,5194b4b69a1b0bb4cf35fd69473f049f324e28f3
5194b4b69a1b0bb4cf35fd69473f049f324e28f3,5194b4b6,[test suite] minor test addition for sudo exec groups and code coverage,"[test suite] minor test addition for sudo exec groups and code coverage
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1464056680,1464056680,d329b6ab39d632a45d816f60a3994abdd4895dd7
d329b6ab39d632a45d816f60a3994abdd4895dd7,d329b6ab,[Test suite] Adds workaround for Openssl not yet supporting SHA3 hmac,"[Test suite] Adds workaround for Openssl not yet supporting SHA3 hmac
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1463975161,1463975161,04b80c2cb2a165c5095db0c40e3964f47af730e5
04b80c2cb2a165c5095db0c40e3964f47af730e5,04b80c2c,Merge pull request #220 from oneru/rerun-failed,"Merge pull request #220 from oneru/rerun-failed

[Test suite] Adds rerun-failed mode",,,,Michael Rash,michael.rash@gmail.com,Michael Rash,michael.rash@gmail.com,1463967959,1463967959,"231cca538d827401ec8c7dd23c7fafb4ab8b35e1,5f6b339868b8a9854ef641b7c1da88a530aa8a45"
5f6b339868b8a9854ef641b7c1da88a530aa8a45,5f6b3398,[Test suite] Adds rerun-failed mode,"[Test suite] Adds rerun-failed mode
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1463850582,1463933588,a3adca69e1026870072ea845b971cd44d83f5a9e
231cca538d827401ec8c7dd23c7fafb4ab8b35e1,231cca53,[test suite] add missing config files for HMAC SHA3_256 tests,"[test suite] add missing config files for HMAC SHA3_256 tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1463879040,1463879040,a3adca69e1026870072ea845b971cd44d83f5a9e
a3adca69e1026870072ea845b971cd44d83f5a9e,a3adca69,[test suite] add HMAC SHA3_256 complete cycle test,"[test suite] add HMAC SHA3_256 complete cycle test
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1463836726,1463836726,05ede9fe0da74e61a76a533ccff3c74f00e47157
05ede9fe0da74e61a76a533ccff3c74f00e47157,05ede9fe,[server] minor printf() -> log_msg() update,"[server] minor printf() -> log_msg() update
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1463836648,1463836648,ab599631ed5a9aa63efbb4ce6b2339556158a8c0
ab599631ed5a9aa63efbb4ce6b2339556158a8c0,ab599631,Adds valgrind supression for libfaketime,"Adds valgrind supression for libfaketime
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1463798526,1463798566,55b9eac37c337c33e8aff2451afc35e3eb396978
55b9eac37c337c33e8aff2451afc35e3eb396978,55b9eac3,Test Suite: tweak a test to avoid --verbose in client call,"Test Suite: tweak a test to avoid --verbose in client call
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1463798443,1463798566,ce0def7e1897ea63626dd612fca7819d31023336
ce0def7e1897ea63626dd612fca7819d31023336,ce0def7e,Client: Only dump SPA data twice when --test and --verbose are used,"Client: Only dump SPA data twice when --test and --verbose are used
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1463798375,1463798566,09fcad0f045a0e9140150a6c28a216125775c2f9
09fcad0f045a0e9140150a6c28a216125775c2f9,09fcad0f,[test suite] add HMAC_SHA3_512 test,"[test suite] add HMAC_SHA3_512 test
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1463795120,1463795120,ae15e00f0b801c052b5f7dd954b7dd2c541fc7a9
ae15e00f0b801c052b5f7dd954b7dd2c541fc7a9,ae15e00f,[server] minor change to set default timeout,"[server] minor change to set default timeout
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1463794972,1463794972,a4273d362774fd17c524c5e4e3369c4d2ee39170
a4273d362774fd17c524c5e4e3369c4d2ee39170,a4273d36,Server:  Add extra check for failing firewall cmd,"Server:  Add extra check for failing firewall cmd
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1463718301,1463718301,33d4cd3ce4535b88dfa6da2b462ef9c90d9bbc56
33d4cd3ce4535b88dfa6da2b462ef9c90d9bbc56,33d4cd3c,Test suite: Make timeout for rule expiration a loop.,"Test suite: Make timeout for rule expiration a loop.
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1463718205,1463718205,1d5fc8498f269d566da2894df90295652adc74ec
1d5fc8498f269d566da2894df90295652adc74ec,1d5fc849,[test suite] add HMAC include_keys_file() test,"[test suite] add HMAC include_keys_file() test
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1463712099,1463712099,6d663dd15c4fac231ca4bfae0a1616155fa3dd00
6d663dd15c4fac231ca4bfae0a1616155fa3dd00,6d663dd1,Test suite: Add missed curly bracket,"Test suite: Add missed curly bracket
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1463688438,1463688438,bbaf57b66ecb2f2a32c27dad2b4786772b3f84b4
bbaf57b66ecb2f2a32c27dad2b4786772b3f84b4,bbaf57b6,"Test suite:  Adds timeout for generic_exec, prevents indefinite test suite hangs","Test suite:  Adds timeout for generic_exec, prevents indefinite test suite hangs
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1463684748,1463684748,5b2c29e46c9d6c019a3c6f994fb4785d9af200d8
5b2c29e46c9d6c019a3c6f994fb4785d9af200d8,5b2c29e4,Test suite: Fixes hmac verification for tests with multiple hmac keys,"Test suite: Fixes hmac verification for tests with multiple hmac keys
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1463684664,1463684664,2c6396df5c1ff9287498d85b8504699e3f905258
2c6396df5c1ff9287498d85b8504699e3f905258,2c6396df,Test suite: More timing tweaks,"Test suite: More timing tweaks
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1463684595,1463684595,7bcd9f77934b58ac7314b72a474456c8dc578bde
7bcd9f77934b58ac7314b72a474456c8dc578bde,7bcd9f77,Server: Allow more time for server shutdown,"Server: Allow more time for server shutdown
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1463683812,1463683812,a63b92e07c3f27e7312a3761ab5e69e3b264dd83
a63b92e07c3f27e7312a3761ab5e69e3b264dd83,a63b92e0,"test suite: When getting spa packet from log, get the last one","test suite: When getting spa packet from log, get the last one
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1463630106,1463630106,e46938d5d12786e7e2322d8a7022ad30aad12259
e46938d5d12786e7e2322d8a7022ad30aad12259,e46938d5,[test suite] additional code coverage tests for include_keys_file(),"[test suite] additional code coverage tests for include_keys_file()
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1463534463,1463534463,f8273783da7eee03ba61fa6c4793a30e10b951d6
f8273783da7eee03ba61fa6c4793a30e10b951d6,f8273783,Test suite: Improve error handling for non-existant log files,"Test suite: Improve error handling for non-existant log files
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1463494331,1463494331,833447388763b09fc7f3ef2d3cfd9972f005649f
833447388763b09fc7f3ef2d3cfd9972f005649f,83344738,Merge pull request #219 from oneru/test-suite,Merge pull request #219 from oneru/test-suite,,,,Michael Rash,michael.rash@gmail.com,Michael Rash,michael.rash@gmail.com,1463282357,1463282357,"e5cfd5df191aa93623ab4237e54fca99d7663595,ef72883f8e2fcee9c344ca3f697ef17c3d2e50e7"
ef72883f8e2fcee9c344ca3f697ef17c3d2e50e7,ef72883f,test suite: update test to search for correct failure message,"test suite: update test to search for correct failure message
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1463205540,1463205540,f50b5c6e9941b5e383e5aa4b5dd5bad040f98afd
f50b5c6e9941b5e383e5aa4b5dd5bad040f98afd,f50b5c6e,Tightens nat access validation in client,"Tightens nat access validation in client
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1463204825,1463204825,66eedd4f7faca69ee8cec065189b3e11beeeef2b
e5cfd5df191aa93623ab4237e54fca99d7663595,e5cfd5df,[libfko] minor memset to zero update for SHA3 digest tmp buf,"[libfko] minor memset to zero update for SHA3 digest tmp buf
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1463157609,1463157609,be3c356661507dc5d6dea152a8f8342e4ce0d387
be3c356661507dc5d6dea152a8f8342e4ce0d387,be3c3566,[libfko] account for SHA3_256 and SHA3_512 digest lengths matching SHA256 and SHA512,"[libfko] account for SHA3_256 and SHA3_512 digest lengths matching SHA256 and SHA512
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1463156706,1463156706,975093c546d15896830c2aaf8205c58099fd16d9
975093c546d15896830c2aaf8205c58099fd16d9,975093c5,minor sha3_256 string conversion bug fix,"minor sha3_256 string conversion bug fix
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1463155453,1463155453,4707c4f3c3def66051b14c15720faa0cbbb96c62
4707c4f3c3def66051b14c15720faa0cbbb96c62,4707c4f3,[test suite] add SHA3_512 test for the client,"[test suite] add SHA3_512 test for the client
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1463116448,1463116448,b75c29b5a4776172d883d6eb1eb73daf28a92ce0
b75c29b5a4776172d883d6eb1eb73daf28a92ce0,b75c29b5,SHA3 ChangeLog update,"SHA3 ChangeLog update
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1463030514,1463030514,fe3d6b8cd763225057373f7e8881c404c4e2d5f8
fe3d6b8cd763225057373f7e8881c404c4e2d5f8,fe3d6b8c,ChangeLog updates,"ChangeLog updates
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1463029858,1463029858,272cd05dc64cba835aa66ca79a1f65e3dea180a0
272cd05dc64cba835aa66ca79a1f65e3dea180a0,272cd05d,Merge branch 'master' of https://github.com/mrash/fwknop,"Merge branch 'master' of https://github.com/mrash/fwknop
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1463029535,1463029535,"60a9cc203b330190a922169c4c31b4fd087aede2,dd319d5609088c6404f22235b04e328fd34b02e7"
dd319d5609088c6404f22235b04e328fd34b02e7,dd319d56,Merge pull request #218 from oneru/test-suite,"Merge pull request #218 from oneru/test-suite

Test suite: Adds workaround for tcp server test",,,,Michael Rash,michael.rash@gmail.com,Michael Rash,michael.rash@gmail.com,1463105129,1463105129,"7c84cadd430a3fefc70f929f77421c205aed0b17,66eedd4f7faca69ee8cec065189b3e11beeeef2b"
60a9cc203b330190a922169c4c31b4fd087aede2,60a9cc20,Merge branch 'master' of ssh://192.168.10.1/home/mbr/git/fwknop,"Merge branch 'master' of ssh://192.168.10.1/home/mbr/git/fwknop
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1463029520,1463029520,"c3489508414b3c3874e92e222a13765e436fd6c7,ba5f5e2424b854ffde8e4232bdfce15743d0aefc"
ba5f5e2424b854ffde8e4232bdfce15743d0aefc,ba5f5e24,add sha3_256 sha3_512 to man page docs,"add sha3_256 sha3_512 to man page docs
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1463106234,1463106234,d4ec9a0755e147563601146d92d4ac133d74dc94
66eedd4f7faca69ee8cec065189b3e11beeeef2b,66eedd4f,Test suite: Adds workaround for tcp server test,"Test suite: Adds workaround for tcp server test
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1463013108,1463013108,c3489508414b3c3874e92e222a13765e436fd6c7
7c84cadd430a3fefc70f929f77421c205aed0b17,7c84cadd,Added missing parens on if statement (was causing compiler error on fw_util_iptables).,"Added missing parens on if statement (was causing compiler error on fw_util_iptables).
",,,,Damien Stuart,dstuart@dstuart.org,Damien Stuart,dstuart@dstuart.org,1462934591,1462934591,c3489508414b3c3874e92e222a13765e436fd6c7
c3489508414b3c3874e92e222a13765e436fd6c7,c3489508,test suite: Adds another precise_sleep() to avoid race condition,"test suite: Adds another precise_sleep() to avoid race condition
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1462761937,1462761937,23d70f1aa3cb27d5396a40c03a1772c08f2ef82b
23d70f1aa3cb27d5396a40c03a1772c08f2ef82b,23d70f1a,Merge pull request #216 from oneru/add-nat-validation,"Merge pull request #216 from oneru/add-nat-validation

Add nat validation",,,,Michael Rash,michael.rash@gmail.com,Michael Rash,michael.rash@gmail.com,1462758793,1462758793,"08b63e79a35f49d54319b4c697e23b996e2cf3a3,b088030ad581446a81d8d1f46ee51af6a306f9b2"
08b63e79a35f49d54319b4c697e23b996e2cf3a3,08b63e79,Merge pull request #217 from oneru/test-suite,"Merge pull request #217 from oneru/test-suite

test suite: add delay loops to tolerate timing variations",,,,Michael Rash,michael.rash@gmail.com,Michael Rash,michael.rash@gmail.com,1462758783,1462758783,"b517fdad44d0818960c67912781d4dd15da6e7f5,ae442641b1152cb7310d6f367abdaa12d14d4f21"
ae442641b1152cb7310d6f367abdaa12d14d4f21,ae442641,test suite: add delay loops to tolerate timing variations,"test suite: add delay loops to tolerate timing variations
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1462725232,1462725798,b517fdad44d0818960c67912781d4dd15da6e7f5
b517fdad44d0818960c67912781d4dd15da6e7f5,b517fdad,Add checks to avoid calling strlen on a null pointer,"Add checks to avoid calling strlen on a null pointer
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1462686105,1462686105,7b11166260a10b14d1d0c0c889e146e6a20bb026
b088030ad581446a81d8d1f46ee51af6a306f9b2,b088030a,Adds hostname validation for hostname in NAT on server,"Adds hostname validation for hostname in NAT on server
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1462679299,1462681261,ddc422125ff4b15fb916122c0ed0c6416dd47aa1
ddc422125ff4b15fb916122c0ed0c6416dd47aa1,ddc42212,"Style changes, and avoid returning undefined value in fw_util functions","Style changes, and avoid returning undefined value in fw_util functions
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1462678374,1462678599,7b11166260a10b14d1d0c0c889e146e6a20bb026
7b11166260a10b14d1d0c0c889e146e6a20bb026,7b111662,Fix bogus NAT IP tests,"Fix bogus NAT IP tests
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1462676550,1462676550,fc1a436ff5086d002c500d06858001aa061b5e4a
fc1a436ff5086d002c500d06858001aa061b5e4a,fc1a436f,Adds the is_valid_hostname() c-unit-tests,"Adds the is_valid_hostname() c-unit-tests
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1462676212,1462676388,65e0c4abd6fb79d1e0cefe6e182e4dde0b5d98b6
65e0c4abd6fb79d1e0cefe6e182e4dde0b5d98b6,65e0c4ab,Add is_valid_hostname(),"Add is_valid_hostname()
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1462676169,1462676388,5f80a1ae33125d927146e9d727ddf9974f682fd7
5f80a1ae33125d927146e9d727ddf9974f682fd7,5f80a1ae,Adds is_valid_ipv4_addr() c-unit tests,"Adds is_valid_ipv4_addr() c-unit tests
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1462673924,1462676388,dc9ad5de4ad1eee2b75cbdf9bc187cdd193217f3
dc9ad5de4ad1eee2b75cbdf9bc187cdd193217f3,dc9ad5de,Adds a length modifier to is_valid_ipv4_addr,"Adds a length modifier to is_valid_ipv4_addr
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1462673754,1462676388,d4ec9a0755e147563601146d92d4ac133d74dc94
d4ec9a0755e147563601146d92d4ac133d74dc94,d4ec9a07,remove execute bit from file permissions,"remove execute bit from file permissions
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1462626870,1462626870,194b83e89f7b84fe493ba485ceefde9a2e3cfbee
194b83e89f7b84fe493ba485ceefde9a2e3cfbee,194b83e8,Test suite: Catch Valgrind output even when less than 10 bytes lost,"Test suite: Catch Valgrind output even when less than 10 bytes lost
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1462540476,1462540476,35db922853d2aa604238c0dcc7f34c35747de676
35db922853d2aa604238c0dcc7f34c35747de676,35db9228,"Fix memory leak in free_last_stanza, found using asan","Fix memory leak in free_last_stanza, found using asan
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1462506771,1462506771,c6e95820a4ce0721d67df75e13d69af27390fd1e
c6e95820a4ce0721d67df75e13d69af27390fd1e,c6e95820,Add tests for include_keys,"Add tests for include_keys
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1462472795,1462472795,581a9638c6513cc0c2805b3e1cc5e08fde6dc650
581a9638c6513cc0c2805b3e1cc5e08fde6dc650,581a9638,Add handling for colon in include_keys,"Add handling for colon in include_keys
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1462472429,1462472429,09cd5791007731f495ab1e1a6dce2d066d83e61c
09cd5791007731f495ab1e1a6dce2d066d83e61c,09cd5791,Fix include_keys log output,"Fix include_keys log output
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1462472401,1462472401,4eec3bd0c22b4718837e6c0e21d316d51f57be02
4eec3bd0c22b4718837e6c0e21d316d51f57be02,4eec3bd0,Test suite: Change sleep_cycle in fw_check to sleep for half seconds,"Test suite: Change sleep_cycle in fw_check to sleep for half seconds
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1462290454,1462290454,afe1cd47b0d13da77411579320d1c2cd1b68bb2f
afe1cd47b0d13da77411579320d1c2cd1b68bb2f,afe1cd47,Add the precise_sleep() function to the test suite,"Add the precise_sleep() function to the test suite
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1462290383,1462290383,58bce15b1e08b8f940b0e8a7a3dc1fdd416f643d
58bce15b1e08b8f940b0e8a7a3dc1fdd416f643d,58bce15b,Exclude the CUnit tests themselves from lcov,"Exclude the CUnit tests themselves from lcov
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1462213023,1462213023,f0ca6fc4b2c25d056d8d13f2ccfd003586720fe0
f0ca6fc4b2c25d056d8d13f2ccfd003586720fe0,f0ca6fc4,Adds linking order magic to fix compiling CUint and libfiu together,"Adds linking order magic to fix compiling CUint and libfiu together
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1462207209,1462207209,cb6dcc3d0c79cc8072b4cc483972367761b090d0
cb6dcc3d0c79cc8072b4cc483972367761b090d0,cb6dcc3d,Merge pull request #214 from oneru/cunit-in-test-suite,"Merge pull request #214 from oneru/cunit-in-test-suite

Cunit in test suite",,,,Michael Rash,michael.rash@gmail.com,Michael Rash,michael.rash@gmail.com,1462154920,1462154920,"163176be7cb27c24d09c639b66c5bc321a1d961e,da4e713ac3c9ee6673a6235500f87b19b4be1eb9"
da4e713ac3c9ee6673a6235500f87b19b4be1eb9,da4e713a,Adds the c_unit tests to the perl test suite,"Adds the c_unit tests to the perl test suite
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1462134522,1462134522,a7905f56cb5af07da9594e512addd7e1ad6c57bb
a7905f56cb5af07da9594e512addd7e1ad6c57bb,a7905f56,Modifies c_unit compilation to avoid static linking.,"Modifies c_unit compilation to avoid static linking.
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1462133816,1462133816,163176be7cb27c24d09c639b66c5bc321a1d961e
163176be7cb27c24d09c639b66c5bc321a1d961e,163176be,[test suite] increase client timeout args for '-f client timeout' test (@oneru),"[test suite] increase client timeout args for '-f client timeout' test (@oneru)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1462113303,1462113303,d462b025c385537ff0c9107cd3dc7aa32288b209
d462b025c385537ff0c9107cd3dc7aa32288b209,d462b025,[test suite] fix sudo tests (localhost -> ALL) from @oneru,"[test suite] fix sudo tests (localhost -> ALL) from @oneru
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1462023396,1462023396,e7f039699cfe421a0687a874c46193283f30a052
e7f039699cfe421a0687a874c46193283f30a052,e7f03969,[test suite] fix 'FORCE_SNAT and 0.0.0.0' test (@oneru),"[test suite] fix 'FORCE_SNAT and 0.0.0.0' test (@oneru)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1462023209,1462023209,f42aeb39dc1771ab69987296ab9d17754a71a5f1
f42aeb39dc1771ab69987296ab9d17754a71a5f1,f42aeb39,[server] make sure exp buffer does not contain closing '*' chars (from @oneru),"[server] make sure exp buffer does not contain closing '*' chars (from @oneru)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1462022827,1462022827,a554f0d685af880ee48fcdad317519eafebc7c1e
a554f0d685af880ee48fcdad317519eafebc7c1e,a554f0d6,Disable ipv6 dns resolution in the client,"Disable ipv6 dns resolution in the client
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1461552673,1461552673,c5043e0a3e1ba9509e0bf93a522cc3e90eff7649
c5043e0a3e1ba9509e0bf93a522cc3e90eff7649,c5043e0a,"When --fw-flush is specified, set enable_fw to true","When --fw-flush is specified, set enable_fw to true
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1461474635,1461474635,4374948ca66996c38d64bdc11e2d1c16950aa6d7
4374948ca66996c38d64bdc11e2d1c16950aa6d7,4374948c,Merge pull request #212 from oneru/master,"Merge pull request #212 from oneru/master

Assorted test suite related fixes",,,,Michael Rash,michael.rash@gmail.com,Michael Rash,michael.rash@gmail.com,1461111268,1461111268,"9d92f65a0386238d300b11bd412fb3da9456a806,94b33e0ba1d41a75417a3c1f99f946f2de049808"
94b33e0ba1d41a75417a3c1f99f946f2de049808,94b33e0b,Increases a delay value in the test suite,"Increases a delay value in the test suite

The test suite was consistently showing the ""exit upon down interface"" as failing.
The 1 second delay was not enough time for my machine to completely close fwknopd, resulting in the false positive.
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1461095283,1461095283,aa0d92637638503f0fa302a73db12aaa359d9d9c
aa0d92637638503f0fa302a73db12aaa359d9d9c,aa0d9263,Removes non-ascii characters from sha3.c,"Removes non-ascii characters from sha3.c

Opted to simply remove the umlat from the author's name, and spelled out the greek letters that were in the comments.
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1461093291,1461093291,9d92f65a0386238d300b11bd412fb3da9456a806
9d92f65a0386238d300b11bd412fb3da9456a806,9d92f65a,[test suite] add test for X-Fowarded-For header,"[test suite] add test for X-Fowarded-For header
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1460817624,1460817624,84d4128812d147ab0667834d1c72ec4117fb438c
84d4128812d147ab0667834d1c72ec4117fb438c,84d41288,[test suite] exclude test/fko-wrapper/* from code coverage stats (we want…,"[test suite] exclude test/fko-wrapper/* from code coverage stats (we want coverage for the client/server/lib code)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1460767036,1460767036,0637b6fbeeeb2b6f65391c1f8cee4393bd9befef
0637b6fbeeeb2b6f65391c1f8cee4393bd9befef,0637b6fb,[perl] allow for SHA3 block length,"[perl] allow for SHA3 block length
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1460514270,1460514270,f648fca6a25677f81f35af2f6bd9843f46f7147b
f648fca6a25677f81f35af2f6bd9843f46f7147b,f648fca6,[test suite] apply loopback interface to invalid pcap filter test,"[test suite] apply loopback interface to invalid pcap filter test
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1460422049,1460422049,6449ce2eb3d9a27030bc6d4c71a8e6a20e1ea0ff
6449ce2eb3d9a27030bc6d4c71a8e6a20e1ea0ff,6449ce2e,Merge pull request #210 from oneru/master,"Merge pull request #210 from oneru/master

Adds more Doxygen documentation in preparation for 2.6.9",,,,Michael Rash,michael.rash@gmail.com,Michael Rash,michael.rash@gmail.com,1460417923,1460417923,"713e127270b83f16b68dddfec9538c9bd16e67a5,23e4fd6a2b8d925fb257aabfb6636038f2097191"
23e4fd6a2b8d925fb257aabfb6636038f2097191,23e4fd6a,Adds more Doxygen documentation in preparation for 2.6.9,"Adds more Doxygen documentation in preparation for 2.6.9
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1460392120,1460392120,e357b04ff5be95b7c9c4d8c35baa05e96df20fc8
713e127270b83f16b68dddfec9538c9bd16e67a5,713e1272,Merge pull request #209 from oneru/master,"Merge pull request #209 from oneru/master

Corrects a problem where the NAT Access string was incorrectly set",,,,Michael Rash,michael.rash@gmail.com,Michael Rash,michael.rash@gmail.com,1460335219,1460335219,"6436235baf1001bf61382ac43739f759e6c42a98,e357b04ff5be95b7c9c4d8c35baa05e96df20fc8"
e357b04ff5be95b7c9c4d8c35baa05e96df20fc8,e357b04f,Corrects a problem where the NAT Access string was incorrectly set in some cases,"Corrects a problem where the NAT Access string was incorrectly set in some cases
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1460325998,1460325998,6436235baf1001bf61382ac43739f759e6c42a98
6436235baf1001bf61382ac43739f759e6c42a98,6436235b,client man page update,"client man page update
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1460318519,1460318519,5e7871c9c6a39a218bbac1f74c51cd4db51ab21d
5e7871c9c6a39a218bbac1f74c51cd4db51ab21d,5e7871c9,Merge pull request #208 from oneru/master,Merge pull request #208 from oneru/master,,,,Michael Rash,michael.rash@gmail.com,Michael Rash,michael.rash@gmail.com,1460309446,1460309446,"d5c298906114437dac7b796c15be141a15b96b27,d939deb811c41bcf55e381b7b80228fb7af017d1"
d939deb811c41bcf55e381b7b80228fb7af017d1,d939deb8,"Spelling corrections, found using the codespell tool.","Spelling corrections, found using the codespell tool.
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1460307741,1460307839,09177554bf39daf5f146659e621d8b393aee8445
d5c298906114437dac7b796c15be141a15b96b27,d5c29890,[test suite] restrict -f server instance to loopback interface,"[test suite] restrict -f server instance to loopback interface
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1460301314,1460301314,03911aecd3f758dd319fda705899622713d71f28
03911aecd3f758dd319fda705899622713d71f28,03911aec,Merge pull request #206 from oneru/master,"Merge pull request #206 from oneru/master

Adds configuration option for X-Forwarded-For",,,,Michael Rash,michael.rash@gmail.com,Michael Rash,michael.rash@gmail.com,1460251148,1460251148,"eb94f19d8fcf4f255c867bb497d846f0218d1de3,09177554bf39daf5f146659e621d8b393aee8445"
eb94f19d8fcf4f255c867bb497d846f0218d1de3,eb94f19d,"[client] add --no-home-dir and --no-rc-file, closes #203","[client] add --no-home-dir and --no-rc-file, closes #203
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1460251030,1460251030,44b040b470162b677c7a2d12ed7e8f2f2aabfd37
09177554bf39daf5f146659e621d8b393aee8445,09177554,Adds configuration option for X-Forwarded-For,"Adds configuration option for X-Forwarded-For
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1460217796,1460217796,9d0e12a313604cb149ccc2d33aee5878dd25427e
44b040b470162b677c7a2d12ed7e8f2f2aabfd37,44b040b4,Merge pull request #205 from oneru/master,"Merge pull request #205 from oneru/master

Adds option to insert new FW rules to top of chain",,,,Michael Rash,michael.rash@gmail.com,Michael Rash,michael.rash@gmail.com,1460169962,1460169962,"17dd9de06f13b3ba8936dd785cbb8c1f3d0996c7,9d0e12a313604cb149ccc2d33aee5878dd25427e"
9d0e12a313604cb149ccc2d33aee5878dd25427e,9d0e12a3,Adds option to insert new FW rules to top of chain,"Adds option to insert new FW rules to top of chain
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1460165794,1460169430,17dd9de06f13b3ba8936dd785cbb8c1f3d0996c7
17dd9de06f13b3ba8936dd785cbb8c1f3d0996c7,17dd9de0,Merge branch 'master' of ssh://github.com/mrash/fwknop,"Merge branch 'master' of ssh://github.com/mrash/fwknop
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1456541022,1456541022,"5c00c422fff369b1627427899a9fa9ff0381a239,342983f94c700e7dcbf85b1b7a67572443c4ae99"
5c00c422fff369b1627427899a9fa9ff0381a239,5c00c422,Merge branch 'master' of ssh://moria/home/mbr/git/fwknop,"Merge branch 'master' of ssh://moria/home/mbr/git/fwknop
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1456540967,1456540967,"deed691c4ea9ae397e3939eac50acf8c4a7267be,c5c58ee6a57c5d8a2418ea78c6d8f08cddf1c282"
c5c58ee6a57c5d8a2418ea78c6d8f08cddf1c282,c5c58ee6,[server] bug fix for cmd open/close cycle to stop access.conf processing upon…,"[server] bug fix for cmd open/close cycle to stop access.conf processing upon first successful match
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1456537987,1456537987,06e42a3cfa8d54efc3a164449b118bb8883b219f
342983f94c700e7dcbf85b1b7a67572443c4ae99,342983f9,Merge pull request #202 from oneru/patch-1,"Merge pull request #202 from oneru/patch-1

Check for non-null pointer value",,,,Michael Rash,michael.rash@gmail.com,Michael Rash,michael.rash@gmail.com,1456198824,1456198824,"deed691c4ea9ae397e3939eac50acf8c4a7267be,8542655fd78ee9fcdf90706c720e37b84ec7b657"
8542655fd78ee9fcdf90706c720e37b84ec7b657,8542655f,Check for non-null pointer value,"Check for non-null pointer value

If a base64 encoded key is provided twice, add_acc_b64_string() was using malloc to allocate a second key value without first freeing the previous value.  This patch adds null checks, and frees the previous memory usage if needed.",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1456197983,1456197983,deed691c4ea9ae397e3939eac50acf8c4a7267be
deed691c4ea9ae397e3939eac50acf8c4a7267be,deed691c,Merge branch 'master' of ssh://github.com/mrash/fwknop,"Merge branch 'master' of ssh://github.com/mrash/fwknop
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1456106151,1456106151,"44d7f4850593cebeefa579114396c451cd9aa47e,55b42a0ebbf418852281d58c5f4ec6da19aea8ee"
44d7f4850593cebeefa579114396c451cd9aa47e,44d7f485,Merge branch 'master' of ssh://moria/home/mbr/git/fwknop,"Merge branch 'master' of ssh://moria/home/mbr/git/fwknop
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1456106092,1456106092,"0980567c4adcdca21276d03f901c7d83a12a924b,06e42a3cfa8d54efc3a164449b118bb8883b219f"
06e42a3cfa8d54efc3a164449b118bb8883b219f,06e42a3c,[test suite] first test for include_keys functionality,"[test suite] first test for include_keys functionality
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1456084241,1456084241,e3c6f87f049f2e9e5b48dc7b2d513f1a0390ef3d
55b42a0ebbf418852281d58c5f4ec6da19aea8ee,55b42a0e,Merge pull request #201 from zarkdav/master,"Merge pull request #201 from zarkdav/master

Fix client/Makefile.am to work with libtool 2.4.6 from Cygwin",,,,Michael Rash,michael.rash@gmail.com,Michael Rash,michael.rash@gmail.com,1455463488,1455463488,"0980567c4adcdca21276d03f901c7d83a12a924b,fac10925d1c2df87b5c23b46c3476eec1b0329a1"
fac10925d1c2df87b5c23b46c3476eec1b0329a1,fac10925,Fix client/Makefile.am to work with libtool 2.4.6 from Cygwin,"Fix client/Makefile.am to work with libtool 2.4.6 from Cygwin
",,,,Benjamin Ryzman,benjamin.ryzman@intercloud.fr,Benjamin Ryzman,benjamin.ryzman@intercloud.fr,1455445781,1455445781,0980567c4adcdca21276d03f901c7d83a12a924b
0980567c4adcdca21276d03f901c7d83a12a924b,0980567c,Merge pull request #199 from alteman/patch-1,Merge pull request #199 from alteman/patch-1,,,,Michael Rash,michael.rash@gmail.com,Michael Rash,michael.rash@gmail.com,1454561423,1454561423,"69070666a953928f440ac3dc174260e8f7dc99ea,4855202c98d4f448cc919b8429955b114faee228"
4855202c98d4f448cc919b8429955b114faee228,4855202c,Fix Ubuntu AppArmor regression,"Fix Ubuntu AppArmor regression

Error: 
$ sudo fwknopd -f -c /etc/fwknop/fwknopd.conf 
Starting fwknopd
Added jump rule from chain: INPUT to chain: FWKNOP_INPUT
iptables 'comment' match is available
Sniffing interface: ppp0
[*] pcap_open_live() error: ppp0: You don't have permission to capture on that device (socket: Permission denied)

Syslog:

[...] kernel: [...] type=1400 audit([...]): apparmor=""DENIED"" operation=""create"" profile=""/usr/sbin/fwknopd"" pid=[...] comm=""fwknopd"" family=""packet"" sock_type=""dgram"" protocol=768",,,,alteman,kirill.novichikhin+alteman@gmail.com,alteman,kirill.novichikhin+alteman@gmail.com,1454536539,1454536539,69070666a953928f440ac3dc174260e8f7dc99ea
69070666a953928f440ac3dc174260e8f7dc99ea,69070666,Merge branch 'master' of ssh://github.com/mrash/fwknop,"Merge branch 'master' of ssh://github.com/mrash/fwknop
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1454175838,1454175838,"381e772d220fa70e841977fc34a02ddc52245825,6fc17e1eb41ccf3b845a9c19cf00623d1c6a5309"
381e772d220fa70e841977fc34a02ddc52245825,381e772d,minor typo fix,"minor typo fix
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1454175821,1454175821,f0b9b93b6a3793cb86ce078515a7ba01a9c1b645
6fc17e1eb41ccf3b845a9c19cf00623d1c6a5309,6fc17e1e,Merge pull request #197 from oneru/master,Merge pull request #197 from oneru/master,,,,Michael Rash,michael.rash@gmail.com,Michael Rash,michael.rash@gmail.com,1453561412,1453561412,"1fb4524e0769e98b0fb564e2998af3cb893b2e92,785152a364d57c05540f4b685b053603204b8b87"
785152a364d57c05540f4b685b053603204b8b87,785152a3,Modify server/access.c CUnit test to use the correct function.,"Modify server/access.c CUnit test to use the correct function.
add_port_list_ent() only supports one protocol/port entry at a time. The second entry was ignored.
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1453523856,1453523856,1fb4524e0769e98b0fb564e2998af3cb893b2e92
1fb4524e0769e98b0fb564e2998af3cb893b2e92,1fb4524e,Merge pull request #195 from oneru/mingw_Build_dll,Merge pull request #195 from oneru/mingw_Build_dll,,,,Michael Rash,michael.rash@gmail.com,Michael Rash,michael.rash@gmail.com,1453170536,1453170536,"f0b9b93b6a3793cb86ce078515a7ba01a9c1b645,8d901b10b027cfdd50f646ac4ea55a9bcb688f21"
f0b9b93b6a3793cb86ce078515a7ba01a9c1b645,f0b9b93b,[libfko] comment out SHA3 hash functions that we're not using,"[libfko] comment out SHA3 hash functions that we're not using
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1453164844,1453164844,e3c6f87f049f2e9e5b48dc7b2d513f1a0390ef3d
8d901b10b027cfdd50f646ac4ea55a9bcb688f21,8d901b10,"Add yet another Mingw fix, Fixes dll build","Add yet another Mingw fix, Fixes dll build
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1453163990,1453163990,e3c6f87f049f2e9e5b48dc7b2d513f1a0390ef3d
e3c6f87f049f2e9e5b48dc7b2d513f1a0390ef3d,e3c6f87f,[libfko] minor permissions update,"[libfko] minor permissions update
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1453066807,1453066807,0a037d35540bad74fc05101ad2bd4a556f1adf93
0a037d35540bad74fc05101ad2bd4a556f1adf93,0a037d35,[test suite] minor file existence check,"[test suite] minor file existence check
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1453064772,1453064772,4fc9d0566099930175a47a36891ca91ea7186fb4
4fc9d0566099930175a47a36891ca91ea7186fb4,4fc9d056,Tweaks for MINGW builds,"Tweaks for MINGW builds
",,,,Damien Stuart,dstuart@dstuart.org,Damien Stuart,dstuart@dstuart.org,1453054155,1453054155,e4fffdf44c8d3b036b987fe67295b7c8c5d0972b
e4fffdf44c8d3b036b987fe67295b7c8c5d0972b,e4fffdf4,Changes to fix the native Windows build.,"Changes to fix the native Windows build.
",,,,Damien Stuart,dstuart@dstuart.org,Damien Stuart,dstuart@dstuart.org,1453045551,1453045551,e76a7a82336c8805bf3dd2f3a26e8af075abdacb
e76a7a82336c8805bf3dd2f3a26e8af075abdacb,e76a7a82,Merge pull request #190 from oneru/include_keys,"Merge pull request #190 from oneru/include_keys

Include keys",,,,Michael Rash,michael.rash@gmail.com,Michael Rash,michael.rash@gmail.com,1452998100,1452998100,"97970dccb98cd14e2483c85f75ec94ecdf161471,32f35468f63059f3fa6192746282c22983250785"
97970dccb98cd14e2483c85f75ec94ecdf161471,97970dcc,"Added ""AM_CONDITIONAL(MINGW, false)"" before the host check section of configure.ac","Added ""AM_CONDITIONAL(MINGW, false)"" before the host check section of configure.ac
",,,,Damien Stuart,dstuart@dstuart.org,Damien Stuart,dstuart@dstuart.org,1452975159,1452975159,dbd5ae74864c74ced6b9b93dfcdb7fd95eadb7bb
dbd5ae74864c74ced6b9b93dfcdb7fd95eadb7bb,dbd5ae74,Merge pull request #193 from oneru/mingw32-fixes,Merge pull request #193 from oneru/mingw32-fixes,,,,Michael Rash,michael.rash@gmail.com,Michael Rash,michael.rash@gmail.com,1452899134,1452899134,"8bb46f96644fa6d6b08cb046abadf49ccd6419cf,c0ad75704e0424c4cafa0ee37595ee45c15aef3c"
c0ad75704e0424c4cafa0ee37595ee45c15aef3c,c0ad7570,Fixes to allow for MINGW32 compilation,"Fixes to allow for MINGW32 compilation
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1452842090,1452872577,8bb46f96644fa6d6b08cb046abadf49ccd6419cf
8bb46f96644fa6d6b08cb046abadf49ccd6419cf,8bb46f96,[extras] add scan-build wrapper for the CLANG static analyzer,"[extras] add scan-build wrapper for the CLANG static analyzer
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1452652962,1452652962,2451050a4c395912183cdddb71eea2a77daecb27
2451050a4c395912183cdddb71eea2a77daecb27,2451050a,Merge pull request #192 from oneru/hmac-hardening,"Merge pull request #192 from oneru/hmac-hardening

Hmac hardening",,,,Michael Rash,michael.rash@gmail.com,Michael Rash,michael.rash@gmail.com,1452604073,1452604073,"5e6530cc237e03ee18e4c0950afed7c01f1696af,17badb2b1d9cc13c2f4d35943e06164a1b9f10c3"
17badb2b1d9cc13c2f4d35943e06164a1b9f10c3,17badb2b,Change hmac functions to use calloc and check for null,"Change hmac functions to use calloc and check for null
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1452577704,1452579289,1d10b0e4c296cf758661332d5577b9ae364a2227
1d10b0e4c296cf758661332d5577b9ae364a2227,1d10b0e4,Add base64 test to fko.h,"Add base64 test to fko.h
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1452577675,1452577675,5e6530cc237e03ee18e4c0950afed7c01f1696af
5e6530cc237e03ee18e4c0950afed7c01f1696af,5e6530cc,[test suite] bug fix in lcov coverage generation to pull in _base and _info into the final result,"[test suite] bug fix in lcov coverage generation to pull in _base and _info into the final result
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1452568922,1452568922,1ace0ac547323d8f35d10160d11e9c7347420210
1ace0ac547323d8f35d10160d11e9c7347420210,1ace0ac5,[test suite] minor typo fix,"[test suite] minor typo fix
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1452568835,1452568835,fb7574e6bffb130281aba4cff86f22db01297440
fb7574e6bffb130281aba4cff86f22db01297440,fb7574e6,Merge pull request #191 from oneru/cleanups,"Merge pull request #191 from oneru/cleanups

Merge simplified HMAC implementation.",,,,Michael Rash,michael.rash@gmail.com,Michael Rash,michael.rash@gmail.com,1452568012,1452568012,"29411dea8ce5669e80d8fc133ae664017b234491,abd895c5229a0f7ed0a20badaef4f98782c1a945"
abd895c5229a0f7ed0a20badaef4f98782c1a945,abd895c5,Removes unused string from set_nat_access,"Removes unused string from set_nat_access
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1452492546,1452492706,108a669730d28fe2651f821438595f8bb44505fc
108a669730d28fe2651f821438595f8bb44505fc,108a6697,Update fko_wrapper to reflect SHA3 changing MAX_DIGEST_BLOCK_LEN,"Update fko_wrapper to reflect SHA3 changing MAX_DIGEST_BLOCK_LEN
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1452492249,1452492249,83961750b3826e2e9e4a8134ab0339467007f371
83961750b3826e2e9e4a8134ab0339467007f371,83961750,Add ifdef for mingw compilation,"Add ifdef for mingw compilation
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1452487687,1452487687,82faacfb8eb01f623cfa52b56695e1f3246f10b7
82faacfb8eb01f623cfa52b56695e1f3246f10b7,82faacfb,Add base64 CUnit tests,"Add base64 CUnit tests
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1451885094,1451885094,578cf501bed122cb5138027eb7ca2476d0c002a5
29411dea8ce5669e80d8fc133ae664017b234491,29411dea,Merge branch 'master' of ssh://github.com/mrash/fwknop,"Merge branch 'master' of ssh://github.com/mrash/fwknop
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1451828662,1451828662,"6247fe9e6a6e69edf6fd9b2dbe219610601e342f,efe2b207f077c8411be9fa0a356acd049941bbc5"
6247fe9e6a6e69edf6fd9b2dbe219610601e342f,6247fe9e,Merge remote-tracking branch 'origin/dstuart_netfilter_queue',"Merge remote-tracking branch 'origin/dstuart_netfilter_queue'
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1451827872,1451827872,"81419d8f0080eb874c2156e68498891adb0eb312,0d41b78d18e1bd2e92d7729e2707595cb10d5298"
578cf501bed122cb5138027eb7ca2476d0c002a5,578cf501,Add Doxygen documentation to lib/hmac.c functions,"Add Doxygen documentation to lib/hmac.c functions
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1451794443,1451794443,af7d9e8544df27865d88aa680586ec020b3f8f64
af7d9e8544df27865d88aa680586ec020b3f8f64,af7d9e85,Simplify hmac implementations,"Simplify hmac implementations
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1451793566,1451793566,a3e0d1cc1b6736a24321bb01ed6c3bbd15d3639f
a3e0d1cc1b6736a24321bb01ed6c3bbd15d3639f,a3e0d1cc,clean up whitespace problems,"clean up whitespace problems
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1451787492,1451787492,efe2b207f077c8411be9fa0a356acd049941bbc5
32f35468f63059f3fa6192746282c22983250785,32f35468,Add some documentation for the include directives,"Add some documentation for the include directives
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1451777330,1451777330,330663499fe16bb0162bd1262148c442b9afc8bc
330663499fe16bb0162bd1262148c442b9afc8bc,33066349,Allows an access stanza to be ignored when a problem is caused in an include_keys stanza,"Allows an access stanza to be ignored when a problem is caused in an include_keys stanza
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1451774538,1451774538,09b7fc94da59adb8cdc2571196c2b3255ae1fd98
09b7fc94da59adb8cdc2571196c2b3255ae1fd98,09b7fc94,Add %include_keys directive,"Add %include_keys directive
",,,,Jonathan Bennett,JBennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1451273671,1451757022,efe2b207f077c8411be9fa0a356acd049941bbc5
efe2b207f077c8411be9fa0a356acd049941bbc5,efe2b207,Merge pull request #189 from oneru/doxygen,"Merge pull request #189 from oneru/doxygen

Convert file headers to Doxygen format",,,,Michael Rash,michael.rash@gmail.com,Michael Rash,michael.rash@gmail.com,1451694954,1451694954,"40cef83794adb1a3687a12a018d10f1f4a02f347,9bb70fa17a93b3199d68cb6e6ff98e02d7dd6c0e"
40cef83794adb1a3687a12a018d10f1f4a02f347,40cef837,Merge pull request #188 from oneru/nat_dns,"Merge pull request #188 from oneru/nat_dns

Nat dns",,,,Michael Rash,michael.rash@gmail.com,Michael Rash,michael.rash@gmail.com,1451694945,1451694945,"81419d8f0080eb874c2156e68498891adb0eb312,dda7fa39c195fe0d3c470617d6a98598ce174c10"
9bb70fa17a93b3199d68cb6e6ff98e02d7dd6c0e,9bb70fa1,Add Doxygen headers for common files,"Add Doxygen headers for common files
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1451617337,1451617337,9475b625a064e202bda36e512ccb110323f0660f
9475b625a064e202bda36e512ccb110323f0660f,9475b625,Add Doxygen headers to client files,"Add Doxygen headers to client files
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1451614401,1451614401,3378ba24235c9e02bb6bca63dd76dbac0d0efcf2
3378ba24235c9e02bb6bca63dd76dbac0d0efcf2,3378ba24,Add Doxygen headers for server files,"Add Doxygen headers for server files
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1451614199,1451614199,ae5451dccc3a827f555ee749067be3f496238ce6
ae5451dccc3a827f555ee749067be3f496238ce6,ae5451dc,Doxygen headers for libfko files,"Doxygen headers for libfko files
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1451602583,1451613864,dda7fa39c195fe0d3c470617d6a98598ce174c10
dda7fa39c195fe0d3c470617d6a98598ce174c10,dda7fa39,Disable client side nat_dns,"Disable client side nat_dns
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1451589885,1451589885,669e448db5dfceaf7ec161d4236212b5e8dc22dd
669e448db5dfceaf7ec161d4236212b5e8dc22dd,669e448d,Add ENABLE_NAT_DNS config option,"Add ENABLE_NAT_DNS config option
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1451585155,1451585155,748803aef746c5ef551161e9f37e238e6886a508
748803aef746c5ef551161e9f37e238e6886a508,748803ae,Add length checks for nat_access messages,"Add length checks for nat_access messages
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1451533107,1451536841,bc55f0f21f4afee930f2c233699b38d01d9bdabe
bc55f0f21f4afee930f2c233699b38d01d9bdabe,bc55f0f2,Add count_characters and a CUnit test series for it.,"Add count_characters and a CUnit test series for it.
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1451527928,1451535298,56be13b3f67a4abf2cb307cf366a6450c0bbc8a9
56be13b3f67a4abf2cb307cf366a6450c0bbc8a9,56be13b3,Add dns resolution for nat access,"Add dns resolution for nat access
",,,,Jonathan Bennett,JBennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1451064000,1451535226,81419d8f0080eb874c2156e68498891adb0eb312
81419d8f0080eb874c2156e68498891adb0eb312,81419d8f,Merge pull request #183 from oneru/for-2.6.9,"Merge pull request #183 from oneru/for-2.6.9

For 2.6.9",,,,Michael Rash,michael.rash@gmail.com,Michael Rash,michael.rash@gmail.com,1451533360,1451533360,"fc1ef7f21fbd2359f22cdb146d953a5c7647192e,2edbc04bc7b5a5b3d5100c0f27bbbe4423d3ceda"
2edbc04bc7b5a5b3d5100c0f27bbbe4423d3ceda,2edbc04b,properly handle longer HMAC keys for hmac_sha384 and hmac_sha512,"properly handle longer HMAC keys for hmac_sha384 and hmac_sha512
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1450716549,1451507572,32a37f7e1fcf6d4aa7d42ce4c0c4ef85173c2f14
32a37f7e1fcf6d4aa7d42ce4c0c4ef85173c2f14,32a37f7e,Add CUnit tests for various crypto functions,"Add CUnit tests for various crypto functions
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1450715549,1451507572,d9f9cb8ad5943ec7d16725e797f20cb410466c8d
d9f9cb8ad5943ec7d16725e797f20cb410466c8d,d9f9cb8a,Add SHA3 and HMAC-SHA3 support,"Add SHA3 and HMAC-SHA3 support
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1450713372,1451507572,fc1ef7f21fbd2359f22cdb146d953a5c7647192e
fc1ef7f21fbd2359f22cdb146d953a5c7647192e,fc1ef7f2,Merge pull request #181 from vaygr/xff,"Merge pull request #181 from vaygr/xff

X-Forwarded-For HTTP header support",,,,Michael Rash,michael.rash@gmail.com,Michael Rash,michael.rash@gmail.com,1451440053,1451440053,"c41ccef2faad802d102708ebaa1fefd472aaff18,4a7411ba5730d152b044da5df7d60d0d903a2d7b"
c41ccef2faad802d102708ebaa1fefd472aaff18,c41ccef2,Merge pull request #185 from oneru/doxygen,"Merge pull request #185 from oneru/doxygen

Initial Doxygen config file and work on documenting libfko functions",,,,Michael Rash,michael.rash@gmail.com,Michael Rash,michael.rash@gmail.com,1451439801,1451439801,"e3ae6747d9bf9f80fec3419cd7b839e25bad854d,b661dee583fdc5f5f68a10a27e2217d5cd52440f"
b661dee583fdc5f5f68a10a27e2217d5cd52440f,b661dee5,Initial Doxygen config file and work on documenting libfko functions,"Initial Doxygen config file and work on documenting libfko functions
",,,,Jonathan Bennett,JBennett@incomsystems.biz,Jonathan Bennett,JBennett@incomsystems.biz,1451268578,1451432392,e3ae6747d9bf9f80fec3419cd7b839e25bad854d
e3ae6747d9bf9f80fec3419cd7b839e25bad854d,e3ae6747,doc updates,"doc updates
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1450991315,1450991315,31c6c9e997579cec238e3ad02b6aa41b41971609
31c6c9e997579cec238e3ad02b6aa41b41971609,31c6c9e9,changes since 2.6.7,"changes since 2.6.7
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1450899311,1450899311,a85b081f790fd9fec0613366f86c3530acbc8ddf
a85b081f790fd9fec0613366f86c3530acbc8ddf,a85b081f,copyright update,"copyright update
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1450899291,1450899291,22024febec51402f439851ad889185953c65235a
22024febec51402f439851ad889185953c65235a,22024feb,try to describe Jonathan's contributions in a better fashion,"try to describe Jonathan's contributions in a better fashion
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1450899222,1450899222,a0cac1bd1308b92adb46f5cebfb98369a8731bea
a0cac1bd1308b92adb46f5cebfb98369a8731bea,a0cac1bd,changes since 2.6.7,"changes since 2.6.7
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1450898581,1450898581,9c54d774f6bc5cdda5ea44ff2328b6004eda3526
9c54d774f6bc5cdda5ea44ff2328b6004eda3526,9c54d774,[docs] man page updates,"[docs] man page updates
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1450889237,1450889237,fcb0102d69e23128c85749f22547d98de3b9efad
fcb0102d69e23128c85749f22547d98de3b9efad,fcb0102d,[test suite] allow for different ordering of access.conf files in %include_folder directive,"[test suite] allow for different ordering of access.conf files in %include_folder directive
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1450886201,1450886201,e2925c1f857421c5c37a790790dd1de5a2b5392b
e2925c1f857421c5c37a790790dd1de5a2b5392b,e2925c1f,[libfko] bump version to 2.0.4 to account for fko_set_username() crash fix,"[libfko] bump version to 2.0.4 to account for fko_set_username() crash fix
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1450783747,1450783747,fb65fbe3aaf38cff7b398a0d277650a5446ec462
fb65fbe3aaf38cff7b398a0d277650a5446ec462,fb65fbe3,bump version to 2.6.8,"bump version to 2.6.8
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1450744248,1450744248,b7ccfc08ac285be6f8982e2a9af880e63dfd8b74
b7ccfc08ac285be6f8982e2a9af880e63dfd8b74,b7ccfc08,[server] fix minor dead code discovery made by Coverity,"[server] fix minor dead code discovery made by Coverity
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1450726754,1450726754,88907248f7406a9bce9463fff62eddb4651f73e6
88907248f7406a9bce9463fff62eddb4651f73e6,88907248,[extras] minor Coverity scan path update,"[extras] minor Coverity scan path update
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1450718983,1450718983,c2737ee9f477ea846cae03f4ee235b27608680bf
c2737ee9f477ea846cae03f4ee235b27608680bf,c2737ee9,[server] chop_char() handles file string length,"[server] chop_char() handles file string length
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1450685532,1450685532,2b881bc8eb77613586f4f801b4038f5aa21c5d8e
2b881bc8eb77613586f4f801b4038f5aa21c5d8e,2b881bc8,[server] chop_char() handles file string length,"[server] chop_char() handles file string length
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1450685455,1450685455,e7f18139626a283e2a8e178c63b5adfa073de1b5
0d41b78d18e1bd2e92d7729e2707595cb10d5298,0d41b78d,Merge branch 'master' into dstuart_netfilter_queue and resolved one conflict in cmd_opts.h,"Merge branch 'master' into dstuart_netfilter_queue and resolved one conflict in cmd_opts.h
",,,,Damien Stuart,dstuart@dstuart.org,Damien Stuart,dstuart@dstuart.org,1450674731,1450674731,"db28efae258a85d9afbb90b42ad8339f67eb75a6,dd2f4c2c3895ef41d91e1b655327a5afa4346947"
db28efae258a85d9afbb90b42ad8339f67eb75a6,db28efae,Added linking libnfnetlink. Tweaks to get NFQ working with firewalld.,"Added linking libnfnetlink. Tweaks to get NFQ working with firewalld.
",,,,Damien Stuart,dstuart@dstuart.org,Damien Stuart,dstuart@dstuart.org,1450673192,1450673192,ba611a2d2ce3d442bc35277f7260f0373f561b8d
ba611a2d2ce3d442bc35277f7260f0373f561b8d,ba611a2d,Many additions and modifications for support of capture via Netfilter Queue.,"Many additions and modifications for support of capture via Netfilter Queue.
",,,,Damien Stuart,dstuart@dstuart.org,Damien Stuart,dstuart@dstuart.org,1450666711,1450666711,d2cef1746cbf2730eadebb8721c6d4447e9ab7d0
e7f18139626a283e2a8e178c63b5adfa073de1b5,e7f18139,"[test suite] implement different access stanza init strategy, 'complete cycle,…","[test suite] implement different access stanza init strategy, 'complete cycle, include (3)' test passes now
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1450664262,1450664262,dd2f4c2c3895ef41d91e1b655327a5afa4346947
4a7411ba5730d152b044da5df7d60d0d903a2d7b,4a7411ba,1st implementation of X-Forwarded-For HTTP header support,"1st implementation of X-Forwarded-For HTTP header support
",,,,Vlad Glagolev,vaygr@users.noreply.github.com,Vlad Glagolev,vaygr@users.noreply.github.com,1450635571,1450635571,dd2f4c2c3895ef41d91e1b655327a5afa4346947
dd2f4c2c3895ef41d91e1b655327a5afa4346947,dd2f4c2c,[test suite] restore args too long tests,"[test suite] restore args too long tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1450571805,1450571805,5f895db744d948d849fbb753094015c13dc0cc4d
5f895db744d948d849fbb753094015c13dc0cc4d,5f895db7,[test suite] restore gpg home dir test,"[test suite] restore gpg home dir test
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1450570403,1450570403,10a2742a88afe13de815929d382168203feee9a2
10a2742a88afe13de815929d382168203feee9a2,10a2742a,[test suite] add clean validation test for digest cache,"[test suite] add clean validation test for digest cache
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1450560649,1450560649,e25b78e81da03800087be613d78d8df15230a5a1
e25b78e81da03800087be613d78d8df15230a5a1,e25b78e8,[test suite] restore digest cache validation with a new arg --exit-parse-digest-cache,"[test suite] restore digest cache validation with a new arg --exit-parse-digest-cache
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1450532796,1450532796,923b94bda7f4b7d0fb76bb99fe71cb08f8e240b7
923b94bda7f4b7d0fb76bb99fe71cb08f8e240b7,923b94bd,[test suite] restore pcap dispatch count test,"[test suite] restore pcap dispatch count test
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1450530398,1450530398,beaf31ad5dc1bb0c872433dba03d8c2799126f27
beaf31ad5dc1bb0c872433dba03d8c2799126f27,beaf31ad,[test suite] restore previous args test,"[test suite] restore previous args test
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1450530115,1450530115,c0b6db20be2d55da02c51b72a10e94ffc47bbc53
c0b6db20be2d55da02c51b72a10e94ffc47bbc53,c0b6db20,[server] start on not calling strtol_wrapper() repeatedly after the config is parsed,"[server] start on not calling strtol_wrapper() repeatedly after the config is parsed
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1450326377,1450326377,2fad399db3d85667dfec6fb081a1b6e80549c23f
2fad399db3d85667dfec6fb081a1b6e80549c23f,2fad399d,promote hex_dump() to fko_util,"promote hex_dump() to fko_util
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1450322890,1450322890,998fb96f0bfdb893de0b10ddfcc3cd2655abe5d2
998fb96f0bfdb893de0b10ddfcc3cd2655abe5d2,998fb96f,promote argv handling functions to fko_util (avoids duplication across client and server),"promote argv handling functions to fko_util (avoids duplication across client and server)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1450321150,1450321150,f230c32371667353f57206e1d52ed87c8ebe2472
f230c32371667353f57206e1d52ed87c8ebe2472,f230c323,promote chop_* functions into fko_util,"promote chop_* functions into fko_util
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1450317657,1450317657,fc8b2ee9c3959f5018e7b2a437f9ed754664760d
fc8b2ee9c3959f5018e7b2a437f9ed754664760d,fc8b2ee9,[test suite] additional %include_folder test,"[test suite] additional %include_folder test
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1450411623,1450411623,8533d9d24842940d2217566f3a479684830d7f50
8533d9d24842940d2217566f3a479684830d7f50,8533d9d2,[server] use chop_char() to strip trailing '/' chars from directories,"[server] use chop_char() to strip trailing '/' chars from directories
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1450410668,1450410668,3388d85073f268134f86d318b48fc56224f0c769
3388d85073f268134f86d318b48fc56224f0c769,3388d850,"Revert ""[server] access_folder is guaranteed to be NULL terminated""","Revert ""[server] access_folder is guaranteed to be NULL terminated""

This reverts commit 24f57f36a742458b204635cd3dbf8003fa3a3eb8.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1450405633,1450405633,24f57f36a742458b204635cd3dbf8003fa3a3eb8
24f57f36a742458b204635cd3dbf8003fa3a3eb8,24f57f36,[server] access_folder is guaranteed to be NULL terminated,"[server] access_folder is guaranteed to be NULL terminated
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1450209513,1450209513,d85b1077fbefb65f8225fa6a7759d07f6cee8882
d85b1077fbefb65f8225fa6a7759d07f6cee8882,d85b1077,[test suite] additional %include_folder tests,"[test suite] additional %include_folder tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1450209492,1450209492,8bab3cfbe338701eacbfc85e712099e573fbd992
8bab3cfbe338701eacbfc85e712099e573fbd992,8bab3cfb,[test suite] exercise free_cycle_list_node(),"[test suite] exercise free_cycle_list_node()
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1450207589,1450207589,c987d9182144a337a22bcebe55951d8655f1af19
c987d9182144a337a22bcebe55951d8655f1af19,c987d918,"[test suite] attempt to account for systems that may run slowly (embedded systems, etc.)","[test suite] attempt to account for systems that may run slowly (embedded systems, etc.)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1450166543,1450166543,42fd4d6afaf92a9aa2a295973d4af3de6ec3e295
42fd4d6afaf92a9aa2a295973d4af3de6ec3e295,42fd4d6a,[test suite] additional FORCE_NAT code coverage,"[test suite] additional FORCE_NAT code coverage
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1450161597,1450161597,48ecba25d5098b72a1715838bf5f050a79f3611b
48ecba25d5098b72a1715838bf5f050a79f3611b,48ecba25,[test suite] asan vs. ubsan bug fix,"[test suite] asan vs. ubsan bug fix
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1450147863,1450147863,98e79396ce0e04a55b9bd1cb62e82116e584c4ef
98e79396ce0e04a55b9bd1cb62e82116e584c4ef,98e79396,[test suite] start on --access-folder include dir test,"[test suite] start on --access-folder include dir test
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1450002270,1450002270,d8dc1fcdee1f386fd6ebcef0106e0165b622d804
d8dc1fcdee1f386fd6ebcef0106e0165b622d804,d8dc1fcd,"[server] add is_valid_file() function, default to lstat() instead of stat(),…","[server] add is_valid_file() function, default to lstat() instead of stat(), more %include_folder tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1449999569,1449999569,b305f67ca55512faa1573246d966cc447b87c910
b305f67ca55512faa1573246d966cc447b87c910,b305f67c,"[test suite] start on %include_folder tests, make sure at least one valid…","[test suite] start on %include_folder tests, make sure at least one valid access.conf stanza has been parsed
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1449981577,1449981577,f2e6b6cc68672fe95181ffae0e1b47053773ad83
f2e6b6cc68672fe95181ffae0e1b47053773ad83,f2e6b6cc,"[server] fix directory handle leak in failure condition, switch to strlcpy and…","[server] fix directory handle leak in failure condition, switch to strlcpy and strlcat for %include folder parsing
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1449952224,1449952224,ba3d16c5e3361c73c2ac369e8e0fc98c27a5e3bf
ba3d16c5e3361c73c2ac369e8e0fc98c27a5e3bf,ba3d16c5,[test suite] complete cycle test from %include derived access stanza,"[test suite] complete cycle test from %include derived access stanza
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1449947954,1449947954,c12ecd092a811974c9977b63bf32b03e1215227a
c12ecd092a811974c9977b63bf32b03e1215227a,c12ecd09,[test suite] interleaved access.conf %include tests,"[test suite] interleaved access.conf %include tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1449931539,1449931539,bcd0a90a185efb059ffd4d1f5ea5648c39ebd52e
bcd0a90a185efb059ffd4d1f5ea5648c39ebd52e,bcd0a90a,[test suite] %include missing key test,"[test suite] %include missing key test
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1449930734,1449930734,9c92a368fe9c803a7466eb945561265c78e2bafd
9c92a368fe9c803a7466eb945561265c78e2bafd,9c92a368,[test suite] access.conf %include missing file,"[test suite] access.conf %include missing file
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1449930467,1449930467,775792962492b6d91501ac7e785e75a02f582fee
775792962492b6d91501ac7e785e75a02f582fee,77579296,[test suite] multi-include non-recursive access.conf test,"[test suite] multi-include non-recursive access.conf test
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1449930196,1449930196,66458dfa49ab2722700a998deac787dab0c26096
66458dfa49ab2722700a998deac787dab0c26096,66458dfa,[server] exit before writing pid file in --exit-parse-config mode,"[server] exit before writing pid file in --exit-parse-config mode
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1449930160,1449930160,b65d766d8057cdee60f40919d4bed224c505c108
b65d766d8057cdee60f40919d4bed224c505c108,b65d766d,[server] minor change to use MAX_DEPTH,"[server] minor change to use MAX_DEPTH
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1449929193,1449929193,5b0cfb16a0b6110ffb83ebd759f352fa9e2778e9
5b0cfb16a0b6110ffb83ebd759f352fa9e2778e9,5b0cfb16,[test suite] add access.conf %include recursion limit test,"[test suite] add access.conf %include recursion limit test
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1449790278,1449790278,e27e92d8270b81b181456d594532c14019a12d2f
e27e92d8270b81b181456d594532c14019a12d2f,e27e92d8,Merge branch 'master' into access_conf_includes,"Merge branch 'master' into access_conf_includes
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1449788489,1449788489,"f7667239e61440d4358c76571e24f98795657cc3,d70e3f3fbb15e76e1af38991dfbdc711e680d36e"
f7667239e61440d4358c76571e24f98795657cc3,f7667239,Add documentation for the --access-folder command line option,"Add documentation for the --access-folder command line option
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1449790903,1449790903,a0c4acd31ca9eecd8c33a07971b5fe88dfb72294
d70e3f3fbb15e76e1af38991dfbdc711e680d36e,d70e3f3f,[fko-wrapper] add 'usban' compilation directive,"[fko-wrapper] add 'usban' compilation directive
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1449786974,1449786974,885b8c3a0964f154f10045fbb4dbdbb64f2e6744
885b8c3a0964f154f10045fbb4dbdbb64f2e6744,885b8c3a,[test suite] consolidate *Sanitizer crash detection in a single function,"[test suite] consolidate *Sanitizer crash detection in a single function
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1449786946,1449786946,f0269751e6014b94498886d358c9b17672fec8ea
f0269751e6014b94498886d358c9b17672fec8ea,f0269751,[test suite] fix FORCE_SNAT tests,"[test suite] fix FORCE_SNAT tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1449786875,1449786875,75b059af760f883a181f4e15ab1751c4676b5277
75b059af760f883a181f4e15ab1751c4676b5277,75b059af,[test suite] use killall to ensure fwknopd is stopped between tests,"[test suite] use killall to ensure fwknopd is stopped between tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1449786831,1449786831,4cab37acf9440250a539b01a6b06657646e41d81
4cab37acf9440250a539b01a6b06657646e41d81,4cab37ac,[test suite] client --time-offset code coverage,"[test suite] client --time-offset code coverage
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1449786750,1449786750,d50992582283bc6b47932630d3a98383b707953a
a0c4acd31ca9eecd8c33a07971b5fe88dfb72294,a0c4acd3,Adds the --access-folder command line option,"Adds the --access-folder command line option
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1449773128,1449773128,186101d298370dbbae4b576c648b45d1ed464209
186101d298370dbbae4b576c648b45d1ed464209,186101d2,Add the %include_folder directive,"Add the %include_folder directive
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1449767810,1449767810,abad76521282c0c9936c147905574ebd8e49d5ec
d50992582283bc6b47932630d3a98383b707953a,d5099258,[extras] add build support for Google's UndefinedBehaviorSanitizer,"[extras] add build support for Google's UndefinedBehaviorSanitizer
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1449713982,1449713982,60919a9141cadd958d21321462f29ccc073440fe
60919a9141cadd958d21321462f29ccc073440fe,60919a91,[test suite] make ASan error detection more generic to catch things like LeakSanitizer errors,"[test suite] make ASan error detection more generic to catch things like LeakSanitizer errors
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1449710198,1449710198,0c455ebf9c1aa80db9e8c435fb75875673815b2c
0c455ebf9c1aa80db9e8c435fb75875673815b2c,0c455ebf,[test suite] ensure fko-wrapper passes 16-byte string to fko_set_rand_value(),"[test suite] ensure fko-wrapper passes 16-byte string to fko_set_rand_value()
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1449710148,1449710148,95383149cb5020dc0ab93fe65386e548914b34df
abad76521282c0c9936c147905574ebd8e49d5ec,abad7652,Only initialize the access stanze data on the root access.conf file.,"Only initialize the access stanze data on the root access.conf file.
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1449641633,1449641633,ae1e804ea1136355f6cb8f67f611c17d3aeed166
ae1e804ea1136355f6cb8f67f611c17d3aeed166,ae1e804e,[test suite] add test for access.conf include directive,"[test suite] add test for access.conf include directive
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1449633111,1449633111,947dbfe6ae5f6269f09b7bffa89f45644c70fcbd
947dbfe6ae5f6269f09b7bffa89f45644c70fcbd,947dbfe6,Merge branch 'master' into access_conf_includes,"Merge branch 'master' into access_conf_includes
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1449630272,1449630272,"3e3bf0d1222da56cb7426e6c7eee8f4fce1e64d4,95383149cb5020dc0ab93fe65386e548914b34df"
95383149cb5020dc0ab93fe65386e548914b34df,95383149,[server] bug fix to honor CMD_EXEC_USER and CMD_SUDO_EXEC_USER vars,"[server] bug fix to honor CMD_EXEC_USER and CMD_SUDO_EXEC_USER vars
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1449630113,1449630113,4f81dd77476f831d72e77347357f9d1369d0b68e
3e3bf0d1222da56cb7426e6c7eee8f4fce1e64d4,3e3bf0d1,Merge branch 'master' into accesss_conf_includes,"Merge branch 'master' into accesss_conf_includes
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1449541107,1449541107,"c3d50a9503fad3cb66519ed20545ac8b67d6b152,4f81dd77476f831d72e77347357f9d1369d0b68e"
4f81dd77476f831d72e77347357f9d1369d0b68e,4f81dd77,[server] local NAT should not be enabled by default,"[server] local NAT should not be enabled by default
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1449535879,1449535879,35558097cc4592ac80e36d3840ba8b6352034d9b
35558097cc4592ac80e36d3840ba8b6352034d9b,35558097,[test suite] fix FORCE_NAT and FORCE_SNAT required server regex matches,"[test suite] fix FORCE_NAT and FORCE_SNAT required server regex matches
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1449360421,1449360421,a8ec29affa7128ddbc0d7db9df74246e23e79b3a
a8ec29affa7128ddbc0d7db9df74246e23e79b3a,a8ec29af,[server] minor cleanup for incoming SPA packet processing,"[server] minor cleanup for incoming SPA packet processing
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1449360385,1449360385,51c0efb665c57fe29fd8c17b97f4417ecf8e9d61
51c0efb665c57fe29fd8c17b97f4417ecf8e9d61,51c0efb6,[test suite] minor var addition for Rijndael key existence test,"[test suite] minor var addition for Rijndael key existence test
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1449327624,1449327624,b6674aba6fd7a7ede69cb412b243a18e346809c7
b6674aba6fd7a7ede69cb412b243a18e346809c7,b6674aba,[server] allow ENABLE_IPT_LOCAL_NAT to enable FORCE_NAT features,"[server] allow ENABLE_IPT_LOCAL_NAT to enable FORCE_NAT features
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1449324358,1449324358,2c74372a4e8d7c730720a29ed08c50236edf8076
2c74372a4e8d7c730720a29ed08c50236edf8076,2c74372a,[test suite] fix fko_set_username_strdup fault injection test,"[test suite] fix fko_set_username_strdup fault injection test
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1449323439,1449323439,793813e8effacf3c6f09ecfc5d0945eb4f4b4ec7
793813e8effacf3c6f09ecfc5d0945eb4f4b4ec7,793813e8,[test suite] add missing coverage report to coverage_diff.py,"[test suite] add missing coverage report to coverage_diff.py
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1449323170,1449323170,044ebf5e7358c881277da95c609ec78aeee1c05f
044ebf5e7358c881277da95c609ec78aeee1c05f,044ebf5e,[test suite] add -O and -N to coverage diff'ing utility,"[test suite] add -O and -N to coverage diff'ing utility
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1449322611,1449322611,988075b52ba9b25cae41b31ba166e4d021c2ee38
988075b52ba9b25cae41b31ba166e4d021c2ee38,988075b5,"[server] bug fix to honor client timeout SPA messages in --nat-local mode, fixes #173","[server] bug fix to honor client timeout SPA messages in --nat-local mode, fixes #173
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1449286611,1449286611,d4ca18dae6e16adf889864eb55cf8910e7ba5bff
d4ca18dae6e16adf889864eb55cf8910e7ba5bff,d4ca18da,[test suite] more comprehensive code coverage driven by fko-wrapper,"[test suite] more comprehensive code coverage driven by fko-wrapper
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1449284663,1449284663,f89af3b8c1f803c8fed4dc27d71ce377a3716038
f89af3b8c1f803c8fed4dc27d71ce377a3716038,f89af3b8,add libfko fko_set_username() crash ChangeLog message,"add libfko fko_set_username() crash ChangeLog message
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1449284602,1449284602,21149faf8914dc1721ca1ec7aacacae496676cc3
21149faf8914dc1721ca1ec7aacacae496676cc3,21149faf,[libfko] fko_set_username() crash bug fix.,"[libfko] fko_set_username() crash bug fix.

Bug fix for a crash in libfko that could be triggered in fko_set_username()
when a username that is 64 chars or longer is specified. This crash
cannot be triggered in fwknopd even if an SPA packet contains such a
username however due to additional protections in the SPA decoding
routines. Further, this bug does not apply to the main fwknop client
either because the maximal username size is truncated down below 64
bytes. Hence, this bug only applies to client-side software that is
directly using libfko calling the fko_set_username() function.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1449284486,1449284486,a000bcd4a0550714c83f57897d151be46b12972d
a000bcd4a0550714c83f57897d151be46b12972d,a000bcd4,[client] minor formatting update,"[client] minor formatting update
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1449283764,1449283764,c67008b6a807cb7227f1c62735aa1e792b4de60f
c3d50a9503fad3cb66519ed20545ac8b67d6b152,c3d50a95,Unwind the recursive access.conf properly on an error,"Unwind the recursive access.conf properly on an error
and remove a debugging log message.
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1449275649,1449275649,1e34a3430c0172d06daa7dac5ef3a66e2f590de1
1e34a3430c0172d06daa7dac5ef3a66e2f590de1,1e34a343,Add access.conf %include depth tracking,"Add access.conf %include depth tracking
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1449274617,1449274617,ce0b7f6727d1463c7b2e454a4f9ccb11b2875043
ce0b7f6727d1463c7b2e454a4f9ccb11b2875043,ce0b7f67,Initial work on access.conf includes,"Initial work on access.conf includes
",,,,Jonathan Bennett,jbennett@incomsystems.biz,Jonathan Bennett,jbennett@incomsystems.biz,1449194199,1449206622,c67008b6a807cb7227f1c62735aa1e792b4de60f
c67008b6a807cb7227f1c62735aa1e792b4de60f,c67008b6,minor fault injection tag rework for fko_set_rand_value() and fko_set_username(),"minor fault injection tag rework for fko_set_rand_value() and fko_set_username()
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1448915339,1448915339,343d0b7f44210f66dbb8f01a40997f619bf3e405
343d0b7f44210f66dbb8f01a40997f619bf3e405,343d0b7f,Merge branch 'master' of ssh://github.com/mrash/fwknop,"Merge branch 'master' of ssh://github.com/mrash/fwknop
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1448850690,1448850690,"0adb4ac2ba84566aa945e808505a4fd593225fc3,50a5f76080d61e34d65e85ed6694af096b49cbc7"
0adb4ac2ba84566aa945e808505a4fd593225fc3,0adb4ac2,"add -fPIC to enforce position-independent code (necessary for gcc > 5.0), fixes #170","add -fPIC to enforce position-independent code (necessary for gcc > 5.0), fixes #170
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1448850641,1448850641,8c7a007a4a61ab427f91af0103197978a65d52eb
d2cef1746cbf2730eadebb8721c6d4447e9ab7d0,d2cef174,Initial update for NETFILTER_QUEUE support.  These changes are not tested at all…,"Initial update for NETFILTER_QUEUE support.  These changes are not tested at all as they were edit on a Mac, but are linux-specific.
",,,,Damien Stuart,dstuart@dstuart.org,Damien Stuart,dstuart@dstuart.org,1448741019,1448741019,50a5f76080d61e34d65e85ed6694af096b49cbc7
50a5f76080d61e34d65e85ed6694af096b49cbc7,50a5f760,Merge pull request #171 from vaygr/client-timeout,"Merge pull request #171 from vaygr/client-timeout

respect CMD_CYCLE_TIMER",,,,Michael Rash,michael.rash@gmail.com,Michael Rash,michael.rash@gmail.com,1448635636,1448635636,"8c7a007a4a61ab427f91af0103197978a65d52eb,eb88e0ab005ba8c116b007d113e495af47f66939"
eb88e0ab005ba8c116b007d113e495af47f66939,eb88e0ab,respect CMD_CYCLE_TIMER,"respect CMD_CYCLE_TIMER
",,,,Vlad Glagolev,vaygr@users.noreply.github.com,Vlad Glagolev,vaygr@users.noreply.github.com,1448635474,1448635474,8c7a007a4a61ab427f91af0103197978a65d52eb
8c7a007a4a61ab427f91af0103197978a65d52eb,8c7a007a,[test suite] differentiate TIMEOUT vs. CLIENT_TIMEOUT values in command open close cycles,"[test suite] differentiate TIMEOUT vs. CLIENT_TIMEOUT values in command open close cycles
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1447828882,1447828882,f6829fe52714c6608916029e3d4901a076b72cde
f6829fe52714c6608916029e3d4901a076b72cde,f6829fe5,[test suite] added command cycle close NONE test,"[test suite] added command cycle close NONE test
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1447826938,1447826938,0bf4993071fb8a2c260e50cd424a539ca9727b67
0bf4993071fb8a2c260e50cd424a539ca9727b67,0bf49930,[server] minor update to replace a string compare for command cycle close exclusions,"[server] minor update to replace a string compare for command cycle close exclusions
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1447823999,1447823999,47663f42152dbf934fcd5d9dacd23dba7451e6f6
47663f42152dbf934fcd5d9dacd23dba7451e6f6,47663f42,Merge pull request #169 from vaygr/client-timeout,"Merge pull request #169 from vaygr/client-timeout

added substitution support for CLIENT_TIMEOUT",,,,Michael Rash,michael.rash@gmail.com,Michael Rash,michael.rash@gmail.com,1447984529,1447984529,"cfa02859ebb9ded3ad60cae952469653256729c2,37cc375ea3fed917c380f07b3d9c335c1bbbc808"
37cc375ea3fed917c380f07b3d9c335c1bbbc808,37cc375e,added substitution support for CLIENT_TIMEOUT,"added substitution support for CLIENT_TIMEOUT
",,,,Vlad Glagolev,vaygr@users.noreply.github.com,Vlad Glagolev,vaygr@users.noreply.github.com,1447958347,1447958347,cfa02859ebb9ded3ad60cae952469653256729c2
cfa02859ebb9ded3ad60cae952469653256729c2,cfa02859,[server] don't run firewall handling code for command-only modes,"[server] don't run firewall handling code for command-only modes
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1447822117,1447822117,882624a2a0aae5816dd6266aa3cc8cef2282207f
882624a2a0aae5816dd6266aa3cc8cef2282207f,882624a2,[server] allow 'NONE' to short circuit close command execution,"[server] allow 'NONE' to short circuit close command execution
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1447442299,1447442299,b0f25ae2e831d138950686bd08f83d52e768b3bb
b0f25ae2e831d138950686bd08f83d52e768b3bb,b0f25ae2,[server] (Vlad Glagolev) Add client timeouts to command open/close cycle operations,"[server] (Vlad Glagolev) Add client timeouts to command open/close cycle operations
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1447432899,1447432899,51de939846b8ba8c43b5f2ee822a444fda571628
51de939846b8ba8c43b5f2ee822a444fda571628,51de9398,[test suite] add open/close --fw-timeout test,"[test suite] add open/close --fw-timeout test
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1447432424,1447432424,97faa2dbdf5ba667f4902338398681e28b728bf9
97faa2dbdf5ba667f4902338398681e28b728bf9,97faa2db,minor docs update,"minor docs update
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1447209657,1447209657,347ee048278b7e0ab78510b59c91018fb54e352b
347ee048278b7e0ab78510b59c91018fb54e352b,347ee048,[test suite] minor rework of signals to fwknopd,"[test suite] minor rework of signals to fwknopd
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1447033744,1447033744,8484e3ea7a3bb7d11c75128078838338bfaacef4
8484e3ea7a3bb7d11c75128078838338bfaacef4,8484e3ea,[test suite] add unhandled signal (SIGTSTP) to signal handling test,"[test suite] add unhandled signal (SIGTSTP) to signal handling test
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1446932151,1446932151,2f49be6cb0cafd15d7d10c9322deb7a4051fb7e1
2f49be6cb0cafd15d7d10c9322deb7a4051fb7e1,2f49be6c,"[server] For SIGHUP processing, don't send the TCP server SIGTERM unless it is running","[server] For SIGHUP processing, don't send the TCP server SIGTERM unless it is running
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1446371927,1446371927,d3dcfc9cf4fc21adb7c0f38f6a63d38118327362
d3dcfc9cf4fc21adb7c0f38f6a63d38118327362,d3dcfc9c,Merge remote-tracking branch 'origin/master' into cmd_open_close_cycle,"Merge remote-tracking branch 'origin/master' into cmd_open_close_cycle
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1446313026,1446313026,"2101bd63e9674c1c027cdfb98b8ab57d470c2121,02049cb47390cfb1c7c9fa6b59f9b14fdb9c616d"
02049cb47390cfb1c7c9fa6b59f9b14fdb9c616d,02049cb4,Added AM_CONDITIONAL to check if OS is Darwin (Apple) and not use the…,"Added AM_CONDITIONAL to check if OS is Darwin (Apple) and not use the --whole-archive option if it is.
",,,,Damien Stuart,dstuart@dstuart.org,Damien Stuart,dstuart@dstuart.org,1446523342,1446523342,0ef8ba5259f9bd346a60ce3be2bf685c35b5fd36
0ef8ba5259f9bd346a60ce3be2bf685c35b5fd36,0ef8ba52,Added use of --whole-archive for linking libfko_util.a to libfko.so. This takes…,"Added use of --whole-archive for linking libfko_util.a to libfko.so. This takes care of the unresolved symbols (from libfko_util) when linking libfko.so.
",,,,Damien Stuart,dstuart@dstuart.org,Damien Stuart,dstuart@dstuart.org,1446518486,1446518486,0a9f4e3e59f842d5ad638d7a55232c9b557451ab
2101bd63e9674c1c027cdfb98b8ab57d470c2121,2101bd63,[test suite] add tests/* interface for file_find_num_matches(),"[test suite] add tests/* interface for file_find_num_matches()
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1446313006,1446313006,2d65330ce7c73066252822bbb4f400f644a2d0d6
2d65330ce7c73066252822bbb4f400f644a2d0d6,2d65330c,[test suite] add a few missing test suite configs,"[test suite] add a few missing test suite configs
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1446296847,1446296847,72d6a0c01858c10d5a198407e78c10b20768fb1f
0a9f4e3e59f842d5ad638d7a55232c9b557451ab,0a9f4e3e,Minor tweak for format fix in the gpl texinfo file,"Minor tweak for format fix in the gpl texinfo file
",,,,Damien Stuart,dstuart@dstuart.org,Damien Stuart,dstuart@dstuart.org,1445908816,1445908816,cac6a3f726154e479b5949c25e62ea77aec8929e
72d6a0c01858c10d5a198407e78c10b20768fb1f,72d6a0c0,[test suite] add multi-cycle open/close command tests,"[test suite] add multi-cycle open/close command tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1445889771,1445889771,577c2a74a420f9e1dfba4e525c6e526c1393793e
577c2a74a420f9e1dfba4e525c6e526c1393793e,577c2a74,[test suite] add sleep_cycles key for multi-cycle tests,"[test suite] add sleep_cycles key for multi-cycle tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1445688208,1445688208,7910658c852a3477e839335f9681086e44d2dde5
7910658c852a3477e839335f9681086e44d2dde5,7910658c,[server] memory leak bugfix caught by multi-cycle open/close test,"[server] memory leak bugfix caught by multi-cycle open/close test
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1445684729,1445684729,36317b59a6f1248f4c86711a5550cad6dc77acef
36317b59a6f1248f4c86711a5550cad6dc77acef,36317b59,[test suite] add command cycle test via the UDP server,"[test suite] add command cycle test via the UDP server
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1445309405,1445309405,7c476a747d9a216a1cea60210370200a709bb4b7
7c476a747d9a216a1cea60210370200a709bb4b7,7c476a74,[test suite] add hmac_cmd_open_close_cycle_access5.conf file,"[test suite] add hmac_cmd_open_close_cycle_access5.conf file
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1445300674,1445300674,4909b629d5c09a7c5a57da385a9af7395f0de79b
4909b629d5c09a7c5a57da385a9af7395f0de79b,4909b629,[server] add command cycle close support to UDP server mode,"[server] add command cycle close support to UDP server mode
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1445300264,1445300264,1c33c5089e9db86d18ffd1f30b9247a4b282a920
1c33c5089e9db86d18ffd1f30b9247a4b282a920,1c33c508,[test suite] additional cmd cycle var substitution test,"[test suite] additional cmd cycle var substitution test
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1445300237,1445300237,3a591fbf4923bda2d3662856b0803b03d73673ae
3a591fbf4923bda2d3662856b0803b03d73673ae,3a591fbf,[test suite] add hmac_cmd_open_close_cycle_access4.conf file,"[test suite] add hmac_cmd_open_close_cycle_access4.conf file
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1445186910,1445186910,3fb75cace33c5292459535c83cd1617d94fee6d6
3fb75cace33c5292459535c83cd1617d94fee6d6,3fb75cac,"[test suite] add SRC,PKT_SRC,DST var subsitution test","[test suite] add SRC,PKT_SRC,DST var subsitution test
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1445186887,1445186887,7a09daba4caedb29e5d22b05886e474b6994a9ba
7a09daba4caedb29e5d22b05886e474b6994a9ba,7a09daba,[test suite] more command cycle tests (multiple substitution vars),"[test suite] more command cycle tests (multiple substitution vars)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1445185728,1445185728,5597730e274ae3ac736654839413d378e23c61aa
5597730e274ae3ac736654839413d378e23c61aa,5597730e,[test suite] added open/close file tests,"[test suite] added open/close file tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1445184829,1445184829,6c0b3281145680618d788f77fec6f4d558980fda
6c0b3281145680618d788f77fec6f4d558980fda,6c0b3281,[server] fix command cycle close code to iterate through the entire list until…,"[server] fix command cycle close code to iterate through the entire list until all expiration commands have been executed
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1445183270,1445183270,17b4b3d55ebd7925734b78c3f3d7802b522dcf6e
17b4b3d55ebd7925734b78c3f3d7802b522dcf6e,17b4b3d5,[server] implemented command cycle close execution and expiration,"[server] implemented command cycle close execution and expiration
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1445138073,1445138073,2b97e8b2e60a78f3de632b2c98c487841fe8e94e
2b97e8b2e60a78f3de632b2c98c487841fe8e94e,2b97e8b2,"[server] command IP,SRC,PKT_SRC,DST,PORT,PROTO substitutions work for open/close cycles now","[server] command IP,SRC,PKT_SRC,DST,PORT,PROTO substitutions work for open/close cycles now
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1445088633,1445088633,32b4c5e53f74ef44243939fa8585076fe4d99f29
32b4c5e53f74ef44243939fa8585076fe4d99f29,32b4c5e5,[server] minor log_msg() reformatting,"[server] minor log_msg() reformatting
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1445084874,1445084874,4587a279e12414d0083208068da9437a38159d02
4587a279e12414d0083208068da9437a38159d02,4587a279,[server] validate CMD_CYCLE_* vars from the access.conf file,"[server] validate CMD_CYCLE_* vars from the access.conf file
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1444789026,1444789026,d67fbde9929cd37839d9a70011955f316b548231
d67fbde9929cd37839d9a70011955f316b548231,d67fbde9,[server] start on command open/close cycle support (issue #117),"[server] start on command open/close cycle support (issue #117)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1444784407,1444784407,cac6a3f726154e479b5949c25e62ea77aec8929e
cac6a3f726154e479b5949c25e62ea77aec8929e,cac6a3f7,[server] minor refactor for access.conf parsing,"[server] minor refactor for access.conf parsing
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1444390929,1444390929,a11881433dfc3bf620b7179e10556e0827531f10
a11881433dfc3bf620b7179e10556e0827531f10,a1188143,[server] minor access.conf variable name bug fix,"[server] minor access.conf variable name bug fix
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1443878207,1443878207,b03c007c4486b70eefc4848907821b220dcbd026
b03c007c4486b70eefc4848907821b220dcbd026,b03c007c,[client] add --server-resolve-ipv4 to only accept IPv4 addresses from DNS for the SPA server,"[client] add --server-resolve-ipv4 to only accept IPv4 addresses from DNS for the SPA server
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1443363456,1443363456,a4309ad7680b054463b0a6a2902a0d3697814bad
a4309ad7680b054463b0a6a2902a0d3697814bad,a4309ad7,Added clean up for .gcno and .gcda files (left went c-unit-tests are enabled.,"Added clean up for .gcno and .gcda files (left went c-unit-tests are enabled.
",,,,Damien Stuart,dstuart@dstuart.org,Damien Stuart,dstuart@dstuart.org,1441480822,1441480822,24b3a216bdb6c9d4b4ba538b210b0bc7f6dc7987
24b3a216bdb6c9d4b4ba538b210b0bc7f6dc7987,24b3a216,Updated c-unit-test README for changes in test locations. Updated autoconf files…,"Updated c-unit-test README for changes in test locations. Updated autoconf files to remove references to the old c-unit-test configuration.
",,,,Damien Stuart,dstuart@dstuart.org,Damien Stuart,dstuart@dstuart.org,1441465532,1441465532,2e60687dcfdb062e639e79fbd3cc8efa316cea84
2e60687dcfdb062e639e79fbd3cc8efa316cea84,2e60687d,Merge branch 'master' into dstuart_refactor_autoconf,"Merge branch 'master' into dstuart_refactor_autoconf
",,,,Damien Stuart,dstuart@dstuart.org,Damien Stuart,dstuart@dstuart.org,1440866784,1440866784,"2ea2aea0bae2226bc90f6e66012a25fb1915099d,995f5417664e96cdaf913f9e877f8463fb50aa87"
995f5417664e96cdaf913f9e877f8463fb50aa87,995f5417,add .DS_Store files to .gitignore,"add .DS_Store files to .gitignore
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1440723402,1440723402,32bb9f804893e8497b9229717765216dd97eac45
32bb9f804893e8497b9229717765216dd97eac45,32bb9f80,changes since 2.6.6,"changes since 2.6.6
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1440462954,1440462954,88c82af1955fb56ade5c6d6e98e80ed28df21ea2
88c82af1955fb56ade5c6d6e98e80ed28df21ea2,88c82af1,rpm 2.6.7 release note,"rpm 2.6.7 release note
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1440462824,1440462824,ecfa8021e58447db656043915e131d6798ee8651
ecfa8021e58447db656043915e131d6798ee8651,ecfa8021,doc updates to include sudo information,"doc updates to include sudo information
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1440462306,1440462306,71ded8caf1770b067d3425f5a5f87ed7984c99c5
71ded8caf1770b067d3425f5a5f87ed7984c99c5,71ded8ca,ChangeLog update for 2.6.7,"ChangeLog update for 2.6.7
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1440462220,1440462220,c04feff5ef6c9e69e6f22bee9b2cfb75e5fb04e5
c04feff5ef6c9e69e6f22bee9b2cfb75e5fb04e5,c04feff5,[test suite] initialize coverage files in non --include mode,"[test suite] initialize coverage files in non --include mode
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1440388224,1440388224,b060495bb4a21fafa7544739a42eefd488e887f3
b060495bb4a21fafa7544739a42eefd488e887f3,b060495b,[test suite] rm previous coverage files in coverage mode when --include criteria is not used,"[test suite] rm previous coverage files in coverage mode when --include criteria is not used
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1440387179,1440387179,9531099a1fba4b30ff3a6b5b7db98ab0cf6a69c5
9531099a1fba4b30ff3a6b5b7db98ab0cf6a69c5,9531099a,[test suite] use pkill when available,"[test suite] use pkill when available
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1440385697,1440385697,b88d1854ed311f8a60e325f57d22ea3056fbafb8
b88d1854ed311f8a60e325f57d22ea3056fbafb8,b88d1854,minor link comment fix,"minor link comment fix
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1440300059,1440300059,fab2f8e591f4617b14b8c514f5513d7b292de40c
fab2f8e591f4617b14b8c514f5513d7b292de40c,fab2f8e5,minor README update,"minor README update
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1440299892,1440299892,d1d59778e95b2ff7737a731698e7b98fc96e6d1d
d1d59778e95b2ff7737a731698e7b98fc96e6d1d,d1d59778,[server] handle trailing quote for PF firewalls on OpenBSD,"[server] handle trailing quote for PF firewalls on OpenBSD
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1440212767,1440212767,fe9e42f2121aac76d1d939b38aef3b5cc6773c70
fe9e42f2121aac76d1d939b38aef3b5cc6773c70,fe9e42f2,[test suite] minor sudo error code searching update,"[test suite] minor sudo error code searching update
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1440210575,1440210575,dd1528c829ea97faa04157e030270b27ae8d8246
dd1528c829ea97faa04157e030270b27ae8d8246,dd1528c8,[test suite] set sudo path on the fwknopd command line,"[test suite] set sudo path on the fwknopd command line
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1440210285,1440210285,e999f61f82930254ef81f3b06de141e08a6f562a
e999f61f82930254ef81f3b06de141e08a6f562a,e999f61f,[test suite] allow /usr/local/etc/sudoers path,"[test suite] allow /usr/local/etc/sudoers path
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1440209098,1440209098,f37fd2281607c68463311e06433db52f906c35e6
f37fd2281607c68463311e06433db52f906c35e6,f37fd228,[extras] use default configure args before running cov-build,"[extras] use default configure args before running cov-build
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1440208147,1440208147,2f94413b2fa4132f50dfca055e9fb15a5e633b85
2f94413b2fa4132f50dfca055e9fb15a5e633b85,2f94413b,[server] bug fix for ipfw firewall rule removal,"[server] bug fix for ipfw firewall rule removal
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1440207310,1440207310,ec9eef33654b596a3e863176e2b61a4ee32c51d8
ec9eef33654b596a3e863176e2b61a4ee32c51d8,ec9eef33,[server] fix a dead code condition spotted by Coverity,"[server] fix a dead code condition spotted by Coverity
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1440042107,1440042107,c5507d2c2a49aaac30582d51701e8a74b398a6fc
c5507d2c2a49aaac30582d51701e8a74b398a6fc,c5507d2c,[server] fix ptr vs. val check spotted by Coverity,"[server] fix ptr vs. val check spotted by Coverity
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1440042077,1440042077,82464574a6d07108dce57d2ca5873b8863861381
82464574a6d07108dce57d2ca5873b8863861381,82464574,[client] minor update to make chksum() static,"[client] minor update to make chksum() static
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1439950343,1439950343,423899f3c47122a1246a335d7abf978f1773abad
423899f3c47122a1246a335d7abf978f1773abad,423899f3,[server] minor fix to remove unnecessary var definition,"[server] minor fix to remove unnecessary var definition
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1439949720,1439949720,0fdc263a435a7ffe9e805b0ec2f1a9669406c7b5
0fdc263a435a7ffe9e805b0ec2f1a9669406c7b5,0fdc263a,options struct should not be global (CLANG -Wshadow warning),"options struct should not be global (CLANG -Wshadow warning)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1439949533,1439949533,a9c3e204dcf3714e1a891193a420f299438817f5
a9c3e204dcf3714e1a891193a420f299438817f5,a9c3e204,[test suite] pgrep usage bug fix,"[test suite] pgrep usage bug fix
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1439944814,1439944814,47ff151dea9ba469a39753943e0aa472c668f5b0
47ff151dea9ba469a39753943e0aa472c668f5b0,47ff151d,[build] add convenience script for ASan builds,"[build] add convenience script for ASan builds

Sometimes when ASan support is wanted for fwknop, the following compile
error can be generated. This script provides a means to solve this.

fwknop-spa_comm.o: In function `send_spa_packet_http':
/home/mbr/git/fwknop.git/client/spa_comm.c:516: undefined reference to `rpl_malloc'
../lib/.libs/libfko.so: undefined reference to `rpl_realloc'
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1439944676,1439944676,5e0a668a7f61e04eddd4b7dd4ec8273c543b1e0a
5e0a668a7f61e04eddd4b7dd4ec8273c543b1e0a,5e0a668a,[server] minor access.c fix to quiet both Coverity and the CLANG static analyzer,"[server] minor access.c fix to quiet both Coverity and the CLANG static analyzer
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1439775108,1439775108,8edad8b5839acaf82f51631d40031f3c39bc619a
8edad8b5839acaf82f51631d40031f3c39bc619a,8edad8b5,[extras] update Coverity version to 7.7.0 for interface script,"[extras] update Coverity version to 7.7.0 for interface script
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1439774834,1439774834,f3b25bdc241e6410ef5f99bcb2257911622ec4bd
f3b25bdc241e6410ef5f99bcb2257911622ec4bd,f3b25bdc,[test suite] require custom config paths for sudo tests,"[test suite] require custom config paths for sudo tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1439773586,1439773586,743d861c6713e6456e71267f107681c8485a2db5
743d861c6713e6456e71267f107681c8485a2db5,743d861c,Updated version in the spec file.,"Updated version in the spec file.
",,,,Damien Stuart,dstuart@dstuart.org,Damien Stuart,dstuart@dstuart.org,1439585347,1439585347,e5c6f96788a57695e3d6c293cd0ebaa69563e167
e5c6f96788a57695e3d6c293cd0ebaa69563e167,e5c6f967,[server] fix compilation issue for non-iptables firewalls,"[server] fix compilation issue for non-iptables firewalls
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1437880206,1437880206,47851dffddb25e3eb9a22ec54394adbc79bfe56f
47851dffddb25e3eb9a22ec54394adbc79bfe56f,47851dff,[test suite] use pgrep for fwknopd check at init time,"[test suite] use pgrep for fwknopd check at init time
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1437877030,1437877030,8e7dd29280f0078a64acc6030a20e0ac0d3a23eb
8e7dd29280f0078a64acc6030a20e0ac0d3a23eb,8e7dd292,Merge branch 'master' of ssh://192.168.10.1/home/mbr/git/fwknop,"Merge branch 'master' of ssh://192.168.10.1/home/mbr/git/fwknop
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1437876048,1437876048,"72555ba9fec3af9d734a383ce98050a84bb7b5bd,db3a8c39e4f7930ea59a1acf733d0cad62745f63"
72555ba9fec3af9d734a383ce98050a84bb7b5bd,72555ba9,[server] minor comment fix for group ID determination in access.conf parsing,"[server] minor comment fix for group ID determination in access.conf parsing
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1437875919,1437875919,fbdc542f48c45d8b7e466e31f1b3c099b75fec1c
fbdc542f48c45d8b7e466e31f1b3c099b75fec1c,fbdc542f,Merge branch 'master' of https://github.com/mrash/fwknop,"Merge branch 'master' of https://github.com/mrash/fwknop
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1437856129,1437856129,"c0330e5c8b604fb50330dfbe60fdf305393250c4,dff7b82dafbab8276add503c5011ef6d2ed6dbb0"
db3a8c39e4f7930ea59a1acf733d0cad62745f63,db3a8c39,Merge branch 'master' of https://github.com/mrash/fwknop,"Merge branch 'master' of https://github.com/mrash/fwknop
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1437856103,1437856103,"c0330e5c8b604fb50330dfbe60fdf305393250c4,dff7b82dafbab8276add503c5011ef6d2ed6dbb0"
c0330e5c8b604fb50330dfbe60fdf305393250c4,c0330e5c,[server] additional work on splitting incoming_spa() loop into functions,"[server] additional work on splitting incoming_spa() loop into functions
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1437856062,1437856062,591d400216f40f16b3aa116e938130130fb7929e
591d400216f40f16b3aa116e938130130fb7929e,591d4002,[test suite] fix sudo user tests,"[test suite] fix sudo user tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1437856010,1437856010,3270900a3813a521be6a83a8274baa2101fa6588
3270900a3813a521be6a83a8274baa2101fa6588,3270900a,[server] continued work on splitting incoming_spa() into functions,"[server] continued work on splitting incoming_spa() into functions
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1437368060,1437766697,6116419e212a7f65ca658473e0617f073d303495
6116419e212a7f65ca658473e0617f073d303495,6116419e,[test suite] ensure HMAC key string is equal to SHA512_BLOCK_LEN in length (fixes ASAN warning),"[test suite] ensure HMAC key string is equal to SHA512_BLOCK_LEN in length (fixes ASAN warning)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1437363503,1437759833,01beb31861a8fdfb4555cce73e4d02139fc946a1
dff7b82dafbab8276add503c5011ef6d2ed6dbb0,dff7b82d,Merge pull request #166 from micha137/patch-1,Merge pull request #166 from micha137/patch-1,,,,Michael Rash,michael.rash@gmail.com,Michael Rash,michael.rash@gmail.com,1437577568,1437577568,"89b2e8f477245bf6fdf1d2746c829f9ba26faf15,0ac52b9b4d8a332671c8d1c75e74bd0527442f97"
01beb31861a8fdfb4555cce73e4d02139fc946a1,01beb318,[server] start to split incoming_spa() main loop into functions,"[server] start to split incoming_spa() main loop into functions
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1437363354,1437573433,d681485e2921020fddd4678a2f2bf93dfc15e92d
d681485e2921020fddd4678a2f2bf93dfc15e92d,d681485e,"[server] add sudo support, closes #159","[server] add sudo support, closes #159
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1437362584,1437563338,89b2e8f477245bf6fdf1d2746c829f9ba26faf15
0ac52b9b4d8a332671c8d1c75e74bd0527442f97,0ac52b9b,Fix some typos,Fix some typos,,,,micha137,bunk@iat.uni-leipzig.de,micha137,bunk@iat.uni-leipzig.de,1437496783,1437496783,89b2e8f477245bf6fdf1d2746c829f9ba26faf15
89b2e8f477245bf6fdf1d2746c829f9ba26faf15,89b2e8f4,[server] interface goes down will cause fwknopd to exit,"[server] interface goes down will cause fwknopd to exit

By default, fwknopd will now exit if the interface that it is
sniffing goes down (patch contributed by Github user 'sgh7'). If this
happens, it is expected that the native process monitoring feature in
things like systemd or upstart will restart fwknopd. However, if fwknopd
is not being monitored by systemd, upstart, or anything else, this
behavior can be disabled with the EXIT_AT_INTF_DOWN variable in the
fwknopd.conf file. If disabled, fwknopd will try to recover when a
downed interface comes back up.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1437250285,1437250285,15c00692b7070eb0807b4f86d43d02b44de40296
15c00692b7070eb0807b4f86d43d02b44de40296,15c00692,Merge pull request #164 from Coacher/master,Merge pull request #164 from Coacher/master,,,,Michael Rash,michael.rash@gmail.com,Michael Rash,michael.rash@gmail.com,1437277380,1437277380,"795b1de4ddeeed3c2331ec69f60f66253e04a055,8647854efe986d7b8bcab5a3dbe6e7541c46713f"
8647854efe986d7b8bcab5a3dbe6e7541c46713f,8647854e,extras: add systemd unit file and tmpfiles.d configuration for fwknopd,"extras: add systemd unit file and tmpfiles.d configuration for fwknopd
",,,,Ilya Tumaykin,itumaykin@gmail.com,Ilya Tumaykin,itumaykin@gmail.com,1437275934,1437275934,795b1de4ddeeed3c2331ec69f60f66253e04a055
795b1de4ddeeed3c2331ec69f60f66253e04a055,795b1de4,[server] Added RULES_CHECK_THRESHOLD to define 'deep' rule expiration check frequency,"[server] Added RULES_CHECK_THRESHOLD to define 'deep' rule expiration check frequency

The RULES_CHECK_THRESHOLD variable defines the number of times firewall rule
expiration times must be checked before a ""deep"" check is run. This allows
fwknopd to remove rules that contain a proper '_exp_<time>' even if a third party
program added them instead of fwknopd. The default value for this variable is 20,
and this typically results in this check being run every two seconds or so. To
disable this type of checking altogether, set this variable to zero.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1437241037,1437241037,295a6a0d1489e8f80bd96dbf2488708c557803bf
295a6a0d1489e8f80bd96dbf2488708c557803bf,295a6a0d,[server] fix is_digits() logic and add tests,"[server] fix is_digits() logic and add tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1437193682,1437193682,76d8ce5158311c6881681bdc8fa8d74f44c61a8a
76d8ce5158311c6881681bdc8fa8d74f44c61a8a,76d8ce51,minor change to remove debugging statement,"minor change to remove debugging statement
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1437160668,1437160668,6e4ad4767fa08d0227547a628ba5c1898e55d78c
6e4ad4767fa08d0227547a628ba5c1898e55d78c,6e4ad476,[server] make sure fw _exp_NNN... strings contain only digits after the _exp_ prefix,"[server] make sure fw _exp_NNN... strings contain only digits after the _exp_ prefix
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1437160501,1437160501,b753812cf6a32cf934fa34544ecc426a6d559fa6
b753812cf6a32cf934fa34544ecc426a6d559fa6,b753812c,[server] minor addition of function names to fw command error log messages,"[server] minor addition of function names to fw command error log messages
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1437158908,1437158908,a8ef2922e6ec3127ed0dcb9148010aa4d5faec1c
a8ef2922e6ec3127ed0dcb9148010aa4d5faec1c,a8ef2922,Merge branch 'master' of https://github.com/mrash/fwknop,"Merge branch 'master' of https://github.com/mrash/fwknop
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1437155788,1437155788,"4169c6d477021c79cfb02df36dd9fd1e712a2a2e,c25f951b4279e236d2e6f708e0c26a7bb5479610"
c25f951b4279e236d2e6f708e0c26a7bb5479610,c25f951b,Merge pull request #161 from sgh7/master,"Merge pull request #161 from sgh7/master

[server] daemon exits if listened-to interface goes down",,,,Michael Rash,michael.rash@gmail.com,Michael Rash,michael.rash@gmail.com,1437187079,1437187079,"042bf2d438738c1c60b9dd6f95784700223e0de6,a212353765542e369cba342a58c66ea6247713e1"
4169c6d477021c79cfb02df36dd9fd1e712a2a2e,4169c6d4,[server] switch chain_exists() log message to LOG_DEBUG upon error since…,"[server] switch chain_exists() log message to LOG_DEBUG upon error since FWKNOP_INPUT almost never exists at startup
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1437154714,1437154714,e7b48af47c79e7c4f91b67626ff3015ad204561b
e7b48af47c79e7c4f91b67626ff3015ad204561b,e7b48af4,[server] Calculate payload length from IP header,"[server] Calculate payload length from IP header

Github user Scotte noticed that in his setup a 'VSS-Monitoring ethernet trailer'
was being added to incoming Ethernet frames that contained SPA packets. This
caused base64 decoding to break because the packet data length was calculated
from what libpcap returned for the frame (so these bytes became included in the
SPA payload itself). This issue was reported as #163 on github.

This commit has fwknopd calculate the SPA payload length using the length field
in the IP header so that any trailing bytes in the Ethernet frame are not
included. This solution also applies to the Ethernet Frame Check Sequence issue
(#126).
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1437116710,1437112970,042bf2d438738c1c60b9dd6f95784700223e0de6
042bf2d438738c1c60b9dd6f95784700223e0de6,042bf2d4,bump version to 2.6.7 (getting close to 2.6.7-pre1),"bump version to 2.6.7 (getting close to 2.6.7-pre1)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1437073174,1437073174,71d6f01d110ddfc3db631a3cd85dd1559f20410e
71d6f01d110ddfc3db631a3cd85dd1559f20410e,71d6f01d,[server] further no_chk_support for issue #162,"[server] further no_chk_support for issue #162
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1437072544,1437072544,3c8e03d062dd3adf36331be7306758b64d0e2e49
3c8e03d062dd3adf36331be7306758b64d0e2e49,3c8e03d0,[server] add stronger 'no -C' support for firewalld systems (issue #162),"[server] add stronger 'no -C' support for firewalld systems (issue #162)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1437071954,1437071954,72f03ae99cb5eab3c393ecead86eedbafe2aa16d
72f03ae99cb5eab3c393ecead86eedbafe2aa16d,72f03ae9,[test suite] fix 'FORWARD_ALL SNAT translate IP' test,"[test suite] fix 'FORWARD_ALL SNAT translate IP' test
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1436925011,1436925011,43f38551c95a6d1a1a418574277f868079a80def
43f38551c95a6d1a1a418574277f868079a80def,43f38551,[test suite] add ASAN mode to fko-wrapper,"[test suite] add ASAN mode to fko-wrapper
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1436923604,1436923604,fd07a9588092ee4a2e5caf1e2aef200ebdc661ff
fd07a9588092ee4a2e5caf1e2aef200ebdc661ff,fd07a958,add test/tests/address_sanitizer.pl,"add test/tests/address_sanitizer.pl
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1436922894,1436922894,f1c3806dca3d7e420e1d9b417ce499e17c9d2794
f1c3806dca3d7e420e1d9b417ce499e17c9d2794,f1c3806d,[test suite] added tests for duplicate rule detection (issue #162),"[test suite] added tests for duplicate rule detection (issue #162)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1436922826,1436922826,3de56f8f89836f9686984d0f4ba4488a5770a8bf
3de56f8f89836f9686984d0f4ba4488a5770a8bf,3de56f8f,[test suite] add valgrind string to client command line for garbage collection test,"[test suite] add valgrind string to client command line for garbage collection test
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1436841681,1436841681,588cba6063d106208edb8104a92a6c3fac247ea1
588cba6063d106208edb8104a92a6c3fac247ea1,588cba60,[test suite] validate iptables rule garbage collection (added in ef9498f7),"[test suite] validate iptables rule garbage collection (added in ef9498f7)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1436839198,1436839198,ef9498f7834d0df8e230f3ef9f2640b65fd3248a
ef9498f7834d0df8e230f3ef9f2640b65fd3248a,ef9498f7,[server] Implement garbage cleanup mode for rule deletion,"[server] Implement garbage cleanup mode for rule deletion

This is a significant commit that allows fwknopd to delete expired rules
from the firewall policy regardless of whether fwknopd is tracking them.
That is, a third party program could insert rules into the fwknopd
chains (iptables for now, but this will be extended to the other
firewalls) in order to take advantage of fwknopd rule deletion.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1436837356,1436837356,41b137611fa49a81dd7d13aba3c7ae8696fb15e7
41b137611fa49a81dd7d13aba3c7ae8696fb15e7,41b13761,[test suite] validate multiple rules removed in a single check_firewall_rules()…,"[test suite] validate multiple rules removed in a single check_firewall_rules() pass - validates f4f2ada1
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1436755806,1436755806,bb90a0cb2e6b888b6ba0cc56cce30266b807597b
bb90a0cb2e6b888b6ba0cc56cce30266b807597b,bb90a0cb,[server] minor comment addition,"[server] minor comment addition
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1436749029,1436749029,f4f2ada1c086a5f8a72845e3001471b8e620198e
f4f2ada1c086a5f8a72845e3001471b8e620198e,f4f2ada1,[server] bug fix to not zero the wrong buffer for iptables rule deletion,"[server] bug fix to not zero the wrong buffer for iptables rule deletion

This commit fixes a bug where zero_cmd_buffers() was being called against the
wrong buffer as SPA rules were supposed to be deleted. Although multiple
iterations of check_firewall_rules() would have compensated, some rules would
not have been deleted as quickly as they should have in multi-rule scenarios.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1436747766,1436747766,416023723f011da6e7647a2023695648b8eb0aa8
416023723f011da6e7647a2023695648b8eb0aa8,41602372,minor #define addition,"minor #define addition
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1436664536,1436664536,cd18570f717bf671453db9e8afc8302edf4fad6d
cd18570f717bf671453db9e8afc8302edf4fad6d,cd18570f,[server] default to not returning partial line when collecting the output of an external command,"[server] default to not returning partial line when collecting the output of an external command
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1436582744,1436582744,5460509f8807304aca16de6ea80c02119fd92546
5460509f8807304aca16de6ea80c02119fd92546,5460509f,[server] add NAT rule existence detection for --no-ipt-check support (issue #162),"[server] add NAT rule existence detection for --no-ipt-check support (issue #162)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1436272096,1436272096,4874dc9c83823b216479524fd1fcefd96e99e282
4874dc9c83823b216479524fd1fcefd96e99e282,4874dc9c,[test suite] add --gpg-exe invalid path test,"[test suite] add --gpg-exe invalid path test
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1436151323,1436151323,012d1cf8884da137f21620f92045a35203eb819f
012d1cf8884da137f21620f92045a35203eb819f,012d1cf8,[server] interim commit towards a fix for --no-ipt-check rule detection,"[server] interim commit towards a fix for --no-ipt-check rule detection

This is a significant commit for issue #162 where fwknopd is not properly
detecting rules (particularly NAT rules) on systems running older versions
of iptables where -C support is not offered. A new capability of searching
the output of an external command and getting the first matching line was
added with the search_extcmd_getline() function.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1436143626,1436143626,5a58390ab4172545b59f5f7bd64bf1bd81bb4829
5a58390ab4172545b59f5f7bd64bf1bd81bb4829,5a58390a,[test suite] add dupe rule server output check,"[test suite] add dupe rule server output check
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1436044369,1436044369,86bcf243e6bf675c478b9c8a8eb3812caa0fc7c5
86bcf243e6bf675c478b9c8a8eb3812caa0fc7c5,86bcf243,[test suite] bug fix for iptables vs. firewalld,"[test suite] bug fix for iptables vs. firewalld
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1436043788,1436043788,4c7679fabd225e27145e5770d6e36931926560f0
4c7679fabd225e27145e5770d6e36931926560f0,4c7679fa,[server] start on sudo usage for command exec (issue #159),"[server] start on sudo usage for command exec (issue #159)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1435895056,1435895056,ff9adc5f5113e913cd7016690c81106e56f2d780
a212353765542e369cba342a58c66ea6247713e1,a2123537,[server] daemon exits if listened-to interface goes down,"[server] daemon exits if listened-to interface goes down

This commit fixes fwknopd becoming non-responsive should the interface
temporarily cycles through a down state.  Verified on CentOS 7.
",,,,Steve Harvey,sgh@vex.net,Steve Harvey,sgh@vex.net,1435879983,1435879983,ff9adc5f5113e913cd7016690c81106e56f2d780
ff9adc5f5113e913cd7016690c81106e56f2d780,ff9adc5f,add OS X ramdisk wrapper script,"add OS X ramdisk wrapper script
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1435751004,1435751004,788bf543c8b1bc4dc75a0c14486f2aab58a9d7c3
788bf543c8b1bc4dc75a0c14486f2aab58a9d7c3,788bf543,[extras] added ramdisk-create-osx.sh for Mac OS X systems,"[extras] added ramdisk-create-osx.sh for Mac OS X systems
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1435713840,1435713840,814d9e10500b515a22edafa5676f6039ea966e20
814d9e10500b515a22edafa5676f6039ea966e20,814d9e10,[test suite] minor comment update,"[test suite] minor comment update
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1435711621,1435711621,464a680f137653444ae9031274d94cf26282ffbb
464a680f137653444ae9031274d94cf26282ffbb,464a680f,[server] minor --udp-server option handling update for completeness,"[server] minor --udp-server option handling update for completeness
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1435711447,1435711447,ca2a73e3334bd15b2cdfd797e86a10e8cfac743c
ca2a73e3334bd15b2cdfd797e86a10e8cfac743c,ca2a73e3,add --with-firewalld autoconf argument as a synonym for --with-firewall-cmd,"add --with-firewalld autoconf argument as a synonym for --with-firewall-cmd
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1435632482,1435694344,ca54ec7a9b445fa15ed798a1052c250c15ba9941
ca54ec7a9b445fa15ed798a1052c250c15ba9941,ca54ec7a,[test suite] integrate afl-cov with afl-fuzz wrapper scripts,"[test suite] integrate afl-cov with afl-fuzz wrapper scripts

Here is an example for the client-rc.sh wrapper script to have it also
generate code coverage results for afl-fuzz (afl-cov is enabled via two
environmental variables AFL_COV and CODE_DIR).

$ cd /tmp/afl-ramdisk/fwknop.git/test/afl/
$ AFL_COV=1 CODE_DIR=/home/mbr/git/fwknop.git ./fuzzing-wrappers/client-rc.sh
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1435630010,1435630010,5ba88e7b83f6ee5d822da3bb5c51fc329bd66d8c
5ba88e7b83f6ee5d822da3bb5c51fc329bd66d8c,5ba88e7b,[test suite] support afl-fuzz on Mac OS X which uses afl-clang,"[test suite] support afl-fuzz on Mac OS X which uses afl-clang
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1435294880,1435333188,2b5c38dc2befd6d88babc03617604d95d042a9f7
2b5c38dc2befd6d88babc03617604d95d042a9f7,2b5c38dc,[test suite] default to not zeroing profile coverage counters,"[test suite] default to not zeroing profile coverage counters

    The typical work flow when generating gcov coverage results is:

- compile fwknop with coverage support
- run the test suite
- hack on fwknop
- re-run the test suite to see what coverage has been added

This work flow is much more common than collecting coverage results
for a complete test suite run. Therefore, this commit switches the
default behavior in --enable-complete mode (which enables coverage
support) to not zero-out coverage counters. A new argument
--enable-profile-coverage-init zeros the counters in preparation
for a global coverage run.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1435103785,1435103785,bc6118e19fd4c21ec1eb4b5f1e8d5155929a1a1a
bc6118e19fd4c21ec1eb4b5f1e8d5155929a1a1a,bc6118e1,[test suite] added missing test/asan/Makefile,"[test suite] added missing test/asan/Makefile
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1434513597,1434633370,5c4f7dac9be5f7f994697b2edc1df4a1b092f892
5c4f7dac9be5f7f994697b2edc1df4a1b092f892,5c4f7dac,[test suite] add fwknoprc2 file to AFL client rc test cases,"[test suite] add fwknoprc2 file to AFL client rc test cases
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1434507396,1434507396,df51dacf17bf79ac50bf5ada4975a6f898fe4b27
df51dacf17bf79ac50bf5ada4975a6f898fe4b27,df51dacf,add test/asan/ files,"add test/asan/ files
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1434506796,1434506796,e2520754bf2d743524c55a0d74ec75f43cea5759
e2520754bf2d743524c55a0d74ec75f43cea5759,e2520754,update CREDITS file to include Fwknop2,"update CREDITS file to include Fwknop2
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1434504905,1434504905,4d3c4721169685e6aa1b8772ca4e0b458eb22249
4d3c4721169685e6aa1b8772ca4e0b458eb22249,4d3c4721,[test suite] add Rijndael+HMAC test for F-Droid Fwknop2 client written by Jonathan Bennett,"[test suite] add Rijndael+HMAC test for F-Droid Fwknop2 client written by Jonathan Bennett
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1434504739,1434504739,e0778a2d37a1a5f067367be826a6807f4ed0ac48
e0778a2d37a1a5f067367be826a6807f4ed0ac48,e0778a2d,[test suite] disable fault injection 'tag' tests with the fko wrapper does not…,"[test suite] disable fault injection 'tag' tests with the fko wrapper does not compile against libfiu
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1434340734,1434401593,7da6b9e78771a18f1d4547bb9d6f3c2fe3cf4389
7da6b9e78771a18f1d4547bb9d6f3c2fe3cf4389,7da6b9e7,[test suite] produce include/exclude stats,"[test suite] produce include/exclude stats
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1434339835,1434401319,7e6ec092f6eadb2c0ee670ad884a77626e304809
7e6ec092f6eadb2c0ee670ad884a77626e304809,7e6ec092,[test suite] consolidate crash detection into a single function,"[test suite] consolidate crash detection into a single function
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1434338598,1434399179,e20c09d572b192c880a74246e17889eb7aa07248
e20c09d572b192c880a74246e17889eb7aa07248,e20c09d5,[test suite] add ASAN verification if fwknop is compiled with ASAN support,"[test suite] add ASAN verification if fwknop is compiled with ASAN support
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1434334534,1434334534,e8cc2845fa761269f7e40fa0c85b808c92df6d7b
e8cc2845fa761269f7e40fa0c85b808c92df6d7b,e8cc2845,[test suite] minor formatting update,"[test suite] minor formatting update
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1434286770,1434286770,70fd1c990f9ecbd7084d7683eb29d58c38d1a3a3
70fd1c990f9ecbd7084d7683eb29d58c38d1a3a3,70fd1c99,include link to DefCon 14 presentation on fwknop + Tor,"include link to DefCon 14 presentation on fwknop + Tor
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1434285666,1434285666,9ce5ad47c055c4930ad59e457ef2253ac3ce23de
9ce5ad47c055c4930ad59e457ef2253ac3ce23de,9ce5ad47,[test suite] disable python tests if Python.h is missing,"[test suite] disable python tests if Python.h is missing
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1434202271,1434202271,c8cdc91974f44b8807d09bbb004e40c762d34980
c8cdc91974f44b8807d09bbb004e40c762d34980,c8cdc919,[test suite] added test for Rijndael-only SPA packet from the Android Fwknop2-v1.0-RC.2 binary,"[test suite] added test for Rijndael-only SPA packet from the Android Fwknop2-v1.0-RC.2 binary
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1434156382,1434156382,404c34a0db97b3b8476365c4ecc65c2348629c1a
404c34a0db97b3b8476365c4ecc65c2348629c1a,404c34a0,[test suite] allow for missing makeinfo binary in recompliation tests,"[test suite] allow for missing makeinfo binary in recompliation tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1434074581,1434124076,b11217dc0789a36689e4f5e52710f182a9777bfb
b11217dc0789a36689e4f5e52710f182a9777bfb,b11217dc,[test suite] better integration with Google's Address Sanitizer and AFL,"[test suite] better integration with Google's Address Sanitizer and AFL
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1434072521,1434072521,f96e60f479c8c9d61749cb2e1a46451d0a5968fc
f96e60f479c8c9d61749cb2e1a46451d0a5968fc,f96e60f4,Merge branch 'master' of https://github.com/mrash/fwknop,"Merge branch 'master' of https://github.com/mrash/fwknop
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1434028195,1434028195,"5616c7ba6d067f9628af1082e91eddaa0631000f,674242388922d33f9e549be7f4d2eab98a3e906e"
674242388922d33f9e549be7f4d2eab98a3e906e,67424238,this Android client has been deprecated in favor of Jonathan Bennett's new…,"this Android client has been deprecated in favor of Jonathan Bennett's new client: https://github.com/oneru/Fwknop2/releases
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1433982131,1433982131,090bda3326bd17857a8132e0fcf465caa4448266
5616c7ba6d067f9628af1082e91eddaa0631000f,5616c7ba,[test suite] removed deprecated AFL compile script,"[test suite] removed deprecated AFL compile script
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1433894476,1433894476,e4106d1ee5e844b36068b5cd45ed0e0864f732a7
e4106d1ee5e844b36068b5cd45ed0e0864f732a7,e4106d1e,[test suite] removed deprecated AFL compile script,"[test suite] removed deprecated AFL compile script
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1433894387,1433894387,e3bf862238a9ca6a8a13b6ecec50c0078fde9301
e3bf862238a9ca6a8a13b6ecec50c0078fde9301,e3bf8622,[test suite] removed deprecated AFL compile script,"[test suite] removed deprecated AFL compile script
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1433894360,1433894360,090bda3326bd17857a8132e0fcf465caa4448266
090bda3326bd17857a8132e0fcf465caa4448266,090bda33,[test suite] proper path for AFL server-conf test case config files (iptables vs. firewalld),"[test suite] proper path for AFL server-conf test case config files (iptables vs. firewalld)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1433867345,1433867345,f99e7831d89e9cfa9ed8062b5cba7ab602925973
f99e7831d89e9cfa9ed8062b5cba7ab602925973,f99e7831,update README.md to include use cases and features,"update README.md to include use cases and features
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1433640657,1433864300,0d83c967c0a17ce8bf15e3da87a40ace9b02dc06
0d83c967c0a17ce8bf15e3da87a40ace9b02dc06,0d83c967,[client] minor typo fixes,"[client] minor typo fixes
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1433637901,1433863911,1fb9747b2b2cd14e83f02e88de24ea541073dfe0
1fb9747b2b2cd14e83f02e88de24ea541073dfe0,1fb9747b,[test suite] added Rijndael+HMAC test for Fwknop2 Beta1,"[test suite] added Rijndael+HMAC test for Fwknop2 Beta1
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1433699040,1433699040,cff4dcc1e7fa4575e10b83e90a85223c9fbe4beb
cff4dcc1e7fa4575e10b83e90a85223c9fbe4beb,cff4dcc1,[test suite] Added Rijndael+HMAC test for Jonathan Bennett's Fwknop2 Android app,"[test suite] Added Rijndael+HMAC test for Jonathan Bennett's Fwknop2 Android app
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1433473341,1433473341,ff052bf74fa5fabdb95393633c138855872b20fa
ff052bf74fa5fabdb95393633c138855872b20fa,ff052bf7,[server] disable external command execution in AFL fuzzing mode,"[server] disable external command execution in AFL fuzzing mode
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1433213869,1433213869,7c23cb72f17059d2247543434523608334a075c5
7c23cb72f17059d2247543434523608334a075c5,7c23cb72,[test suite] differentiate firewalld vs. iptables for fwknopd.conf file fuzzing,"[test suite] differentiate firewalld vs. iptables for fwknopd.conf file fuzzing
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1433212585,1433212606,7bbc30f34cfbea25349727a36958a93611e65a01
7bbc30f34cfbea25349727a36958a93611e65a01,7bbc30f3,"[server] bug fix for --key-gen being called inappropriately, add fw compiled string to -V","[server] bug fix for --key-gen being called inappropriately, add fw compiled string to -V
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1433038823,1433161647,9b189fe76289ded69ddfcb4aa69857a6cfa2638b
9b189fe76289ded69ddfcb4aa69857a6cfa2638b,9b189fe7,[client] ensure that encryption and HMAC keys are not read from stdin in AFL fuzzing mode,"[client] ensure that encryption and HMAC keys are not read from stdin in AFL fuzzing mode
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1433037694,1433161547,eed3dc8ad220d7430f57dbf35a89ae9cabcbf31c
eed3dc8ad220d7430f57dbf35a89ae9cabcbf31c,eed3dc8a,[test suite] minor comment update to mention afl-cov,"[test suite] minor comment update to mention afl-cov
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1433036110,1433036110,0388baa6653ff41bb37eb8eab768d5758a7010f8
0388baa6653ff41bb37eb8eab768d5758a7010f8,0388baa6,replaced raw lcov results with a link,"replaced raw lcov results with a link
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1432864233,1432864233,73f22bab16516d58f61fd6fb1c631edc4c6ab587
73f22bab16516d58f61fd6fb1c631edc4c6ab587,73f22bab,added cumulative afl-cov web coverage report for 136d017,"added cumulative afl-cov web coverage report for 136d017
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1432843434,1432843434,98f852b5af1084561a9a01337724d63168130c94
98f852b5af1084561a9a01337724d63168130c94,98f852b5,added server-conf fuzzing results,"added server-conf fuzzing results
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1432490452,1432490452,833dc7e4f6e8f19eb6eebc086cb204a217c36be0
833dc7e4f6e8f19eb6eebc086cb204a217c36be0,833dc7e4,added client-rc results,"added client-rc results
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1432487780,1432487780,85e07f99c47adf3153722a271204f54ce7ed2ff7
85e07f99c47adf3153722a271204f54ce7ed2ff7,85e07f99,man page updates,"man page updates
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1432323078,1432323078,85f42012ca5697f8bc9f7d1620de6e51a5b601d6
85f42012ca5697f8bc9f7d1620de6e51a5b601d6,85f42012,add --key-gen and associated options to the fwknopd man page,"add --key-gen and associated options to the fwknopd man page
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1432226131,1432226131,2e377985dac06f54202ca5cdaa6ee511a439ae64
2e377985dac06f54202ca5cdaa6ee511a439ae64,2e377985,add ramdisk-create.sh and console-rq.sh,"add ramdisk-create.sh and console-rq.sh
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1432173684,1432173684,29defca4d5d4c701a6faa350a16ebab8361e0a84
29defca4d5d4c701a6faa350a16ebab8361e0a84,29defca4,(Jonathan Bennett) added console-qr.sh script to create QR codes from fwknopd access.conf keys,"(Jonathan Bennett) added console-qr.sh script to create QR codes from fwknopd access.conf keys
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1432173150,1432173150,ce76a063e1afdd8181e4d7ea12908402c3cc2645
ce76a063e1afdd8181e4d7ea12908402c3cc2645,ce76a063,Merge branch 'master' of https://github.com/mrash/fwknop,"Merge branch 'master' of https://github.com/mrash/fwknop
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1432171533,1432171533,"81cdb0506f614641d3285689b5c927934ec6ad16,1f454622064da8db625f4e1833c83a63c403a80f"
1f454622064da8db625f4e1833c83a63c403a80f,1f454622,[extras] run ramdisk creation script from top level sources directory,"[extras] run ramdisk creation script from top level sources directory
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1432261094,1432261094,de3bca2f9ebf6977f9f1e083637d6ec1bf89cf43
81cdb0506f614641d3285689b5c927934ec6ad16,81cdb050,added spa-pkts fuzzing cycle,"added spa-pkts fuzzing cycle
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1432166263,1432166263,de3bca2f9ebf6977f9f1e083637d6ec1bf89cf43
de3bca2f9ebf6977f9f1e083637d6ec1bf89cf43,de3bca2f,handle key generation before config parsing,"handle key generation before config parsing
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1432140471,1432140471,ceb1713976902677a7c0e817f7a0ecfc1a485eed
ceb1713976902677a7c0e817f7a0ecfc1a485eed,ceb17139,add --key-gen option to fwknopd (suggested by Jonathan Bennett),"add --key-gen option to fwknopd (suggested by Jonathan Bennett)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1432137317,1432137317,3e2e73ff99a1886d233af275a9407e219d43cd8e
3e2e73ff99a1886d233af275a9407e219d43cd8e,3e2e73ff,moved 136d017 AFL results to 2.6.7 directory,"moved 136d017 AFL results to 2.6.7 directory
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1432087672,1432087672,f659fe849f78032bf47503b406fe1284f311ab8c
f659fe849f78032bf47503b406fe1284f311ab8c,f659fe84,added server digest and access AFL runs,"added server digest and access AFL runs
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1432087576,1432087576,136d017afb5c7021251db2be741d30cc1e13ed91
136d017afb5c7021251db2be741d30cc1e13ed91,136d017a,"[client] ensure no dns, http, or other network comms in AFL fuzzing mode","[client] ensure no dns, http, or other network comms in AFL fuzzing mode
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1431651085,1431651085,7817d28a2d486433e4706b7b20aefdc183c1b23a
7817d28a2d486433e4706b7b20aefdc183c1b23a,7817d28a,[test suite] minor check for AFL compile configure success,"[test suite] minor check for AFL compile configure success
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1431650995,1431650995,28dc60f9bd41555fc24c7f08bc153ae6e04d8e5c
28dc60f9bd41555fc24c7f08bc153ae6e04d8e5c,28dc60f9,added server-conf AFL fuzzing cycle results,"added server-conf AFL fuzzing cycle results
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1431318010,1431318010,378b54748c1d8e1d6acdff7dc7653fbfeaadc130
378b54748c1d8e1d6acdff7dc7653fbfeaadc130,378b5474,Updated error code descriptions and fixed function description formats in the libfko docs.,"Updated error code descriptions and fixed function description formats in the libfko docs.
",,,,Damien Stuart,dstuart@dstuart.org,Damien Stuart,dstuart@dstuart.org,1430771621,1430771621,87a2fbda0c8aa06dfa54205bc5302195185ff582
2ea2aea0bae2226bc90f6e66012a25fb1915099d,2ea2aea0,Tweaks for unit test support,"Tweaks for unit test support
",,,,Damien Stuart,dstuart@dstuart.org,Damien Stuart,dstuart@dstuart.org,1430660797,1430660797,41571a645395ee68a7cb33e575900aa17e544e83
87a2fbda0c8aa06dfa54205bc5302195185ff582,87a2fbda,Bump version in config.h for the Windows build.,"Bump version in config.h for the Windows build.
",,,,Damien Stuart,dstuart@dstuart.org,Damien Stuart,dstuart@dstuart.org,1429968924,1429968924,bcfc313e36d1236b73401fa32c1dce978ffeab15
bcfc313e36d1236b73401fa32c1dce978ffeab15,bcfc313e,[test suite] minor bug fix for rm previous coverage script path,"[test suite] minor bug fix for rm previous coverage script path
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1429923343,1429923343,93383c8430f1ef6668d5ece284334f7e045c6940
93383c8430f1ef6668d5ece284334f7e045c6940,93383c84,changes since 2.6.5,"changes since 2.6.5
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1429755015,1429755015,707c59d12793fbf7805767ef868f4166c831c90b
707c59d12793fbf7805767ef868f4166c831c90b,707c59d1,minor 2.6.6 release date update,"minor 2.6.6 release date update
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1429754986,1429754986,e209acc196fa673037642512d9571485b592face
e209acc196fa673037642512d9571485b592face,e209acc1,minor ChangeLog update,"minor ChangeLog update
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1429690200,1429690200,17d1071aa8265030c7944ce932bf984b9920ec2b
17d1071aa8265030c7944ce932bf984b9920ec2b,17d1071a,[server / test suite] cleaner SNAT MASQUERADE support,"[server / test suite] cleaner SNAT MASQUERADE support
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1429689657,1429689657,6bdfa95067d3f9e1374273edfa5db857e10ca47c
6bdfa95067d3f9e1374273edfa5db857e10ca47c,6bdfa950,[server / test suite] cleaner SNAT MASQUERADE support,"[server / test suite] cleaner SNAT MASQUERADE support
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1429689515,1429689515,176afecd9fd325a0479826d877887997ece97fc0
176afecd9fd325a0479826d877887997ece97fc0,176afecd,[server] minor spacing fix,"[server] minor spacing fix
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1429664960,1429664960,d961165a5ba38261fbdba275c45820c261455bd2
d961165a5ba38261fbdba275c45820c261455bd2,d961165a,Merge branch 'master' of ssh://fedora21/home/mbr/git/fwknop,"Merge branch 'master' of ssh://fedora21/home/mbr/git/fwknop
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1429658885,1429658885,"3512f7f417d61ccab669ab637038688ba44385a9,6467b922d53949ffa0cf49af1e0632e0b4b55534"
6467b922d53949ffa0cf49af1e0632e0b4b55534,6467b922,[test suite] additional FORWARD_ALL tests,"[test suite] additional FORWARD_ALL tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1429612232,1429612232,75d40049630c9239a17bfb17c01920e5c356a6d9
3512f7f417d61ccab669ab637038688ba44385a9,3512f7f4,doc updates,"doc updates
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1429580052,1429580052,95bf4dcb8703ce7637519294df979b94e781f163
95bf4dcb8703ce7637519294df979b94e781f163,95bf4dcb,Merge pull request #153 from Coacher/master,"Merge pull request #153 from Coacher/master

extras: adjust 'localstatedir' value for the AppArmor profile",,,,Michael Rash,michael.rash@gmail.com,Michael Rash,michael.rash@gmail.com,1429579690,1429579690,"bdc3751a840d7cc0c5944b767cd11d4355d59137,f757b4ebdad0f304528ad2d7cd26c09e0917988b"
75d40049630c9239a17bfb17c01920e5c356a6d9,75d40049,changes since 2.6.5,"changes since 2.6.5
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1429546777,1429546777,95bf4dcb8703ce7637519294df979b94e781f163
bdc3751a840d7cc0c5944b767cd11d4355d59137,bdc3751a,bump version to 2.6.6,"bump version to 2.6.6
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1429544871,1429544871,f18827b002e9f878b567bf0b05a1756a698de163
f18827b002e9f878b567bf0b05a1756a698de163,f18827b0,[test suite] make valgrind results requirements stronger for test passage,"[test suite] make valgrind results requirements stronger for test passage
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1429544709,1429544709,94af6172bb9ad73d3c1fe7f7641c1b52a0c85a91
94af6172bb9ad73d3c1fe7f7641c1b52a0c85a91,94af6172,[server] minor -h usage update,"[server] minor -h usage update
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1429544488,1429544488,85733ded3cfab98fe4c95fc9f64680219334d5cf
85733ded3cfab98fe4c95fc9f64680219334d5cf,85733ded,[test suite] additional iptables exclusions for non-iptables systems,"[test suite] additional iptables exclusions for non-iptables systems
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1429490041,1429538963,b2109f563011786ab8cc7d8aca79d72db1b74cdf
f757b4ebdad0f304528ad2d7cd26c09e0917988b,f757b4eb,extras: adjust 'localstatedir' value for the AppArmor profile,"extras: adjust 'localstatedir' value for the AppArmor profile

Comments in the shipped AppArmor profile state that fwknopd is assumed
to be built with 'localstatedir=/var', which is misleading for several
reasons:

* AppArmor profile assumes that fwknopd's pidfile and digest cache are
under /run/fwknop by the looks of it, i.e. 'localstatedir' is '/run'.

* By default these files are placed under /var/run/fwknop. Thus this
profile implicitly relies on the existence of '/var/run -> /run' symlink
and won't work otherwise when 'localstatedir' is '/var'

Since GitHub PR#152 was merged, 'localstatedir' can be simply set to
'/run' for AppArmor users to avoid this confusion. This changeset does
it.

If anyone had it working before, they should have it working now as the
shipped AppArmor profile required /run existence before as well.
",,,,Ilya Tumaykin,itumaykin@gmail.com,Ilya Tumaykin,itumaykin@gmail.com,1429529557,1429529557,b2109f563011786ab8cc7d8aca79d72db1b74cdf
b2109f563011786ab8cc7d8aca79d72db1b74cdf,b2109f56,[server] remove unncessary NULL check spotted by Coverity,"[server] remove unncessary NULL check spotted by Coverity
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1429497883,1429497883,f962edda0023a07554342cb7a0aaabd15ad1c8ff
f962edda0023a07554342cb7a0aaabd15ad1c8ff,f962edda,[extras] update Coverity installation path,"[extras] update Coverity installation path
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1429497426,1429497426,a606a9c565df1359c383f7f356b8dfd0203fba9f
a606a9c565df1359c383f7f356b8dfd0203fba9f,a606a9c5,[test suite] fw prefixes aren't used on non-Linux systems yet,"[test suite] fw prefixes aren't used on non-Linux systems yet
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1429494728,1429494728,48acac160a230baf1d892ef60b796f33d5790121
48acac160a230baf1d892ef60b796f33d5790121,48acac16,[test suite] pick up pf and ipfw firewalls for prefix designation,"[test suite] pick up pf and ipfw firewalls for prefix designation
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1429494568,1429494568,db80c81f660e0be5ba8229af631b87462fa273e8
db80c81f660e0be5ba8229af631b87462fa273e8,db80c81f,Merge pull request #152 from Coacher/master,"Merge pull request #152 from Coacher/master

server: remove extra '/run' subdir from paths ",,,,Michael Rash,michael.rash@gmail.com,Michael Rash,michael.rash@gmail.com,1429492551,1429492551,"e39d34750bc9a751c07d4132715ef3d971e0821f,b21c04e9d6c49ebbc613080733193698569dd639"
e39d34750bc9a751c07d4132715ef3d971e0821f,e39d3475,[server] switch from abs() to labs() for time difference calculation,"[server] switch from abs() to labs() for time difference calculation

This commit fixes the following warning during compilation on Mac OS X:

gcc -DHAVE_CONFIG_H -I. -I..  -I ../lib -I ../common -DSYSCONFDIR=\""/etc\"" -DSYSRUNDIR=\""/var\""   -g -O2 -Wall -Wformat -Wformat-security -fstack-protector-all -fstack-protector -fPIE -D_FORTIFY_SOURCE=2 -MT fwknopd-incoming_spa.o -MD -MP -MF .deps/fwknopd-incoming_spa.Tpo -c -o fwknopd-incoming_spa.o `test -f 'incoming_spa.c' || echo './'`incoming_spa.c
incoming_spa.c:736:23: warning: absolute value function 'abs' given an argument of
      type 'long' but has parameter of type 'int' which may cause truncation of
      value [-Wabsolute-value]
            ts_diff = abs(now_ts - spadat.timestamp);
                      ^
incoming_spa.c:736:23: note: use function 'labs' instead
            ts_diff = abs(now_ts - spadat.timestamp);
                      ^~~
                      labs
1 warning generated.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1429490898,1429490898,93a3798cc10ea1a3eb746d8a2a1fc844410a9c83
b21c04e9d6c49ebbc613080733193698569dd639,b21c04e9,Merge remote-tracking branch 'upstream/master',"Merge remote-tracking branch 'upstream/master'
",,,,Ilya Tumaykin,itumaykin@gmail.com,Ilya Tumaykin,itumaykin@gmail.com,1429487201,1429487201,"e333cba945925ae356d83ba0da3a95ee82bc8fb2,93a3798cc10ea1a3eb746d8a2a1fc844410a9c83"
e333cba945925ae356d83ba0da3a95ee82bc8fb2,e333cba9,server: remove extra '/run' subdir from paths,"server: remove extra '/run' subdir from paths

Having extra '/run' subdirectory hardcoded into paths used for options
'digest-file', 'pid-file', 'run-dir' is counterintuitive and can lead to
bogus directory layouts when 'localstatedir' differs from the default
value.

For example, if 'localstatedir' is set to '/run', which is a common and
recommended substitute for /var/run in many distros nowadays, then
fwknop files will be placed under /run/run/fwknop.

This changeset removes extra '/run' subdirectory from all relevant paths
by changing DEF_RUN_DIR. Default value of 'localstatedir' is changed to
'/var/run' so users who relied on the previous behaviour won't have to
bother changing anything.

This is tested and works. Gentoo have this patch applied since 2.6.0.
",,,,Ilya Tumaykin,itumaykin@gmail.com,Ilya Tumaykin,itumaykin@gmail.com,1429486990,1429486990,b1100cb730a71bafb5bd42184e5981afc305858c
93a3798cc10ea1a3eb746d8a2a1fc844410a9c83,93a3798c,[test suite] exclude server restart cycle from valgrind results parsing,"[test suite] exclude server restart cycle from valgrind results parsing
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1429475111,1429475111,cc765a23dba91f7ef4f7bbfe75dba90377cf4e68
cc765a23dba91f7ef4f7bbfe75dba90377cf4e68,cc765a23,[test suite] minor FORCE_NAT config tweak,"[test suite] minor FORCE_NAT config tweak
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1429471375,1429471375,b1100cb730a71bafb5bd42184e5981afc305858c
b1100cb730a71bafb5bd42184e5981afc305858c,b1100cb7,[server] NAT validation only applies to systems running iptables or firewalld,"[server] NAT validation only applies to systems running iptables or firewalld
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1429452990,1429452990,68db4b77a5c0c87682160e212a81acb4e682d8ee
68db4b77a5c0c87682160e212a81acb4e682d8ee,68db4b77,[server] allow FORWARD_ALL to control whether FORCE_NAT is required,"[server] allow FORWARD_ALL to control whether FORCE_NAT is required
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1429452670,1429452670,0ecc2d233365234cd0690e19000bfd56d910104e
0ecc2d233365234cd0690e19000bfd56d910104e,0ecc2d23,minor docs update,"minor docs update
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1429452626,1429452626,bb5aa928d90963bc43ca320d0680b5bcaaa95718
bb5aa928d90963bc43ca320d0680b5bcaaa95718,bb5aa928,[server] fix typos from corresponding firewalld changes,"[server] fix typos from corresponding firewalld changes
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1429385591,1429385591,c9dedd33784581726571a7437dda3ccc7476655a
c9dedd33784581726571a7437dda3ccc7476655a,c9dedd33,Merge branch 'master' of https://github.com/mrash/fwknop,"Merge branch 'master' of https://github.com/mrash/fwknop
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1429360741,1429360741,"03959653ca1dee79337bea76bd2320fe86418569,baf3f706d8cbce7f0a91e2b394a054f8b590eaf0"
03959653ca1dee79337bea76bd2320fe86418569,03959653,[server] differentiate MASQUERADE from SNAT with a dedicated FWKNOP_MASQUERADE chain,"[server] differentiate MASQUERADE from SNAT with a dedicated FWKNOP_MASQUERADE chain
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1429360715,1429360715,f06c6e3b9c4e4d5a83af4d22f0d5d7592f1a45de
f06c6e3b9c4e4d5a83af4d22f0d5d7592f1a45de,f06c6e3b,[test suite] allow default FORCE_NAT 0.0.0.0 0 to apply,"[test suite] allow default FORCE_NAT 0.0.0.0 0 to apply
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1429360651,1429360651,19f00c0dbef4548cb702794a5757301357b2a259
19f00c0dbef4548cb702794a5757301357b2a259,19f00c0d,"[test suite] add jump rule validation, include complete fwknopd chain listings","[test suite] add jump rule validation, include complete fwknopd chain listings
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1429360380,1429360380,55cbebe7bbda3540d6113bc6807be5ddebbaf059
55cbebe7bbda3540d6113bc6807be5ddebbaf059,55cbebe7,ChangeLog and doc updates,"ChangeLog and doc updates
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1429360239,1429360239,1e9f7e94f0152e14535ce66de915ee05664d9a3b
baf3f706d8cbce7f0a91e2b394a054f8b590eaf0,baf3f706,Merge pull request #151 from mrdanbrooks/master,"Merge pull request #151 from mrdanbrooks/master

android: allow definition of custom server udp port",,,,Michael Rash,michael.rash@gmail.com,Michael Rash,michael.rash@gmail.com,1429235159,1429235159,"1e9f7e94f0152e14535ce66de915ee05664d9a3b,fba6473b1cd5475311c990477dbff05d56d439dc"
fba6473b1cd5475311c990477dbff05d56d439dc,fba6473b,android: allow definition of custom server udp port,"android: allow definition of custom server udp port
",,,,dan brooks,dan@danbrooks.net,dan brooks,dan@danbrooks.net,1429131154,1429131154,912c625e9e71ec186d7c8ee6179e34a2ee00dfd7
1e9f7e94f0152e14535ce66de915ee05664d9a3b,1e9f7e94,[server] consolidate chain creation within mk_chain(),"[server] consolidate chain creation within mk_chain()
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1428879901,1429024860,c0f3ed38a8f2347e9db5679fa2488ad3cc31c94a
c0f3ed38a8f2347e9db5679fa2488ad3cc31c94a,c0f3ed38,[server] further error status simplication for firewalld,"[server] further error status simplication for firewalld
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1428879689,1429024503,cf8c4df50e20b352897b130fa1abde6bb8a75eeb
cf8c4df50e20b352897b130fa1abde6bb8a75eeb,cf8c4df5,[server] remove DISABLE_DNAT exception for SPA packets that request a NAT…,"[server] remove DISABLE_DNAT exception for SPA packets that request a NAT operation - this is reserved for FORCE_NAT scenarios
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1428879464,1429024376,912c625e9e71ec186d7c8ee6179e34a2ee00dfd7
912c625e9e71ec186d7c8ee6179e34a2ee00dfd7,912c625e,[server] remove DISABLE_DNAT exception for SPA packets that request a NAT…,"[server] remove DISABLE_DNAT exception for SPA packets that request a NAT operation - this is reserved for FORCE_NAT scenarios
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1428879320,1428939264,654f455ba685b0272b19e1689d13d0e4849a2751
654f455ba685b0272b19e1689d13d0e4849a2751,654f455b,"Revert ""[server] use 'success' string for firewalld as returned firewall-cmd for command success""","Revert ""[server] use 'success' string for firewalld as returned firewall-cmd for command success""

This reverts commit 1e33119b04a583fbf18b5b562edb14301a2ca7d6.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1428878959,1428878959,ffeb60677d926882063e89896b6c16cc9a82e334
ffeb60677d926882063e89896b6c16cc9a82e334,ffeb6067,[test suite] update SNAT MASQ test to use force masq access file,"[test suite] update SNAT MASQ test to use force masq access file
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1428878948,1428878948,7dc41e68eff9e19ab4d1e4084978b8127cc45dcf
7dc41e68eff9e19ab4d1e4084978b8127cc45dcf,7dc41e68,[test suite] add open_ports_force_masq_access.conf file,"[test suite] add open_ports_force_masq_access.conf file
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1428878894,1428878894,86cdc90f4a961017d8e0821ef750cb65e1b79a07
86cdc90f4a961017d8e0821ef750cb65e1b79a07,86cdc90f,[test suite] add open_ports_force_masq_access.conf file,"[test suite] add open_ports_force_masq_access.conf file
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1428878861,1428878861,5164378b17a88a6dc008a2ac5495b7885d2b4524
5164378b17a88a6dc008a2ac5495b7885d2b4524,5164378b,[build] add --enable-32bit-mode for ASAN+AFL fuzzing,"[build] add --enable-32bit-mode for ASAN+AFL fuzzing
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1428632597,1428632597,513fb239dfd92287e910240b8ed3b8c29f77c66e
513fb239dfd92287e910240b8ed3b8c29f77c66e,513fb239,Merge branch 'master' of ssh://github.com/mrash/fwknop,"Merge branch 'master' of ssh://github.com/mrash/fwknop
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1428628905,1428628905,"87a4acb6364070cb2a58888352147e29788770b5,1986c9aaf94dfc76ebc7c669a61df0c289dbda91"
87a4acb6364070cb2a58888352147e29788770b5,87a4acb6,[test suite] added detection for crashes triggered with AddressSanitizer…,"[test suite] added detection for crashes triggered with AddressSanitizer (requires --enable-asan-support)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1428627871,1428627871,2d0b623a9a12e6f75339c94650a84185d017cdcc
1986c9aaf94dfc76ebc7c669a61df0c289dbda91,1986c9aa,[test suite] added AFL results for client-rc fuzzing,"[test suite] added AFL results for client-rc fuzzing
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1428624119,1428585619,2d0b623a9a12e6f75339c94650a84185d017cdcc
2d0b623a9a12e6f75339c94650a84185d017cdcc,2d0b623a,[test suite] more FORCE_NAT tests,"[test suite] more FORCE_NAT tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1428544226,1428544226,ca41ce6e7592de7aed1137014b39a1cd0fac1d5d
ca41ce6e7592de7aed1137014b39a1cd0fac1d5d,ca41ce6e,[test suite] restore FORCE_SNAT test passing result,"[test suite] restore FORCE_SNAT test passing result
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1428543644,1428543644,547dbb66b3314206b9b1db619e512a687a18a94c
547dbb66b3314206b9b1db619e512a687a18a94c,547dbb66,[server] minor return value handling update for create_chain() and add_jump_rule(),"[server] minor return value handling update for create_chain() and add_jump_rule()
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1428543003,1428543003,1e33119b04a583fbf18b5b562edb14301a2ca7d6
1e33119b04a583fbf18b5b562edb14301a2ca7d6,1e33119b,[server] use 'success' string for firewalld as returned firewall-cmd for command success,"[server] use 'success' string for firewalld as returned firewall-cmd for command success
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1428542943,1428542943,429881703f7afbd92a803a16a4afb88a2350ff2d
429881703f7afbd92a803a16a4afb88a2350ff2d,42988170,[test suite] minor uninitialized var bug fix,"[test suite] minor uninitialized var bug fix
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1428542666,1428542666,ab2d9c0aec1fbd6bc226181ac5c1bee3ad8f173c
ab2d9c0aec1fbd6bc226181ac5c1bee3ad8f173c,ab2d9c0a,[test suite] minor path bug fix,"[test suite] minor path bug fix
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1428449707,1428449707,0fa42ae11781c1347c183473c47c3005bf4ca2e9
0fa42ae11781c1347c183473c47c3005bf4ca2e9,0fa42ae1,[server] allow DISABLE_DNAT to not require FORCE_NAT,"[server] allow DISABLE_DNAT to not require FORCE_NAT
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1428449689,1428449689,7a21494f3913142885c0744e18443f8528105d3d
7a21494f3913142885c0744e18443f8528105d3d,7a21494f,added --enable-asan-support for Google's Address Sanitizer compiler flags,"added --enable-asan-support for Google's Address Sanitizer compiler flags
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1428449564,1428449564,21dc1e8968e69a51cea89f8c5299d4f7b020453c
21dc1e8968e69a51cea89f8c5299d4f7b020453c,21dc1e89,Merge branch 'master' of ssh://minastirith/Users/mbr/git/fwknop,"Merge branch 'master' of ssh://minastirith/Users/mbr/git/fwknop
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1428409461,1428409461,"80106900394505e6932e7f55a49ddae9b22a3d5c,3d8b524019f7bfdfe409196f65877b6975117bb1"
3d8b524019f7bfdfe409196f65877b6975117bb1,3d8b5240,[test suite] FORCE_SNAT requires FORCE_NAT test,"[test suite] FORCE_SNAT requires FORCE_NAT test
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1428409435,1428409435,37c9f38565c48244fe4606f87b93ba2b3db28f6d
37c9f38565c48244fe4606f87b93ba2b3db28f6d,37c9f385,[test suite] FORCE_SNAT requires FORCE_NAT test,"[test suite] FORCE_SNAT requires FORCE_NAT test
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1428369631,1428369631,8e6db3a5da1d2624a10929742aa1b58f374b7949
8e6db3a5da1d2624a10929742aa1b58f374b7949,8e6db3a5,[server] extend FORWARD_ALL to apply to NAT operations,"[server] extend FORWARD_ALL to apply to NAT operations

This is a significant commit to allow all ports and protocols to be
NAT'd in conjunction with FORWARD ACCEPT rules. This commit is in
support of 6b7a3bbdae295c29a15a59385e637bd391858bc2 to allow fwknopd to
function as an SPA gateway.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1428365073,1428365073,ca467b9030705189499001cf53d7068c1a5d4561
80106900394505e6932e7f55a49ddae9b22a3d5c,80106900,[server] add missing #define's for firewalld,"[server] add missing #define's for firewalld
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1428346027,1428346027,ef6c0549a58aff051ff796b215223b8590aa0078
ef6c0549a58aff051ff796b215223b8590aa0078,ef6c0549,[test suite] added --prefer-iptables to exclude firewalld,"[test suite] added --prefer-iptables to exclude firewalld
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1428309198,1428309198,c25f34e7a2808c276364532f6e0f8fd98e6c1b61
c25f34e7a2808c276364532f6e0f8fd98e6c1b61,c25f34e7,[server] update firewalld for FORWARD_ALL NAT operations,"[server] update firewalld for FORWARD_ALL NAT operations
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1428308695,1428308695,37c9f38565c48244fe4606f87b93ba2b3db28f6d
ca467b9030705189499001cf53d7068c1a5d4561,ca467b90,[test suite] added AFL results for spa-pkts and server-digest-cache fuzzing runs,"[test suite] added AFL results for spa-pkts and server-digest-cache fuzzing runs
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1427846298,1427846298,c4ffd4b00a86d46ebf3cc3fcd65e6e841d7bb899
c4ffd4b00a86d46ebf3cc3fcd65e6e841d7bb899,c4ffd4b0,[extras] minor ramdisk creation bug fix,"[extras] minor ramdisk creation bug fix
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1427765911,1427765911,a18b3e90272709bf1660b97421dd208e72af0bff
a18b3e90272709bf1660b97421dd208e72af0bff,a18b3e90,[server] minor code coverage update for firewalld systems,"[server] minor code coverage update for firewalld systems
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1427678111,1427678111,244d2692f284034fa75ea37be4ea21e303abb1eb
244d2692f284034fa75ea37be4ea21e303abb1eb,244d2692,[test suite] added server-access plot data,"[test suite] added server-access plot data
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1427630695,1427630695,cb089c550d994708154b8265027b1afe46efbe92
cb089c550d994708154b8265027b1afe46efbe92,cb089c55,[test suite] added server-access AFL results run,"[test suite] added server-access AFL results run
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1427630403,1427630403,60d982a1034dd3519fc0d682e6c1050454e0c570
60d982a1034dd3519fc0d682e6c1050454e0c570,60d982a1,[test suite] added GPG 4096-bit key combination tests,"[test suite] added GPG 4096-bit key combination tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1427543670,1427543670,1dc4a47357347cec43590086df0b98dfc5ff0d93
1dc4a47357347cec43590086df0b98dfc5ff0d93,1dc4a473,[libfko] minor update to make process_sigs() static,"[libfko] minor update to make process_sigs() static
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1427421860,1427421860,9de2a61d040f7fce247ef47de36214ac26b919c2
9de2a61d040f7fce247ef47de36214ac26b919c2,9de2a61d,add subkey gpg access.conf file,"add subkey gpg access.conf file
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1427421712,1427421712,0f86406afb37fc571d97d383bb7db5b3fa250419
0f86406afb37fc571d97d383bb7db5b3fa250419,0f86406a,[test suite] added gpg subkey signing test,"[test suite] added gpg subkey signing test
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1427421662,1427421662,edd57f48de63d4ebd6fcaa8842ced82017b3b664
edd57f48de63d4ebd6fcaa8842ced82017b3b664,edd57f48,add test/conf/gpg_large_signing_key_access.conf,"add test/conf/gpg_large_signing_key_access.conf
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1427251507,1427251507,91a4e82f237a6df4233d1f4830ad2b647aa7759c
91a4e82f237a6df4233d1f4830ad2b647aa7759c,91a4e82f,[test suite] added 4096-bit signing key test,"[test suite] added 4096-bit signing key test
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1427251121,1427251121,59d0ef0b17e8fb8c6c05b8de07de0767b76823e1
59d0ef0b17e8fb8c6c05b8de07de0767b76823e1,59d0ef0b,[test suite] minor file rename,"[test suite] minor file rename
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1427249001,1427249001,1594194e7335ce660e1b73302711677f0c67762a
1594194e7335ce660e1b73302711677f0c67762a,1594194e,[test suite] added new gpg keyrings for large key tests (4096 bits),"[test suite] added new gpg keyrings for large key tests (4096 bits)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1427248915,1427248915,17382953e86b7f3a5fad1ba4de36a2805f52442e
17382953e86b7f3a5fad1ba4de36a2805f52442e,17382953,[test suite] minor usage update,"[test suite] minor usage update
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1427247878,1427247878,ce0bb64830dbd782aadd9e932aa117a70b64643d
ce0bb64830dbd782aadd9e932aa117a70b64643d,ce0bb648,[test suite] restructured AFL results directory to results/version/commit/,"[test suite] restructured AFL results directory to results/version/commit/
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1427159233,1427159233,08bc2aa60301912716acc882b918d73fcbfbdafb
08bc2aa60301912716acc882b918d73fcbfbdafb,08bc2aa6,[test suite] rely exclusively on tarball for gpg keyrings,"[test suite] rely exclusively on tarball for gpg keyrings
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1427158559,1427158559,90fb4c9aca0e10b75394a5cf5fa60e03df3e293e
90fb4c9aca0e10b75394a5cf5fa60e03df3e293e,90fb4c9a,minor comment addition,"minor comment addition
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1427077589,1427077589,5aacd6ae213d3a7ece43e51b732b28b55933f7ea
5aacd6ae213d3a7ece43e51b732b28b55933f7ea,5aacd6ae,added convenience script to create a ramdisk for AFL fuzzing runs,"added convenience script to create a ramdisk for AFL fuzzing runs
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1427077084,1427077084,ea7f22f8421420205d4ff759ca51b3ecb2c571b5
ea7f22f8421420205d4ff759ca51b3ecb2c571b5,ea7f22f8,fix line separators,"fix line separators
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1427076757,1427076757,f87e18635c9c37f13f864939cc6830fcf266201a
f87e18635c9c37f13f864939cc6830fcf266201a,f87e1863,update Makefile.am for latest AFL scripts and test cases,"update Makefile.am for latest AFL scripts and test cases
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1427076379,1427076379,2414393c94a75661949fd76ebd5f0bc0618a22f7
2414393c94a75661949fd76ebd5f0bc0618a22f7,2414393c,added the extras/patches/ directory (initial patch to link against pthreads for libfiu support),"added the extras/patches/ directory (initial patch to link against pthreads for libfiu support)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1427076132,1427076132,211f1fb5a2b3597cbdfd5016b2d22de9d891f3ed
211f1fb5a2b3597cbdfd5016b2d22de9d891f3ed,211f1fb5,[test suite] update afl-compile-code-coverage.sh to not use afl-gcc,"[test suite] update afl-compile-code-coverage.sh to not use afl-gcc
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1427076021,1427076021,d058493d3b0e6b8b073f7d4ebe09236dcc4ea109
d058493d3b0e6b8b073f7d4ebe09236dcc4ea109,d058493d,[test suite] handle versions of lcov that don't have the --rc option,"[test suite] handle versions of lcov that don't have the --rc option
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1427071286,1427071286,c7be9baf9c22757af3e37c70a8d7d23b37c14c97
c7be9baf9c22757af3e37c70a8d7d23b37c14c97,c7be9baf,[test suite] better lcov coverage report handling with --initial and --zerocounters,"[test suite] better lcov coverage report handling with --initial and --zerocounters
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1427060767,1427060767,56e2e5ca2fa5e2335b5faff194f4e8c4b0f7898d
56e2e5ca2fa5e2335b5faff194f4e8c4b0f7898d,56e2e5ca,"[test suite] restore digest length calculation for AFL fuzzing, fixes #148","[test suite] restore digest length calculation for AFL fuzzing, fixes #148
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1426823122,1426884246,67fefd67ae1a470bf8753811bffa5cdf2f3442e4
67fefd67ae1a470bf8753811bffa5cdf2f3442e4,67fefd67,[test suite] added README for afl-cmin helper scripts,"[test suite] added README for afl-cmin helper scripts
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1426822756,1426884168,c4048573c6d325cd692c1b58159abca2e68c7b19
c4048573c6d325cd692c1b58159abca2e68c7b19,c4048573,[test suite] removed SPA packet from afl-cmin corpus,"[test suite] removed SPA packet from afl-cmin corpus
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1426822624,1426884114,8ad434aed5dfa18d9e15ce586e0464ddc6bae10f
8ad434aed5dfa18d9e15ce586e0464ddc6bae10f,8ad434ae,[test suite] the large afl-cmin directories are not used by default,"[test suite] the large afl-cmin directories are not used by default
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1426820560,1426882281,ab5c000a32dca8e6584be55d168810f774856b32
ab5c000a32dca8e6584be55d168810f774856b32,ab5c000a,"[test suite] added afl-cmin scripts, and the main test suite configs are referenced","[test suite] added afl-cmin scripts, and the main test suite configs are referenced
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1426820150,1426882180,104aeca978d323db3e3a9cfb2c543547b32416cb
104aeca978d323db3e3a9cfb2c543547b32416cb,104aeca9,[test suite] switch SPA packets test to use afl-cmin test cases,"[test suite] switch SPA packets test to use afl-cmin test cases
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1426819691,1426865036,89d7241a51f102619ec24ac85566730c550e0652
89d7241a51f102619ec24ac85566730c550e0652,89d7241a,[test suite] include all digest lengths for SPA input packets (afl-cmin usage will be next),"[test suite] include all digest lengths for SPA input packets (afl-cmin usage will be next)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1426819021,1426864626,3febc74c22a337795eea844d16dcb200842e2243
3febc74c22a337795eea844d16dcb200842e2243,3febc74c,[test suite] extend digest lengths for SPA input packets,"[test suite] extend digest lengths for SPA input packets
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1426818885,1426864522,95ae8dd1fe494b9f68eb05bb2648ba58ff81f9f1
95ae8dd1fe494b9f68eb05bb2648ba58ff81f9f1,95ae8dd1,minor ChangeLog update,"minor ChangeLog update
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1426818026,1426818026,40c695097ed73d566861ba69c7e812c702aeac7a
40c695097ed73d566861ba69c7e812c702aeac7a,40c69509,added spa-pkts-2.6.5.59edf64 AFL test results file,"added spa-pkts-2.6.5.59edf64 AFL test results file
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1426817110,1426817110,59edf64d9cc507047d429ad02b71fc5ad3767878
59edf64d9cc507047d429ad02b71fc5ad3767878,59edf64d,"[server] consolidate fw creation, add FORWARD_ALL functionality","[server] consolidate fw creation, add FORWARD_ALL functionality
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1425787771,1425787771,cfd1cbf2bfc023e92c92928aafd10ce074b3affa
cfd1cbf2bfc023e92c92928aafd10ce074b3affa,cfd1cbf2,[server] minor macro usage update for 127.0.0.2,"[server] minor macro usage update for 127.0.0.2
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1425786350,1425786350,745a442f1830f9b4b36cf9657f518d67395530c4
745a442f1830f9b4b36cf9657f518d67395530c4,745a442f,[test suite] add AFL_HARDEN=1 to AFL compilation scripts,"[test suite] add AFL_HARDEN=1 to AFL compilation scripts
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1425785783,1425785783,26aceb9db6d4872960c37cf8d4e11e6bc912660e
26aceb9db6d4872960c37cf8d4e11e6bc912660e,26aceb9d,[test suite] add more rigorous multi-port tests with per-rule regex search criteria,"[test suite] add more rigorous multi-port tests with per-rule regex search criteria
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1425784359,1425784359,322ae853888b17f250125acd91942b0ed1ed9eea
41571a645395ee68a7cb33e575900aa17e544e83,41571a64,Merge branch 'master' into dstuart_refactor_autoconf,"Merge branch 'master' into dstuart_refactor_autoconf
",,,,Damien Stuart,dstuart@dstuart.org,Damien Stuart,dstuart@dstuart.org,1424318425,1424318425,"5c8fc63b894859e812acd557d4704ee22f512d4e,322ae853888b17f250125acd91942b0ed1ed9eea"
322ae853888b17f250125acd91942b0ed1ed9eea,322ae853,Fixed a bug in configure.ac that did not allow specifying alternate firewall exe…,"Fixed a bug in configure.ac that did not allow specifying alternate firewall exe if firewall-cmd was found by configure.
",,,,Damien Stuart,dstuart@dstuart.org,Damien Stuart,dstuart@dstuart.org,1424317493,1424317493,bf251034e3ac16a92fa2df59ce05c9cde2c13cc8
bf251034e3ac16a92fa2df59ce05c9cde2c13cc8,bf251034,[server] bug fix to exclude pcap.h only in --enable-udp-server mode,"[server] bug fix to exclude pcap.h only in --enable-udp-server mode

This commit fixes issue #143 on github reported by Coacher. The previous
commit introduced a build time error for non UDP server mode as seen
here:

https://paste.kde.org/pkaxwobwr
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1424306257,1424306257,1ce800446da6f22a802159dff7879bec52ce0ade
1ce800446da6f22a802159dff7879bec52ce0ade,1ce80044,[server] Bug fix to not include pcap.h in --enable-udp-server mode,"[server] Bug fix to not include pcap.h in --enable-udp-server mode
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1424244065,1424244065,987455b902aef54090837ac1001c93ba094b84fe
5c8fc63b894859e812acd557d4704ee22f512d4e,5c8fc63b,Missed tweak on the Makefile.am file in lib.,"Missed tweak on the Makefile.am file in lib.
",,,,Damien Stuart,dstuart@dstuart.org,Damien Stuart,dstuart@dstuart.org,1424203088,1424203088,e4fae829bc0ef8a080c1b58e82e1b3d182a2a65c
e4fae829bc0ef8a080c1b58e82e1b3d182a2a65c,e4fae829,Refactor of Makefile.am files to fix issues caused by referencing source files…,"Refactor of Makefile.am files to fix issues caused by referencing source files in other directories - which broke make dist and make distclean targets.
",,,,Damien Stuart,dstuart@dstuart.org,Damien Stuart,dstuart@dstuart.org,1424201840,1424201840,987455b902aef54090837ac1001c93ba094b84fe
987455b902aef54090837ac1001c93ba094b84fe,987455b9,Remove commented out entries from the client and server Makefile.am.,"Remove commented out entries from the client and server Makefile.am.
",,,,Damien Stuart,dstuart@dstuart.org,Damien Stuart,dstuart@dstuart.org,1423935658,1423935658,b152d15970316f16272877c5c98b984c440acad8
b152d15970316f16272877c5c98b984c440acad8,b152d159,"Refactored how the cunit tests are processed so ""make dist"" does not fail and…","Refactored how the cunit tests are processed so ""make dist"" does not fail and builds with c-unit-tests enabled work on systems with firewalld (added fw_util_firewalld.c for server tests).
",,,,Damien Stuart,dstuart@dstuart.org,Damien Stuart,dstuart@dstuart.org,1423934970,1423934970,e8cfeaf77209e017c715963e07a49373e2db317a
e8cfeaf77209e017c715963e07a49373e2db317a,e8cfeaf7,Merge pull request #142 from fjoncourt/c_unit_testing,"Merge pull request #142 from fjoncourt/c_unit_testing

C unit testing - excellent, thank you Franck. I'll work on the relative path issue you mentioned as well.",,,,Michael Rash,michael.rash@gmail.com,Michael Rash,michael.rash@gmail.com,1421503889,1421503889,"6b7a3bbdae295c29a15a59385e637bd391858bc2,1c81aef39d426d7426ef07a692fb243e61e254b1"
6b7a3bbdae295c29a15a59385e637bd391858bc2,6b7a3bbd,[server] Add FORWARD_ALL access.conf wildcard,"[server] Add FORWARD_ALL access.conf wildcard

This is a significant commit that allows iptables firewalls to be used
as an ""SPA gateway"" for all ports/protocols upon providing a valid SPA
packet. Additional commits will be made to extend this capability, but
this commit adds two new access.conf keywords: FORWARD_ALL and
DISABLE_DNAT. These are used in conjunction to add ACCEPT rules for all
ports/protocols in the FORWARD chain, and also disable DNAT rules at the
same time. Then, by buildling the SNAT chain to provide translation for
an internal network (where an SPA cliet is located), but DROP all
forwarded traffic by default at the same time, SPA can be used to gain
access to the internet. So, this would allow, say, an RFC 1918 internal
network to have IP's assigned via DHCP but they wouldn't be able to
access the internet before sending a SPA packet to the gateway. This
scenario was suggested by spartan1833 to the fwknop list and tracked via
github issue 131.

Additional commits will be made to fully support this feature.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1421501912,1421501912,d148fb091a14d0cbbe5a5d61fc0b16d7e78364d5
d148fb091a14d0cbbe5a5d61fc0b16d7e78364d5,d148fb09,Merge branch 'master' of https://github.com/mrash/fwknop,"Merge branch 'master' of https://github.com/mrash/fwknop
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1421501602,1421501602,"08bc93579675b702c6a5ac56c227850298ee7735,4f94a0584e84708c48502961392b1472bc92d827"
4f94a0584e84708c48502961392b1472bc92d827,4f94a058,[test suite] minor candidate big fix for readline on closed filehandle errors seen in GPG tests,"[test suite] minor candidate big fix for readline on closed filehandle errors seen in GPG tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1421500297,1421500297,2430f3ae80f90a2d9758beaab00620b42588d59f
08bc93579675b702c6a5ac56c227850298ee7735,08bc9357,[server] remove redundant mk_chain() calls,"[server] remove redundant mk_chain() calls
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1420512938,1420580385,1f9e939c950ee14653947140a0465fcb61ff7dd7
1f9e939c950ee14653947140a0465fcb61ff7dd7,1f9e939c,[server] consolidate iptables rule additions into a single ipt_rule() function,"[server] consolidate iptables rule additions into a single ipt_rule() function
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1420511829,1420576212,1ece9d022b0e4d13b03f879b74f54a7e3fdad231
1c81aef39d426d7426ef07a692fb243e61e254b1,1c81aef3,Fixed file permissions,"Fixed file permissions
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1420015868,1420015868,29a5a9804d68395c10a176bd9baec1ecbe1a701a
29a5a9804d68395c10a176bd9baec1ecbe1a701a,29a5a980,* Added libfko unit tests,"* Added libfko unit tests
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1419968954,1419968954,620d31364e6984eb25ad2279fb4fd71fc33870ef
1ece9d022b0e4d13b03f879b74f54a7e3fdad231,1ece9d02,[server] consolidate create_chain() and add_jump_rule() into a single function,"[server] consolidate create_chain() and add_jump_rule() into a single function
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1419954151,1419954151,2430f3ae80f90a2d9758beaab00620b42588d59f
620d31364e6984eb25ad2279fb4fd71fc33870ef,620d3136,* Removed duplicated entry in Makefile.am for libfko,"* Removed duplicated entry in Makefile.am for libfko
* Added c unit tests for fko (draft)
* Updated c unit test README file.
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1419875237,1419875237,cb13d84d489b2f9a43ec47e7ba2b72bd03789bca
cb13d84d489b2f9a43ec47e7ba2b72bd03789bca,cb13d84d,Use of subdir-objects libtool option.,"Use of subdir-objects libtool option.
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1419855901,1419855901,750fd97bda3a5f482ff2a41f6a534d40eed47b24
750fd97bda3a5f482ff2a41f6a534d40eed47b24,750fd97b,Allow to build without c unit test,"Allow to build without c unit test
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1419849930,1419849930,fdb3da0769be166ff73b4b7c8c4db710aec7356e
fdb3da0769be166ff73b4b7c8c4db710aec7356e,fdb3da07,Added README for c unit test,"Added README for c unit test
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1419849923,1419849923,526cae6464633696bc9241412b0bdb975bcabbd2
526cae6464633696bc9241412b0bdb975bcabbd2,526cae64,Fixed upper case,"Fixed upper case
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1419807352,1419807352,5c3a7090148f824f1495594de6d789de6d60072b
5c3a7090148f824f1495594de6d789de6d60072b,5c3a7090,Merge branch 'c_unit_testing' of https://github.com/fjoncourt/fwknop into c_unit_testing,"Merge branch 'c_unit_testing' of https://github.com/fjoncourt/fwknop into c_unit_testing

Conflicts:
	client/config_init.c
	common/cunit_common.h
	lib/cunit_common.c
	server/access.c
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1419805455,1419805455,"b7ecb3334ae7397b8ee73cb5e56666d326c16d63,bd0035af1e1efa2d6b82f9be27bac075c69d9f52"
b7ecb3334ae7397b8ee73cb5e56666d326c16d63,b7ecb333,Merge upstream changes to our changes,"Merge upstream changes to our changes
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1419775224,1419775224,"260cd5481b41384f802eaa4bd1a33824d751cf8f,2430f3ae80f90a2d9758beaab00620b42588d59f"
2430f3ae80f90a2d9758beaab00620b42588d59f,2430f3ae,[test suite] added long running server-access AFL fuzzing results,"[test suite] added long running server-access AFL fuzzing results
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1419258159,1419258159,aa36cb457f6de4cd1e37850e1737757bd2fc14c8
aa36cb457f6de4cd1e37850e1737757bd2fc14c8,aa36cb45,changes since 2.6.4,"changes since 2.6.4
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1418786873,1418786873,27af305cf7213c57d9559f129f708fa51fe657aa
27af305cf7213c57d9559f129f708fa51fe657aa,27af305c,minor date change for 2.6.5 release,"minor date change for 2.6.5 release
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1418783496,1418783496,ff3eaf84484c3f4e53392ebea8d6658840873586
ff3eaf84484c3f4e53392ebea8d6658840873586,ff3eaf84,[test suite] minor update to exclude a couple of iptables tests on ipfw/PF firewalls,"[test suite] minor update to exclude a couple of iptables tests on ipfw/PF firewalls
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1418782529,1418782529,7f1da8e62596d8c120e1484bab98e95d6f08ca04
7f1da8e62596d8c120e1484bab98e95d6f08ca04,7f1da8e6,bumped version to 2.6.5,"bumped version to 2.6.5
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1418700862,1418700862,db8b5e4e485796908f385dcd1c2f7ebb8c742578
db8b5e4e485796908f385dcd1c2f7ebb8c742578,db8b5e4e,[test suite] added AFL plot results: plot-2.6.5.67f969f/,"[test suite] added AFL plot results: plot-2.6.5.67f969f/
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1418695066,1418695066,a4eb640f9ca26dd6cf35e64a74c53fab6f774e97
a4eb640f9ca26dd6cf35e64a74c53fab6f774e97,a4eb640f,[test suite] add AFL results file: server-access-2.6.5.67f969f,"[test suite] add AFL results file: server-access-2.6.5.67f969f
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1418694949,1418694949,9dc56d6bb7b28142e0173521db5a91bd25d41a00
9dc56d6bb7b28142e0173521db5a91bd25d41a00,9dc56d6b,[test suite / server] rule deletion/addition tests mid-cycle,"[test suite / server] rule deletion/addition tests mid-cycle
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1418691967,1418691967,fd582487dba5e5655584f5c341a2754a5aae8d4d
fd582487dba5e5655584f5c341a2754a5aae8d4d,fd582487,[server] minor typo fix,"[server] minor typo fix
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1418691788,1418691788,67f969f2c7ea5f8ce5f498ba99588467436351f2
67f969f2c7ea5f8ce5f498ba99588467436351f2,67f969f2,[server] compilation bug fix for firewalld platforms in DESTINATION processing code,"[server] compilation bug fix for firewalld platforms in DESTINATION processing code
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1418260005,1418260005,122ecf10d787cd9ae295dc7b029bfa37440fa9b8
122ecf10d787cd9ae295dc7b029bfa37440fa9b8,122ecf10,minor ChangeLog update,"minor ChangeLog update
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1417989610,1417989610,c7e3be6bbd5486bd31257d23c074b5e23b428f4a
c7e3be6bbd5486bd31257d23c074b5e23b428f4a,c7e3be6b,Merge branch 'master' of https://github.com/mrash/fwknop,"Merge branch 'master' of https://github.com/mrash/fwknop
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1417987973,1417987973,"74f114603ba149f67fbc51ad2995c78bae9bdadf,a99bff9b639334208ce65920d9b995a52e0da2ac"
74f114603ba149f67fbc51ad2995c78bae9bdadf,74f11460,check fiu_init() and fiu_enable() return values,"check fiu_init() and fiu_enable() return values
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1417987770,1417987770,54625819c959afc30ed0f2b1ca2fdd75e3c6bc41
a99bff9b639334208ce65920d9b995a52e0da2ac,a99bff9b,[test suite] minor Makefile update for fko-wrapper,"[test suite] minor Makefile update for fko-wrapper
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1417913913,1417913913,54625819c959afc30ed0f2b1ca2fdd75e3c6bc41
54625819c959afc30ed0f2b1ca2fdd75e3c6bc41,54625819,[test suite] get resolve tests passing (--test mode stopped resolutions),"[test suite] get resolve tests passing (--test mode stopped resolutions)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1417832603,1417832603,01438a9c1621e013daed765c90033707569965d7
01438a9c1621e013daed765c90033707569965d7,01438a9c,[test suite] make filehandles a bit more unique,"[test suite] make filehandles a bit more unique
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1417831058,1417831058,a4d6c17512acb62296e6b64a86b9a418da7a1276
a4d6c17512acb62296e6b64a86b9a418da7a1276,a4d6c175,[test suite] add DESTINATION formatting tests,"[test suite] add DESTINATION formatting tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1417831007,1417831007,28c7cfc8e5064a7756f0636da4d641845b10be5c
28c7cfc8e5064a7756f0636da4d641845b10be5c,28c7cfc8,added missed config file spotted by the test suite,"added missed config file spotted by the test suite
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1417830737,1417830737,76b1c6dd5029fb16143124376ec5aefd600511df
76b1c6dd5029fb16143124376ec5aefd600511df,76b1c6dd,Merge branch 'spa_destination_ip',"Merge branch 'spa_destination_ip'
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1417741625,1417741625,"8988fe41b8e832ab8db6b186c1dcd9579fe80729,d6dee352af535d8a8486fbf6e8facf4651d5cb13"
d6dee352af535d8a8486fbf6e8facf4651d5cb13,d6dee352,minor update to get DESTINATION filtering tests passing,"minor update to get DESTINATION filtering tests passing
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1417658226,1417658226,c5c263c02ff0bd1b68509b647176e381d3453ed2
c5c263c02ff0bd1b68509b647176e381d3453ed2,c5c263c0,add Grant Pannell,"add Grant Pannell
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1417658207,1417658207,7a9a430f24e9690284c56691b5b03e5f2b6eec18
8988fe41b8e832ab8db6b186c1dcd9579fe80729,8988fe41,[test suite] add AFL wrappers for Rijndael decryption fuzzing,"[test suite] add AFL wrappers for Rijndael decryption fuzzing
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1417656384,1417656384,285ec0ddcb93fedb4e6102f378cdfda27b9e1dcf
285ec0ddcb93fedb4e6102f378cdfda27b9e1dcf,285ec0dd,[server] add AFL support for fuzzing SPA Rijndael decryption routine directly with --afl-pkt-file,"[server] add AFL support for fuzzing SPA Rijndael decryption routine directly with --afl-pkt-file
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1417656305,1417656305,53be8c4116debe69155968c81f14ce769ec7876d
53be8c4116debe69155968c81f14ce769ec7876d,53be8c41,[test suite] added afl/results/ directory to track AFL run results over time,"[test suite] added afl/results/ directory to track AFL run results over time
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1417656056,1417656056,aeac6a40639f33905bbb2ee84ed8a9e80887a768
7a9a430f24e9690284c56691b5b03e5f2b6eec18,7a9a430f,[test suite] additional DESTINATION accept/filter tests,"[test suite] additional DESTINATION accept/filter tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1417403871,1417403871,cf84f016a38c0d630f7d3d832075111a10cbc420
cf84f016a38c0d630f7d3d832075111a10cbc420,cf84f016,[test suite] add complete cycle DESTINATION test,"[test suite] add complete cycle DESTINATION test
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1417401462,1417401462,e1694c732c302522741e9c515f1eb3e39cfefc54
e1694c732c302522741e9c515f1eb3e39cfefc54,e1694c73,update ChangeLog to include Grant's patch,"update ChangeLog to include Grant's patch
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1417401406,1417401406,42d103d100af7839a74816c9bd1d6aafdff6ea78
42d103d100af7839a74816c9bd1d6aafdff6ea78,42d103d1,[test suite] minor test update for DESTINATION access.conf stanza,"[test suite] minor test update for DESTINATION access.conf stanza
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1417384947,1417384947,af6087c48d8457f1fbb8cd82bc8dec482155d45f
aeac6a40639f33905bbb2ee84ed8a9e80887a768,aeac6a40,[test suite] add server-digest-cache/ directory for AFL fuzzing,"[test suite] add server-digest-cache/ directory for AFL fuzzing
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1417317644,1417317644,7a2763a133c8fd37e5b88a65259fd7bec4c56b2e
af6087c48d8457f1fbb8cd82bc8dec482155d45f,af6087c4,Keep the documentation consistent,"Keep the documentation consistent
",,,,Grant Pannell,grant@pannell.net.au,Grant Pannell,grant@pannell.net.au,1417236271,1417236271,d0849d6cc9d641d580a9f39811d160db5e910f98
d0849d6cc9d641d580a9f39811d160db5e910f98,d0849d6c,Fix type on man asciidoc,"Fix type on man asciidoc
",,,,Grant Pannell,grant@pannell.net.au,Grant Pannell,grant@pannell.net.au,1417236038,1417236038,624872ef4889cb43f5ecb42b74d9722bd6e9a4a8
624872ef4889cb43f5ecb42b74d9722bd6e9a4a8,624872ef,Add DESTINATION access.conf directive and ENABLE_DESTINATION_RULE fwknopd.conf directive,"Add DESTINATION access.conf directive and ENABLE_DESTINATION_RULE fwknopd.conf directive
",,,,Grant Pannell,grant@pannell.net.au,Grant Pannell,grant@pannell.net.au,1417235706,1417235706,7a2763a133c8fd37e5b88a65259fd7bec4c56b2e
7a2763a133c8fd37e5b88a65259fd7bec4c56b2e,7a2763a1,[server] minor fix to add AFL_FUZZING macro,"[server] minor fix to add AFL_FUZZING macro
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1417220318,1417220318,01e294aed3f32058c28e7f489184b29f9486126b
01e294aed3f32058c28e7f489184b29f9486126b,01e294ae,"[test suite] use -A mode for AFL fuzzing, make sure fwknopd does not init digest cache in -A mode","[test suite] use -A mode for AFL fuzzing, make sure fwknopd does not init digest cache in -A mode
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1417220015,1417220015,0556dfc0d8c64bb411f5c4ffe75baf4d9eaa1438
0556dfc0d8c64bb411f5c4ffe75baf4d9eaa1438,0556dfc0,[test suite] minor AFL status screen path update,"[test suite] minor AFL status screen path update
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1417038016,1417038016,6149ec0a8cde68e9e55b7b2a5ce079a5d6b390e9
6149ec0a8cde68e9e55b7b2a5ce079a5d6b390e9,6149ec0a,[test suite] another minor path reorg,"[test suite] another minor path reorg
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1417037933,1417037933,00f45add289687a8a4b5be6a1c511409e87ccf45
00f45add289687a8a4b5be6a1c511409e87ccf45,00f45add,update Makefile.am for latest AFL paths,"update Makefile.am for latest AFL paths
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1417037717,1417037717,a900257c865ac313ae34979e1d3faa91e9212394
a900257c865ac313ae34979e1d3faa91e9212394,a900257c,[test suite] add AFL README,"[test suite] add AFL README
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1417037179,1417037179,4e796fc865aa5230eeff4752cc9e6b8b4038b79d
4e796fc865aa5230eeff4752cc9e6b8b4038b79d,4e796fc8,[test suite] minor AFL path update,"[test suite] minor AFL path update
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1417037153,1417037153,2e4ce021afe2710628521173bd9cf5d7c989ce5e
2e4ce021afe2710628521173bd9cf5d7c989ce5e,2e4ce021,[test suite] AFL wrapper update to not require -A for fuzzing access.conf and fwknopd.conf,"[test suite] AFL wrapper update to not require -A for fuzzing access.conf and fwknopd.conf
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1417012210,1417012210,7938e6fbbff386572e4d060513c82308f81a6d85
7938e6fbbff386572e4d060513c82308f81a6d85,7938e6fb,[server] manpage update,"[server] manpage update
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1417009584,1417009584,aa94fcb8cfa854e0cc68b279db2060fcb8bf54f0
aa94fcb8cfa854e0cc68b279db2060fcb8bf54f0,aa94fcb8,[test suite] add AFL wrapper for fuzzing digest cache file format,"[test suite] add AFL wrapper for fuzzing digest cache file format
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1416971334,1416971334,a64542c7a44ce9740043b98692bc9a2c365a4964
a64542c7a44ce9740043b98692bc9a2c365a4964,a64542c7,[server] add --run-dir command line arg,"[server] add --run-dir command line arg
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1416971216,1416971216,82cf8b1c9cc9c3256bfbd97cbd3a40353851dc02
82cf8b1c9cc9c3256bfbd97cbd3a40353851dc02,82cf8b1c,[server] Enforce proper bounds checking on digest cache file import,"[server] Enforce proper bounds checking on digest cache file import

Bug fix to ensure that proper bounds are enforced when importing digest
cache files from previous fwknopd executions. This bug
was discovered through fuzzing with American Fuzzy Lop (AFL) as driven
by the test/afl/fuzzing-wrappers/server-digest-cache.sh wrapper.
Previous to this fix, fwknopd could be made to crash through a malicious
digest cache file (normally in /var/run/fwknop/digest.cache) upon
initial import.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1416971115,1416971115,8872e50818cc3d847015b5c4344c76991752283d
8872e50818cc3d847015b5c4344c76991752283d,8872e508,[test suite] use digest tracking override for ALF fwknopd fuzzing,"[test suite] use digest tracking override for ALF fwknopd fuzzing
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1416945870,1416945870,00ffe198e865699be24ed420485818a8cd431d8d
00ffe198e865699be24ed420485818a8cd431d8d,00ffe198,[test suite] support AFL resume operations,"[test suite] support AFL resume operations
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1416800365,1416800365,28abc276fe0daae16d3e3fe642ab9946fc858108
28abc276fe0daae16d3e3fe642ab9946fc858108,28abc276,[test suite] AFL update spa-pkts.sh to use new shared bash functions,"[test suite] AFL update spa-pkts.sh to use new shared bash functions
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1416794504,1416794504,39419f43cb3076c2d292c7d81af8bc114c3e92ea
39419f43cb3076c2d292c7d81af8bc114c3e92ea,39419f43,[test suite] started on shared functions for AFL wrappers,"[test suite] started on shared functions for AFL wrappers
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1416779609,1416779609,c50c13b6d3ad4dd26e1837f92bfb5668333d2fbc
c50c13b6d3ad4dd26e1837f92bfb5668333d2fbc,c50c13b6,minor README formatting updates,"minor README formatting updates
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1416752826,1416752826,426bde83c5cc243b0e3977bac401667b364c0865
426bde83c5cc243b0e3977bac401667b364c0865,426bde83,[test suite] set banner for each AFL wrapper,"[test suite] set banner for each AFL wrapper
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1416715612,1416715612,0e93020671a202fbf922bd199cca9aa53598e61a
0e93020671a202fbf922bd199cca9aa53598e61a,0e930206,[test suite] minor AFL README update,"[test suite] minor AFL README update
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1416715580,1416715580,290aaebd76e04bbe43e2a5177f64aa6b29ef1175
290aaebd76e04bbe43e2a5177f64aa6b29ef1175,290aaebd,Merge branch 'master' of https://github.com/mrash/fwknop,"Merge branch 'master' of https://github.com/mrash/fwknop
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1416707361,1416707361,"9037b3e7e097f149288b5935b0b0c5f22a7ee4fc,ec4647cdf0b8c7fa37d18324c41baa159624f17e"
9037b3e7e097f149288b5935b0b0c5f22a7ee4fc,9037b3e7,minor manpage update to reference github link for contirbutors,"minor manpage update to reference github link for contirbutors
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1416707349,1416707349,492a7e523b8b162a4a2879df809c8f23f6bff9ad
ec4647cdf0b8c7fa37d18324c41baa159624f17e,ec4647cd,[test suite] path bug fix,"[test suite] path bug fix
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1416693135,1416693135,f4a8c0ace1a1f88f8b203bc029089afb47bf0773
f4a8c0ace1a1f88f8b203bc029089afb47bf0773,f4a8c0ac,[test suite] more AFL README updates,"[test suite] more AFL README updates
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1416690302,1416690302,e7da008d34134de85f2d7202e20b330d9bd4448e
e7da008d34134de85f2d7202e20b330d9bd4448e,e7da008d,[test suite] more AFL README updates,"[test suite] more AFL README updates
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1416690231,1416690231,18760d4d64969b49174ca6e83ed6b81f2449ef4c
18760d4d64969b49174ca6e83ed6b81f2449ef4c,18760d4d,[test suite] AFL README add all four fuzzing wrappers,"[test suite] AFL README add all four fuzzing wrappers
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1416687000,1416687000,dd0571ad56c121fc0abef3c792818a7460062254
dd0571ad56c121fc0abef3c792818a7460062254,dd0571ad,[test suite] AFL README formatting update,"[test suite] AFL README formatting update
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1416686592,1416686592,8d38980915aba3d4d6d8d77f2e291aaff20124ea
8d38980915aba3d4d6d8d77f2e291aaff20124ea,8d389809,[test suite] AFL README formatting update,"[test suite] AFL README formatting update
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1416682505,1416682505,f53c15fbda4a5737c087ee16692fe8291515b020
f53c15fbda4a5737c087ee16692fe8291515b020,f53c15fb,[test suite] AFL README formatting update,"[test suite] AFL README formatting update
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1416682434,1416682434,9dbe7f5bd6ad911b3ba8be329ce212dc4cf68dbf
9dbe7f5bd6ad911b3ba8be329ce212dc4cf68dbf,9dbe7f5b,[test suite] AFL README formatting update,"[test suite] AFL README formatting update
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1416682362,1416682362,0b58e3af57c4dbc231aa7d0a9ca2195eb57fe5fc
0b58e3af57c4dbc231aa7d0a9ca2195eb57fe5fc,0b58e3af,[test suite] AFL README.md files list,"[test suite] AFL README.md files list
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1416681836,1416681836,a15d76a3ea3e995a68232fe2f9b3f97c32fec0e0
a15d76a3ea3e995a68232fe2f9b3f97c32fec0e0,a15d76a3,[test suite] AFL README -> README.md,"[test suite] AFL README -> README.md
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1416681652,1416681652,38977b5f2fd8def73a29850ac07baf9d16f8366d
38977b5f2fd8def73a29850ac07baf9d16f8366d,38977b5f,[test suite] use exit status in wrapper scripts,"[test suite] use exit status in wrapper scripts
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1416681564,1416681564,ca64e3aa4e8fe831d47a81d3deb11ce9df2f0541
ca64e3aa4e8fe831d47a81d3deb11ce9df2f0541,ca64e3aa,[test suite] start on AFL README in .md format,"[test suite] start on AFL README in .md format
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1416681526,1416681526,f8d3cc51f046128d803a0198c637a4dedf698fc6
f8d3cc51f046128d803a0198c637a4dedf698fc6,f8d3cc51,[test suite] stronger access.conf test case for AFL fuzzing,"[test suite] stronger access.conf test case for AFL fuzzing
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1416665499,1416665499,0e5606fb263d89518d7ba90fcaa5d62767fc63f4
0e5606fb263d89518d7ba90fcaa5d62767fc63f4,0e5606fb,[test suite] AFL fuzzing README update,"[test suite] AFL fuzzing README update
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1416626297,1416626297,63a2ae92d4335468218d2444f0a4c22fa2b475d3
63a2ae92d4335468218d2444f0a4c22fa2b475d3,63a2ae92,[test suite] added *hang.sh helper scripts for AFL results analysis,"[test suite] added *hang.sh helper scripts for AFL results analysis
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1416626162,1416626162,46a6b5a1e59357aae504ce9424b46c88675fb5dc
46a6b5a1e59357aae504ce9424b46c88675fb5dc,46a6b5a1,[test suite] moved helper scripts to fuzzing-wrappers/helpers/,"[test suite] moved helper scripts to fuzzing-wrappers/helpers/
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1416624152,1416624152,5041533c65569e001c219178015a9c991946fef8
5041533c65569e001c219178015a9c991946fef8,5041533c,[test suite] update AFL helper scripts to accept file path from the command line,"[test suite] update AFL helper scripts to accept file path from the command line
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1416623525,1416623525,c1a1a4d3aaf563917c7ee3dafaac1f1b124a0b8b
c1a1a4d3aaf563917c7ee3dafaac1f1b124a0b8b,c1a1a4d3,[test suite] minor comment removal,"[test suite] minor comment removal
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1416622940,1416622940,9e671217e1620b9aefbc55d6147f1e3d6b6abfa0
9e671217e1620b9aefbc55d6147f1e3d6b6abfa0,9e671217,Move #include <sys/wait.h> directive so it is not seen in the windows build,"Move #include <sys/wait.h> directive so it is not seen in the windows build
",,,,Damien Stuart,dstuart@dstuart.org,Damien Stuart,dstuart@dstuart.org,1416452464,1416452464,492a7e523b8b162a4a2879df809c8f23f6bff9ad
492a7e523b8b162a4a2879df809c8f23f6bff9ad,492a7e52,"[test suite] AFL wrapper enhancements (fwknopd conf file fuzzing, use -t 1000…","[test suite] AFL wrapper enhancements (fwknopd conf file fuzzing, use -t 1000 for all fuzzing cycles)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1416446354,1416446354,31fcef08a5228c5af3060b546895503467deab70
31fcef08a5228c5af3060b546895503467deab70,31fcef08,[test suite] add multiple stanzas for the fwknoprc AFL test,"[test suite] add multiple stanzas for the fwknoprc AFL test
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1416370256,1416370256,ece855b66a87d98276dd8b82d15cecd6643b617b
ece855b66a87d98276dd8b82d15cecd6643b617b,ece855b6,[client] bug fix to ensure -a overrides IP resolution,"[client] bug fix to ensure -a overrides IP resolution
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1416370219,1416370219,22289a3f58278d13a36249efc18809da92fb4309
22289a3f58278d13a36249efc18809da92fb4309,22289a3f,[client] disable IP resolution in AFL_FUZZING mode,"[client] disable IP resolution in AFL_FUZZING mode
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1416359772,1416359772,c7bb83b1b33e43c915fef970fef3e05b263d2007
c7bb83b1b33e43c915fef970fef3e05b263d2007,c7bb83b1,[test suite] additional AFL support for client fwknoprc file and server fwknopd.conf file,"[test suite] additional AFL support for client fwknoprc file and server fwknopd.conf file
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1416359713,1416359713,d107359e952bd0b959dcfa7d1001511b161dcb0f
d107359e952bd0b959dcfa7d1001511b161dcb0f,d107359e,[test suite] removed files added by mistake,"[test suite] removed files added by mistake
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1416272438,1416272438,3c7859cb9d7c24b40ed7ca1de4a98ce119832e8b
3c7859cb9d7c24b40ed7ca1de4a98ce119832e8b,3c7859cb,[test suite] start on AFL fuzzing for conf files in addition to SPA pkts,"[test suite] start on AFL fuzzing for conf files in addition to SPA pkts
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1416272327,1416272327,ecf00d36bdaf94196a454bea1225dfa0827f936b
ecf00d36bdaf94196a454bea1225dfa0827f936b,ecf00d36,ChangeLog.git update since 2.6.3,"ChangeLog.git update since 2.6.3
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1416173559,1416173559,9860aebfab874e7a22c75d4b3ebd60940267c2f2
9860aebfab874e7a22c75d4b3ebd60940267c2f2,9860aebf,minor date update for the 2.6.4 release,"minor date update for the 2.6.4 release
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1416173500,1416173500,a90bc544ba5851a341be6a2c2b14be0a28c428ca
a90bc544ba5851a341be6a2c2b14be0a28c428ca,a90bc544,"Revert ""[test suite] minor path update for gcov""","Revert ""[test suite] minor path update for gcov""

This reverts commit 978bc4e3e1eab4e2fd82eb88391024177685fd26.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1416170827,1416170827,978bc4e3e1eab4e2fd82eb88391024177685fd26
978bc4e3e1eab4e2fd82eb88391024177685fd26,978bc4e3,[test suite] minor path update for gcov,"[test suite] minor path update for gcov
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1416147555,1416147555,a72b69eee73f408b77bbd090f194f411f55a194a
a72b69eee73f408b77bbd090f194f411f55a194a,a72b69ee,manpage updates,"manpage updates
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1416066708,1416066708,90bed88863397a21295f323aebdfa11719bae5a8
90bed88863397a21295f323aebdfa11719bae5a8,90bed888,changes since 2.6.3,"changes since 2.6.3
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1416066560,1416066560,d2880021ca6a42d7d0e040e6f0de840b55fb51a1
d2880021ca6a42d7d0e040e6f0de840b55fb51a1,d2880021,[server] document --udp-server option,"[server] document --udp-server option
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1416066359,1416066359,85f559a9fdad7af9df4c242c7bbf074b4f3b346c
85f559a9fdad7af9df4c242c7bbf074b4f3b346c,85f559a9,2.6.4 release date,"2.6.4 release date
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1416065239,1416065239,5df437660212f7a7c99bae142421e34a557e3836
5df437660212f7a7c99bae142421e34a557e3836,5df43766,add new test suite files to Makefile.am,"add new test suite files to Makefile.am
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1416029793,1416029793,49b09c490358cea202000bd5b098b272ba491152
49b09c490358cea202000bd5b098b272ba491152,49b09c49,[test suite] update to use helper scripts for code coverage report generation,"[test suite] update to use helper scripts for code coverage report generation
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1416028934,1416028934,b9d5919cdd1bca0371fa06ac6e3fa0fc7cfbee25
b9d5919cdd1bca0371fa06ac6e3fa0fc7cfbee25,b9d5919c,[test suite] AFL README update,"[test suite] AFL README update
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1416028598,1416028598,2e1d0761603515d32b8867def285e283790b43ce
2e1d0761603515d32b8867def285e283790b43ce,2e1d0761,[server] minor status wording update,"[server] minor status wording update
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1416028577,1416028577,665b65ef3efdb1d47ff71a4495195e8da03a1001
665b65ef3efdb1d47ff71a4495195e8da03a1001,665b65ef,doc updates to include material about AFL support,"doc updates to include material about AFL support
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1416028555,1416028555,aaa44656bcfcb705d80768a7b9aa0d45a0e55e21
aaa44656bcfcb705d80768a7b9aa0d45a0e55e21,aaa44656,[server] add support for American Fuzzy Lop (ALF) fuzzing,"[server] add support for American Fuzzy Lop (ALF) fuzzing
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1415930104,1415930104,fe288120b32e945b33b10b7b26675aa84744b3ae
fe288120b32e945b33b10b7b26675aa84744b3ae,fe288120,minor ChangeLog wording update,"minor ChangeLog wording update
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1415587270,1415587270,1a76d5586fc37e36d555ac5181b2e4f886036eed
1a76d5586fc37e36d555ac5181b2e4f886036eed,1a76d558,[test suite] extend server receive criteria,"[test suite] extend server receive criteria
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1415586996,1415586996,ba337108af9524d533ebd17c37b180a0e4daf8ed
ba337108af9524d533ebd17c37b180a0e4daf8ed,ba337108,[test suite] implement multi-cycle test sequences,"[test suite] implement multi-cycle test sequences
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1415501089,1415501089,7022d79ca796219c0d4fa62984d4b967056618bd
7022d79ca796219c0d4fa62984d4b967056618bd,7022d79c,[server] minor code cleanup,"[server] minor code cleanup
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1415323490,1415323490,a8879231c30c144293eed8bcfa80030734873f02
a8879231c30c144293eed8bcfa80030734873f02,a8879231,[server] add run_extcmd_write() call in code coverage mode,"[server] add run_extcmd_write() call in code coverage mode
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1415323473,1415323473,0c59f6e50017db2ccd2d3103b35e6dfc1179242f
0c59f6e50017db2ccd2d3103b35e6dfc1179242f,0c59f6e5,add CODE_COVERAGE macro for ./configure --enable-profile-coverage,"add CODE_COVERAGE macro for ./configure --enable-profile-coverage
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1415323420,1415323420,46fd32a6f12264be58af09be0e4b3739e6361ca4
46fd32a6f12264be58af09be0e4b3739e6361ca4,46fd32a6,[test suite] minor bug fix to add --no-firewd-check-support option for one test,"[test suite] minor bug fix to add --no-firewd-check-support option for one test
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1415323325,1415323325,4ca718f8da49face1131f4869ebea13e01ca28cc
4ca718f8da49face1131f4869ebea13e01ca28cc,4ca718f8,[test suite] allow valgrind/crash search/profile coverage tests to run after --test-limit,"[test suite] allow valgrind/crash search/profile coverage tests to run after --test-limit
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1415323265,1415323265,04f8b9669a6dca2c828a275c9c991beccd910092
04f8b9669a6dca2c828a275c9c991beccd910092,04f8b966,[server] check number of cmd args even when execvpe() is not available,"[server] check number of cmd args even when execvpe() is not available
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1415247591,1415247591,e7942f48e0d95c98426990b11f6870af0b5e0e4a
e7942f48e0d95c98426990b11f6870af0b5e0e4a,e7942f48,[server] allow loop restart after select() sets EINTR (since we handle signals)…,"[server] allow loop restart after select() sets EINTR (since we handle signals) - fixes cmd execution through UDP on FreeBSD
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1415159099,1415159099,c5f038928143421906d2f54587ecefe94dfde8ff
c5f038928143421906d2f54587ecefe94dfde8ff,c5f03892,"[server] minor code restructure, use FD_ISSET() test on file descriptors","[server] minor code restructure, use FD_ISSET() test on file descriptors
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1415158984,1415158984,705c50741497e933521af2a9303751dab3e1b555
705c50741497e933521af2a9303751dab3e1b555,705c5074,[test suite] check for TCP/UDP server string in do_fwknopd_cmd(),"[test suite] check for TCP/UDP server string in do_fwknopd_cmd()
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1415062670,1415062670,fdc6e0db20cc940a09c02def3aebd5c2af0dcd54
fdc6e0db20cc940a09c02def3aebd5c2af0dcd54,fdc6e0db,[test suite] bug fix to specify LD_LIBRARY_PATH for configure --enable-udp-server recompile test,"[test suite] bug fix to specify LD_LIBRARY_PATH for configure --enable-udp-server recompile test
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1414960256,1414960256,7a98eed75921b57bd1d9271d49bc18a22319acfe
7a98eed75921b57bd1d9271d49bc18a22319acfe,7a98eed7,[test suite] add spa_fuzzing.py and a few minor helper files for FreeBSD/OpenBSD,"[test suite] add spa_fuzzing.py and a few minor helper files for FreeBSD/OpenBSD
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1414889075,1414889075,3826bb5631743ab8cbea0fbd06bc90b4ea01d4b4
3826bb5631743ab8cbea0fbd06bc90b4ea01d4b4,3826bb56,"ChangeLog updates, bump version to 2.6.4","ChangeLog updates, bump version to 2.6.4
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1414857851,1414857851,50009115b3dba3f35bd93757c26d6239757b3a1d
50009115b3dba3f35bd93757c26d6239757b3a1d,50009115,[server] bug fix to close write filehandle in _run_extcmd_write(),"[server] bug fix to close write filehandle in _run_extcmd_write()
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1414857829,1414857829,4880243902f22ce436053040922b4079f86dc77e
4880243902f22ce436053040922b4079f86dc77e,48802439,[test suite] added invalid_firewd_input_chain_* files,"[test suite] added invalid_firewd_input_chain_* files
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1414547779,1414547779,387c1acdf777bff5397b36d2e368fad99bc04af6
387c1acdf777bff5397b36d2e368fad99bc04af6,387c1acd,add fcs_spa.pcap to Makefile.am,"add fcs_spa.pcap to Makefile.am
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1414546174,1414546174,34e38fe39eb930ae9a69d0a46b7312d95a4ec95e
34e38fe39eb930ae9a69d0a46b7312d95a4ec95e,34e38fe3,[server] first pass at eliminating popen() write calls with run_extcmd_write()…,"[server] first pass at eliminating popen() write calls with run_extcmd_write() (used for PF firewalls)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1414546101,1414546101,b5fe62bfc74288b885188f7b5012cff0aa71c4c1
b5fe62bfc74288b885188f7b5012cff0aa71c4c1,b5fe62bf,[test suite] command exec too many args tests,"[test suite] command exec too many args tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1414357093,1414357093,d2abbd87202719734b5258d58c2635e5883a94fa
d2abbd87202719734b5258d58c2635e5883a94fa,d2abbd87,[test suite] more code coverage tests,"[test suite] more code coverage tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1414290589,1414290589,17608dd01df6eee5446c0b0cfbde69a132d0d7a2
17608dd01df6eee5446c0b0cfbde69a132d0d7a2,17608dd0,[test suite] additional code coverage,"[test suite] additional code coverage
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1414240950,1414240950,837f7780fe23d0486c4bfe32c1eacaf9a73fa43a
837f7780fe23d0486c4bfe32c1eacaf9a73fa43a,837f7780,[libfko] validate MAX_PORT integer value for SPA messages,"[libfko] validate MAX_PORT integer value for SPA messages
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1414240934,1414240934,58d47cb3853c563677de00aca816a4a019ca81ea
58d47cb3853c563677de00aca816a4a019ca81ea,58d47cb3,[test suite] additional code coverage for a few areas,"[test suite] additional code coverage for a few areas
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1414197580,1414197580,7b70ed08d261dc9db9e026b215a72da2cbd58089
7b70ed08d261dc9db9e026b215a72da2cbd58089,7b70ed08,[server] ensure to break out of while loop and close() UDP socket before returning,"[server] ensure to break out of while loop and close() UDP socket before returning
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1414119921,1414119921,30402516950446eb0ebd14723bb00c9611d8a5c1
30402516950446eb0ebd14723bb00c9611d8a5c1,30402516,[test suite] default to recompiling fwknop in code coverage profiling mode,"[test suite] default to recompiling fwknop in code coverage profiling mode
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1414109014,1414109014,cbb3b0d4137316455a03336340c4168a7dcf3f76
cbb3b0d4137316455a03336340c4168a7dcf3f76,cbb3b0d4,[test suite] add branch coverage stats in code coverage mode,"[test suite] add branch coverage stats in code coverage mode
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1414108530,1414108530,a2ce50e9e5999e890da7ce6ed57806e271f770dd
a2ce50e9e5999e890da7ce6ed57806e271f770dd,a2ce50e9,[python module] default to HMAC SHA256 when an HMAC key is used but no HMAC mode was specified,"[python module] default to HMAC SHA256 when an HMAC key is used but no HMAC mode was specified
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1414068321,1414068321,d7be3f43ac27d52da6af59ca758c2deb1805bee0
d7be3f43ac27d52da6af59ca758c2deb1805bee0,d7be3f43,[test suite] firewall prefix typo bug fix,"[test suite] firewall prefix typo bug fix
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1414068021,1414068021,22161af075f9d3cda1c6ec8b79273951b30c5cc5
22161af075f9d3cda1c6ec8b79273951b30c5cc5,22161af0,[test suite] add ipt_local_nat_fwknopd.conf,"[test suite] add ipt_local_nat_fwknopd.conf
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1414067982,1414067982,b8f1cf6c6c1c935df4260e30ab555458ce686b62
b8f1cf6c6c1c935df4260e30ab555458ce686b62,b8f1cf6c,make sure test suite conf files are included in Makefile.am,"make sure test suite conf files are included in Makefile.am
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1413946143,1413946143,56a6b7dee5476eedb481bac2aefc765ba54ed3a0
56a6b7dee5476eedb481bac2aefc765ba54ed3a0,56a6b7de,give firewalld its own namespace (can track firewalld changes independently of iptables),"give firewalld its own namespace (can track firewalld changes independently of iptables)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1413945801,1413945801,6945e23bc93d9580ccbcda1e770d6f818d2c7b0d
6945e23bc93d9580ccbcda1e770d6f818d2c7b0d,6945e23b,"[test suite] UDP server command execution tests, run configure arg recompile…","[test suite] UDP server command execution tests, run configure arg recompile tests after gcov profiling stuff
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1413858226,1413858226,15f73c7f9e1dd99d3a54a5e6428909b4873ad1b4
15f73c7f9e1dd99d3a54a5e6428909b4873ad1b4,15f73c7f,[test suite] added configure args test with UDP server test for fwknopd not linking against libpcap,"[test suite] added configure args test with UDP server test for fwknopd not linking against libpcap
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1413773915,1413773915,0af8faa0b37b08533fa1aa678f0e9e2f15cc6b11
0af8faa0b37b08533fa1aa678f0e9e2f15cc6b11,0af8faa0,Merge branch 'udp_listener' into execvpe,"Merge branch 'udp_listener' into execvpe
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1413246314,1413246314,"00b229b8341b860324a46acd0b8bc603f59990fe,2b046392b7e05ac20387bbcf539530a6559da50b"
00b229b8341b860324a46acd0b8bc603f59990fe,00b229b8,[test suite] detect firewalld vs. iptables for server rewrite conf tests,"[test suite] detect firewalld vs. iptables for server rewrite conf tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1413244470,1413244470,c70e1c72a060eb846654d20bcdc1ddd30ba7f8fd
c70e1c72a060eb846654d20bcdc1ddd30ba7f8fd,c70e1c72,[server] update firewalld code to use run_extcmd() instead of popen() and…,"[server] update firewalld code to use run_extcmd() instead of popen() and system() - allows execvpe() to be used
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1413165424,1413165424,d9fb29318e3ee64e207bbd0771393c3de78b9d02
d9fb29318e3ee64e207bbd0771393c3de78b9d02,d9fb2931,[test suite] add --exit-parse-config to fwknopd basic tests where possible,"[test suite] add --exit-parse-config to fwknopd basic tests where possible
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1413163784,1413163784,c481f7f6b3ed3723904c3838ac63e9fced62618d
c481f7f6b3ed3723904c3838ac63e9fced62618d,c481f7f6,add --disable-execvpe arg to configure script (looks for execvpe() support by default),"add --disable-execvpe arg to configure script (looks for execvpe() support by default)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1413134190,1413134190,62ee780d65d12de41bafa1f7226b1808d7cb04af
62ee780d65d12de41bafa1f7226b1808d7cb04af,62ee780d,[server] make pid_status a static var at the top of each fw_util_*.c file,"[server] make pid_status a static var at the top of each fw_util_*.c file
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1412943601,1412965218,e54b15ceaff86d2da4ccac69691da1562a4e2640
e54b15ceaff86d2da4ccac69691da1562a4e2640,e54b15ce,[test suite] fix up Rijndael cmd exec test,"[test suite] fix up Rijndael cmd exec test
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1412943391,1412943391,a6007918a8b4a71707c58ed9f468613a409ae740
a6007918a8b4a71707c58ed9f468613a409ae740,a6007918,added setuid/setgid cmd exec test files,"added setuid/setgid cmd exec test files
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1412943344,1412943344,2b5088eb76f5a7af06d68e94c66885e73e81974d
2b5088eb76f5a7af06d68e94c66885e73e81974d,2b5088eb,"[test suite] added use terminal test, fix up Rijndael CMD tests","[test suite] added use terminal test, fix up Rijndael CMD tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1412824209,1412884985,6dd599f3de138dfcd3fea39b32241b6df06a245d
6dd599f3de138dfcd3fea39b32241b6df06a245d,6dd599f3,[server] update ipfw and pf firewall interace code to latest run_extcmd() API,"[server] update ipfw and pf firewall interace code to latest run_extcmd() API
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1412738585,1412738585,06f3db1de8bebf4a3fb2e5982b7beb0e57a788b5
06f3db1de8bebf4a3fb2e5982b7beb0e57a788b5,06f3db1d,[server] restore shell stderr redirect when execvpe() is not available,"[server] restore shell stderr redirect when execvpe() is not available
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1412732556,1412732556,1905baa0e8d7ac16f6dd77aa548c72ba30d2a8de
1905baa0e8d7ac16f6dd77aa548c72ba30d2a8de,1905baa0,[server] minor macro usage update,"[server] minor macro usage update
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1412732249,1412732249,b7785a930460014bb0c3b9b2ee4e160040cbe67a
b7785a930460014bb0c3b9b2ee4e160040cbe67a,b7785a93,[server] extend run_extcmd() to allow the caller to specify whether to collect stderr,"[server] extend run_extcmd() to allow the caller to specify whether to collect stderr
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1412730077,1412730077,ed9e1ac236c3c48507916754c1c3dff89d2e05b8
ed9e1ac236c3c48507916754c1c3dff89d2e05b8,ed9e1ac2,added setgid() call for command execution along with CMD_EXEC_GROUP access.conf var,"added setgid() call for command execution along with CMD_EXEC_GROUP access.conf var
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1412647840,1412713094,e6d162215f30b0ba18fb620a616459fc1966e4cc
e6d162215f30b0ba18fb620a616459fc1966e4cc,e6d16221,[test suite] added command execution setuid() 'nobody' test,"[test suite] added command execution setuid() 'nobody' test
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1412647460,1412647460,fedc691e21e5ad5c55336995d5509eb08533cb34
fedc691e21e5ad5c55336995d5509eb08533cb34,fedc691e,[test suite] added generate_core.sh script and --enable-cores-pattern arg for the test suite,"[test suite] added generate_core.sh script and --enable-cores-pattern arg for the test suite
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1412644202,1412644202,248c4b301e329919c1c02e9b59f71346378e3de3
248c4b301e329919c1c02e9b59f71346378e3de3,248c4b30,added configure detection of execvpe() - doesn't exist on Mac OS X yet,"added configure detection of execvpe() - doesn't exist on Mac OS X yet
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1412640240,1412640240,652b8cb80eda66c30b89b5111b700f72e8e17e7b
652b8cb80eda66c30b89b5111b700f72e8e17e7b,652b8cb8,[server] have run_extcmd() collect process exit status for calling function (in…,"[server] have run_extcmd() collect process exit status for calling function (in addition to return value)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1412554865,1412554865,a47ddfcb1ec97f1c5263d3568e32535bddae2523
a47ddfcb1ec97f1c5263d3568e32535bddae2523,a47ddfcb,[server] added WIFEXITED(status) check for external commands run via execvpe(),"[server] added WIFEXITED(status) check for external commands run via execvpe()
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1412471689,1412471689,841d732c0750aabbdea8fd7234bd7123b83bf858
841d732c0750aabbdea8fd7234bd7123b83bf858,841d732c,[server] removed remaining popen() call for iptables firewalls,"[server] removed remaining popen() call for iptables firewalls
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1412466986,1412466986,50952b4a6ec3b1cd6e8aeeebce8e95896f0d111a
50952b4a6ec3b1cd6e8aeeebce8e95896f0d111a,50952b4a,Merge branch 'master' of https://github.com/mrash/fwknop into execvpe,"Merge branch 'master' of https://github.com/mrash/fwknop into execvpe
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1412465764,1412465764,"87f3bbdd23ebb3af30a39df3011a5d01af352676,46232122c35ed981fdf95f0f6289f08d8e794581"
87f3bbdd23ebb3af30a39df3011a5d01af352676,87f3bbdd,"[server] hex_dump() '%' bug fix, minor verbose criteria update","[server] hex_dump() '%' bug fix, minor verbose criteria update
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1412455244,1412455244,d71f38697199d932e4d1c156642b9f99a047c62b
46232122c35ed981fdf95f0f6289f08d8e794581,46232122,Merge branch 'master' of https://github.com/mrash/fwknop,"Merge branch 'master' of https://github.com/mrash/fwknop
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1412433488,1412433488,"836370d034a308ee2de8c34754528e5c1d9d95f2,e9655db0b42633bb27ba766a1ae1dd4535fdb91b"
836370d034a308ee2de8c34754528e5c1d9d95f2,836370d0,[client] minor tab->spaces fix,"[client] minor tab->spaces fix
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1412433172,1412433172,9bdcd6746a1c2ac33f324bb23cd1235a4d81e014
d71f38697199d932e4d1c156642b9f99a047c62b,d71f3869,[server] add search_extcmd() to replace all popen() calls with the execvpe() no env strategy,"[server] add search_extcmd() to replace all popen() calls with the execvpe() no env strategy
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1412433075,1412433075,e271442aa995188a21815e2b3573325c1bcb263a
e271442aa995188a21815e2b3573325c1bcb263a,e271442a,[server] first cut at converting iptables commands to use execvpe(),"[server] first cut at converting iptables commands to use execvpe()
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1412387931,1412387931,7aa34a92f1ad1b98998770bb422a9d7a16797a9f
7aa34a92f1ad1b98998770bb422a9d7a16797a9f,7aa34a92,[client] add strtoargv() to easily get an argv array for passing to execvpe(),"[client] add strtoargv() to easily get an argv array for passing to execvpe()
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1412130824,1412361841,bf3319e0bac513168aeaef084bbeae944d59bd30
bf3319e0bac513168aeaef084bbeae944d59bd30,bf3319e0,[test suite] minor addition of spaces for --last tests,"[test suite] minor addition of spaces for --last tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1412129957,1412361721,0d6917fa4e123e37a3630536538d4dd29068a33f
0d6917fa4e123e37a3630536538d4dd29068a33f,0d6917fa,minor hex_dump() update to use a consistent macro definition for ascii str length,"minor hex_dump() update to use a consistent macro definition for ascii str length
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1412129350,1412361648,2247dfeab848db3a0b3b8d18457eae6300b51e8d
2247dfeab848db3a0b3b8d18457eae6300b51e8d,2247dfea,use execvpe() with NULL env for wget calls,"use execvpe() with NULL env for wget calls
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1412128741,1412350773,b1358d564deb39c0adc59e17dab3c2443ea52c9c
b1358d564deb39c0adc59e17dab3c2443ea52c9c,b1358d56,minor client --help update,"minor client --help update
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1412127298,1412350538,85ff6b25e145a938e618c4cf40739e89fa3082e0
e9655db0b42633bb27ba766a1ae1dd4535fdb91b,e9655db0,Merge pull request #135 from tombriden/multi_ports,"Merge pull request #135 from tombriden/multi_ports

android: allow definition of multiple tcp/udp ports",,,,Michael Rash,michael.rash@gmail.com,Michael Rash,michael.rash@gmail.com,1412309325,1412309325,"9bdcd6746a1c2ac33f324bb23cd1235a4d81e014,899729b498de672dccf14c461bc60fee588d0c09"
9bdcd6746a1c2ac33f324bb23cd1235a4d81e014,9bdcd674,Merge pull request #137 from schuellerf/master,"Merge pull request #137 from schuellerf/master

Support for ""--no-save-args"" in .fwknoprc",,,,Michael Rash,michael.rash@gmail.com,Michael Rash,michael.rash@gmail.com,1412308986,1412308986,"50434c5c4c9fe274430c560f83200061e545add2,dc30f162c7d6e438f1eb82f757adb58dbfc7a8cd"
dc30f162c7d6e438f1eb82f757adb58dbfc7a8cd,dc30f162,"Add ""NO_SAVE_ARGS"" to initial config file","Add ""NO_SAVE_ARGS"" to initial config file
",,,,Florian Schüller,schuellerf@gmx.net,FSC,fsc@tttech.com,1412165577,1412166516,981d1f7077137a13de256b12d738e18860def88e
981d1f7077137a13de256b12d738e18860def88e,981d1f70,"Support for ""--no-save-args"" in .fwknoprc","Support for ""--no-save-args"" in .fwknoprc
",,,,Florian Schüller,schuellerf@gmx.net,FSC,fsc@tttech.com,1412165530,1412166509,50434c5c4c9fe274430c560f83200061e545add2
85ff6b25e145a938e618c4cf40739e89fa3082e0,85ff6b25,updated --last-cmd tests to write the previous args first,"updated --last-cmd tests to write the previous args first
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1412125963,1412125963,50434c5c4c9fe274430c560f83200061e545add2
2b046392b7e05ac20387bbcf539530a6559da50b,2b046392,minor unused var removal,"minor unused var removal
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1411958652,1412090943,ddbba5bc90f105269a18d353e1e1b14bdff69299
ddbba5bc90f105269a18d353e1e1b14bdff69299,ddbba5bc,autoconf update to ensure libpcap is not linked against in --enable-udp-server mode,"autoconf update to ensure libpcap is not linked against in --enable-udp-server mode
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1411958450,1412005331,52d34a70a21d4e6d019d3a94bb84448051f87c29
52d34a70a21d4e6d019d3a94bb84448051f87c29,52d34a70,"fwknopd man page updates, added UDPSERV_SELECT_TIMEOUT config option","fwknopd man page updates, added UDPSERV_SELECT_TIMEOUT config option
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1411957940,1411957940,52c9d51d7d02e1caa0e02ea992fffcc435ae5845
52c9d51d7d02e1caa0e02ea992fffcc435ae5845,52c9d51d,"consolidate signal handling a bit, UDP server msg size updates","consolidate signal handling a bit, UDP server msg size updates
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1411956394,1411956394,e2c2ad141e87b6b799525c3f91b80a294bc117f2
e2c2ad141e87b6b799525c3f91b80a294bc117f2,e2c2ad14,TCP/UDP server port validation tests,"TCP/UDP server port validation tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1411956366,1411956366,ad3b23091720be83c9f8ccb742cf10ea07fe7cf6
ad3b23091720be83c9f8ccb742cf10ea07fe7cf6,ad3b2309,minor client cmd line bug fix for UDP server HMAC test,"minor client cmd line bug fix for UDP server HMAC test
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1411953685,1411953685,360905ec5624edb927f708561acfb9f76e6c9423
360905ec5624edb927f708561acfb9f76e6c9423,360905ec,implement --packet-limit for UDP server mode,"implement --packet-limit for UDP server mode
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1411953559,1411953559,a5dd273189a89071f25cae9954ae11a840e2e488
a5dd273189a89071f25cae9954ae11a840e2e488,a5dd2731,replay attack detection test for UDP server mode,"replay attack detection test for UDP server mode
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1411951737,1411951737,5db3a12763b1322cc466379e14a362f67ff4d15c
5db3a12763b1322cc466379e14a362f67ff4d15c,5db3a127,add signal handling code to UDP server mode,"add signal handling code to UDP server mode
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1411950609,1411950609,aa2492bba237529e6a2b7dc3a4530e2995750a69
aa2492bba237529e6a2b7dc3a4530e2995750a69,aa2492bb,Added UDP server HMAC cycle tests,"Added UDP server HMAC cycle tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1411937498,1411937498,0af7f72500c6bb404af3fefa5b572403ec2593e5
0af7f72500c6bb404af3fefa5b572403ec2593e5,0af7f725,enforce MAX_SPA_PACKET_LEN restriction for incoming datagrams for UDP listener mode,"enforce MAX_SPA_PACKET_LEN restriction for incoming datagrams for UDP listener mode
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1411937352,1411937352,dc9e8da702c61c36f04072f2dd6cb5d8f99f8f5d
dc9e8da702c61c36f04072f2dd6cb5d8f99f8f5d,dc9e8da7,started on UDP server tests for Rijndael mode,"started on UDP server tests for Rijndael mode
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1411930480,1411930480,f2a3562f712d511825967b5d3633cbf92abd9fad
f2a3562f712d511825967b5d3633cbf92abd9fad,f2a3562f,removed,"removed
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1411919364,1411919364,1fd0e7e96012d9bdce0a2a3912bff3498fff3637
1fd0e7e96012d9bdce0a2a3912bff3498fff3637,1fd0e7e9,first cut at UDP server mode,"first cut at UDP server mode
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1411919344,1411919344,c07afac8833e0c46048a1ae34a8a96f19fa6a59e
c07afac8833e0c46048a1ae34a8a96f19fa6a59e,c07afac8,calculate sizeof caddr for each client connection,"calculate sizeof caddr for each client connection
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1411910970,1411910970,aae72a947026d96a43fe854079e92b9a31ad8b36
50434c5c4c9fe274430c560f83200061e545add2,50434c5c,Use the fwknop User-Agent for wget SSL external IP resolutions,"Use the fwknop User-Agent for wget SSL external IP resolutions

Bug fix to ensure that a User-Agent string can be specified when the
fwknop client uses wget via SSL to resolve the external IP address. This
closes issue #134 on github reported by Barry Allard. The fwknop now
uses the wget '-U' option to specify the User-Agent string with a
default of ""Fwknop/<version>"". In addition, a new command line argument
""--use-wget-user-agent"" to allow the default wget User-Agent string to
apply instead.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1411874592,1411874592,aae72a947026d96a43fe854079e92b9a31ad8b36
899729b498de672dccf14c461bc60fee588d0c09,899729b4,android: allow definition of multiple tcp/udp ports,"android: allow definition of multiple tcp/udp ports
",,,,Tom Briden,tom@decompile.me.uk,Tom Briden,tom@decompile.me.uk,1411812850,1411841230,aae72a947026d96a43fe854079e92b9a31ad8b36
260cd5481b41384f802eaa4bd1a33824d751cf8f,260cd548,Use of init and cleanup functions for the test suite.,"Use of init and cleanup functions for the test suite.
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1410114819,1410114819,32c5afae83ef38f34eae6ba1257a9043c0518487
bd0035af1e1efa2d6b82f9be27bac075c69d9f52,bd0035af,Fixed tab vs spaces,"Fixed tab vs spaces
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1410097203,1410097203,32c5afae83ef38f34eae6ba1257a9043c0518487
32c5afae83ef38f34eae6ba1257a9043c0518487,32c5afae,Merge remote-tracking branch 'upstream/master' into c_unit_testing,"Merge remote-tracking branch 'upstream/master' into c_unit_testing
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1410096299,1410096299,"688f08c2a0378fb9afc9b9015a454ffdde6e969e,aae72a947026d96a43fe854079e92b9a31ad8b36"
688f08c2a0378fb9afc9b9015a454ffdde6e969e,688f08c2,Both the fwknop client and server have their own test suites tied to fwknop_utests,"Both the fwknop client and server have their own test suites tied to fwknop_utests
and fwknopd_utests binaries.

When profil coverage is enbaled, lcov filee are parsed by test-fwknop.pl and added
to the main profil coverage report in the output directory.

Running make from the main directory build the c-unit test suites if enabled.
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1409510924,1410095722,934d764159293ef93a3a5c382e94655922a0c658
aae72a947026d96a43fe854079e92b9a31ad8b36,aae72a94,firewalld support from Gerry Reno,"firewalld support from Gerry Reno
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1409801331,1409801331,f7f97d3f3004ed553d418c95f9cefa6675bea338
f7f97d3f3004ed553d418c95f9cefa6675bea338,f7f97d3f,[server] firewalld reports 'success' as a string upon command success in contrast to iptables,"[server] firewalld reports 'success' as a string upon command success in contrast to iptables
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1409800534,1409800534,4fe549c4512ddd21d86bdcea52041baa48aa1dda
4fe549c4512ddd21d86bdcea52041baa48aa1dda,4fe549c4,added feature: firewalld,"added feature: firewalld
",,,,Gerry Reno,greno@verizon.net,Gerry Reno,greno@verizon.net,1409534022,1409534022,2da57da0cb3ec3fac6ec0f5de628d7c3eb2ea0cf
2da57da0cb3ec3fac6ec0f5de628d7c3eb2ea0cf,2da57da0,more changes for firewalld,"more changes for firewalld
",,,,Gerry Reno,greno@verizon.net,Gerry Reno,greno@verizon.net,1409516026,1409516026,ac82b1ced2b976d8010d73cc2786503b14a73641
ac82b1ced2b976d8010d73cc2786503b14a73641,ac82b1ce,more changes for firewalld,"more changes for firewalld
",,,,Gerry Reno,greno@verizon.net,Gerry Reno,greno@verizon.net,1409507468,1409507468,d47ebb602a8f42b42031ecfadfaf29f37a6c6829
d47ebb602a8f42b42031ecfadfaf29f37a6c6829,d47ebb60,more changes for firewalld,"more changes for firewalld
",,,,Gerry Reno,greno@verizon.net,Gerry Reno,greno@verizon.net,1409466219,1409466219,25d252c11aea89a5ba5f46868847c72851a62a95
25d252c11aea89a5ba5f46868847c72851a62a95,25d252c1,more changes for firewalld,"more changes for firewalld
",,,,Gerry Reno,greno@verizon.net,Gerry Reno,greno@verizon.net,1409459357,1409459357,e54383b518fad5e0a31ae0f752d3c3c7ec70f16c
e54383b518fad5e0a31ae0f752d3c3c7ec70f16c,e54383b5,first cut at firewalld,"first cut at firewalld
",,,,Gerry Reno,greno@verizon.net,Gerry Reno,greno@verizon.net,1409457997,1409457997,ea64f15ae7b73a3986807dd76bf9076756b691e8
ea64f15ae7b73a3986807dd76bf9076756b691e8,ea64f15a,added .gitignore,"added .gitignore
",,,,Gerry Reno,greno@verizon.net,Gerry Reno,greno@verizon.net,1409440142,1409440142,73186e511ae226f4e5e1dae5638567ecea788fbc
73186e511ae226f4e5e1dae5638567ecea788fbc,73186e51,Added WIN32 definitions for popen (_popen) and pclose (_pclose) to accommodate…,"Added WIN32 definitions for popen (_popen) and pclose (_pclose) to accommodate the call to wget on Windows-based systems.
",,,,Damien Stuart,dstuart@dstuart.org,Damien Stuart,dstuart@dstuart.org,1409429926,1409429926,8cec7eaeee14f2674a2acf095eff38735091147b
8cec7eaeee14f2674a2acf095eff38735091147b,8cec7eae,Merge branch 'master' of ssh://github.com/mrash/fwknop,"Merge branch 'master' of ssh://github.com/mrash/fwknop
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1409109811,1409109811,"eb0e8eb6a1946c2e89ff66399e186d54535bf013,4aacf32f3b015e43316d76c40fe12bbcb0a9c838"
4aacf32f3b015e43316d76c40fe12bbcb0a9c838,4aacf32f,Merge pull request #127 from g-reno/android-keypreserve,"Merge pull request #127 from g-reno/android-keypreserve

restore keys from prefs when app is launched",,,,Michael Rash,michael.rash@gmail.com,Michael Rash,michael.rash@gmail.com,1409109735,1409109735,"00a057a09da1a7dded8aa6de6479adcc51787202,813e4e05756ff6fea3ea4b4baeb1af93aeb33e34"
eb0e8eb6a1946c2e89ff66399e186d54535bf013,eb0e8eb6,fwknopd man page updates for access.conf vars,"fwknopd man page updates for access.conf vars
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1409109674,1409109674,00a057a09da1a7dded8aa6de6479adcc51787202
934d764159293ef93a3a5c382e94655922a0c658,934d7641,Minor update.,"Minor update.
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1408907685,1408907685,306dd0f6852a383d0c4ba2ef17f73c411b75c6b9
306dd0f6852a383d0c4ba2ef17f73c411b75c6b9,306dd0f6,First layout to add c unit testing support to fwknop.,"First layout to add c unit testing support to fwknop.
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1408907144,1408907144,00a057a09da1a7dded8aa6de6479adcc51787202
00a057a09da1a7dded8aa6de6479adcc51787202,00a057a0,ChangeLog update for FCS bug fix,"ChangeLog update for FCS bug fix
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1408670109,1408670109,dfcfb2e47b37183c14bd8ab37ec0e8c2a718c186
dfcfb2e47b37183c14bd8ab37ec0e8c2a718c186,dfcfb2e4,minor code restructure for Ethernet FCS header processing,"minor code restructure for Ethernet FCS header processing
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1408669707,1408669707,e04f3fef21c997f2359034d32c1bd9c23d363ebe
e04f3fef21c997f2359034d32c1bd9c23d363ebe,e04f3fef,added Ethernet FCS header test with pcap contributed by Bill Stubs,"added Ethernet FCS header test with pcap contributed by Bill Stubs
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1408669672,1408669672,ba9078d990258ad47b564579be4891bd2ace7413
ba9078d990258ad47b564579be4891bd2ace7413,ba9078d9,Merge branch 'beaglebone_libpcap_workaround' of…,"Merge branch 'beaglebone_libpcap_workaround' of https://github.com/stubbsw/fwknop into stubbsw-beaglebone_libpcap_workaround
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1408668288,1408668288,"e4eb984869f41f04bd2fd9f50a4e2803a1a29fb0,2c0606f2b84c28ea7b53c2f3d7bcec46705fbcf5"
813e4e05756ff6fea3ea4b4baeb1af93aeb33e34,813e4e05,restore keys from prefs when app is launched,"restore keys from prefs when app is launched
",,,,Gerry Reno,greno@verizon.net,Gerry Reno,greno@verizon.net,1408659360,1408659360,e4eb984869f41f04bd2fd9f50a4e2803a1a29fb0
2c0606f2b84c28ea7b53c2f3d7bcec46705fbcf5,2c0606f2,pcap of  spa with Ethernet FCS,"pcap of  spa with Ethernet FCS

Captured with:
tcpdump -i eth0 -l -nn -s 0 -w fcs_spa.pcap udp port 62201

Generated remotely with:
LD_LIBRARY_PATH=./lib/.libs ./client/.libs/fwknop -A tcp/22 -a 127.0.0.2
-D 192.168.18.11 --no-save-args --verbose --verbose --rc-file
./test/conf/fwknoprc_default_hmac_base64_key
",,,,stubbsw,stubbsw@users.noreply.github.com,stubbsw,stubbsw@users.noreply.github.com,1408619095,1408619095,19f31c3e2300226f8414b2d050315190168cf6d9
e4eb984869f41f04bd2fd9f50a4e2803a1a29fb0,e4eb9848,Merge pull request #125 from stubbsw/beaglebone_libpcap_workaround,"Merge pull request #125 from stubbsw/beaglebone_libpcap_workaround

workaround libpcap 4 extra bytes",,,,Michael Rash,michael.rash@gmail.com,Michael Rash,michael.rash@gmail.com,1408591240,1408591240,"36489b5222647f24bc3a02930ae0f5cd7efe28f3,19f31c3e2300226f8414b2d050315190168cf6d9"
19f31c3e2300226f8414b2d050315190168cf6d9,19f31c3e,update to indicate Ethernet FCS support vs. bug,"update to indicate Ethernet FCS support vs. bug
",,,,stubbsw,stubbsw@users.noreply.github.com,stubbsw,stubbsw@users.noreply.github.com,1408445658,1408445658,b98579ab8f23b436b54fa0a0a3371ec71362f827
b98579ab8f23b436b54fa0a0a3371ec71362f827,b98579ab,workaround libpcap 4 extra bytes,"workaround libpcap 4 extra bytes

Workaround for libpcap returning a length that is 4 bytes longer than
the
packet on the wire. Observed on:

Linux beaglebone 3.8.13-bone50 #1 SMP Tue May 13 13:24:52 UTC 2014
armv7l GNU/Linux
ldd fwknopd
libfko.so.2 => /usr/local/lib/libfko.so.2 (0xb6f62000)
libpcap.so.0.8 => /usr/lib/arm-linux-gnueabihf/libpcap.so.0.8
(0xb6f20000)
libc.so.6 => /lib/arm-linux-gnueabihf/libc.so.6 (0xb6e3b000)
/lib/ld-linux-armhf.so.3 (0xb6f94000)
libgcc_s.so.1 => /lib/arm-linux-gnueabihf/libgcc_s.so.1 (0xb6e17000)

Calculate the new pkt_end from the length in the ip header.
",,,,stubbsw,stubbsw@users.noreply.github.com,stubbsw,stubbsw@users.noreply.github.com,1408290656,1408290656,36489b5222647f24bc3a02930ae0f5cd7efe28f3
36489b5222647f24bc3a02930ae0f5cd7efe28f3,36489b52,append gdbm change to all changes since 2.6.2,"append gdbm change to all changes since 2.6.2
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1406601716,1406642454,5befed6bae9228ab649e41217df21b5b32740fe0
5befed6bae9228ab649e41217df21b5b32740fe0,5befed6b,"removed gdbm/gdbm-devel dependencies for the RPM, bumped libfko to 2.0.3 for the RPM","removed gdbm/gdbm-devel dependencies for the RPM, bumped libfko to 2.0.3 for the RPM
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1406601613,1406642372,96e16cf6f4b690fda1cb90b1bba6aba95bc8919d
96e16cf6f4b690fda1cb90b1bba6aba95bc8919d,96e16cf6,extended ChangeLog.git to include libfko version bump,"extended ChangeLog.git to include libfko version bump
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1406600926,1406600926,71b97b6cad00223b2061309c2e87e2ede5a2da2f
71b97b6cad00223b2061309c2e87e2ede5a2da2f,71b97b6c,bumped libfko version to 2.0.3,"bumped libfko version to 2.0.3
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1406598392,1406598392,67ca2f69ea8c59495e9b6a341d258eb2851e5828
67ca2f69ea8c59495e9b6a341d258eb2851e5828,67ca2f69,changes since 2.6.2 to ChangeLog.git,"changes since 2.6.2 to ChangeLog.git
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1406517655,1406577449,03000dde5dda307ea421d19181cf7638240d8fbc
03000dde5dda307ea421d19181cf7638240d8fbc,03000dde,bumped version to 2.6.3 in preparation for release,"bumped version to 2.6.3 in preparation for release
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1406516591,1406577338,fa154259d5c425ad5f6e436a7353918225c797d9
fa154259d5c425ad5f6e436a7353918225c797d9,fa154259,[test suite] added FreeBSD-10.0 and OpenBSD-5.5 compatibility tests,"[test suite] added FreeBSD-10.0 and OpenBSD-5.5 compatibility tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1406516175,1406577177,24ccf03a90b5338cc82d6fae2bef6f78145dcf06
24ccf03a90b5338cc82d6fae2bef6f78145dcf06,24ccf03a,added configure_max_coverage.sh helper script,"added configure_max_coverage.sh helper script
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1406515204,1406577025,655abf6f0bbf865addb07df6020b072203e30bb3
655abf6f0bbf865addb07df6020b072203e30bb3,655abf6f,[test suite] WGET_CMD and RESOLVE_HTTP_ONLY fwknoprc test coverage,"[test suite] WGET_CMD and RESOLVE_HTTP_ONLY fwknoprc test coverage
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1406514709,1406555168,7f830e02391d6505063372c9eb2abd42b0802d1f
7f830e02391d6505063372c9eb2abd42b0802d1f,7f830e02,revert gpg trustdb.gpg update from test suite,"revert gpg trustdb.gpg update from test suite
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1406513401,1406554670,b06447384e8d5f5c68efaf959c0d390daf984d94
b06447384e8d5f5c68efaf959c0d390daf984d94,b0644738,[client] have autoconf resolve the absolute path to wget for SSL IP resolution,"[client] have autoconf resolve the absolute path to wget for SSL IP resolution
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1406513038,1406513038,4fcd5b317a649645316e63eedf7f7dbf8ff0c565
4fcd5b317a649645316e63eedf7f7dbf8ff0c565,4fcd5b31,[server] fix shift operation bug in SOURCE subnet processing spotted by Coverity,"[server] fix shift operation bug in SOURCE subnet processing spotted by Coverity
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1406432628,1406432628,134f4c6cfb936d2a5d7932128ba7d0f51980057c
134f4c6cfb936d2a5d7932128ba7d0f51980057c,134f4c6c,Merge branch 'libfiu_fault_injection',"Merge branch 'libfiu_fault_injection'

Conflicts:
	test/tests/rijndael_hmac_fuzzing.pl
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1406324667,1406324667,"2f9b92068d7239e9a617e21b4cb8febbaf06f436,59718f1a3668683acf9c64b3e86ad66fadebdc84"
59718f1a3668683acf9c64b3e86ad66fadebdc84,59718f1a,[client] Updated IP resolution mode -R to use SSL,"[client] Updated IP resolution mode -R to use SSL

External IP resolution via '-R' (or '--resolve-ip-http') is now done via SSL by
default. The IP resolution URL is now 'https://www.cipherdyne.org/cgi-gin/myip',
and a warning is generated in '-R' mode whenever a non-HTTPS URL is specified
(it is safer just to use the default). The fwknop client leverages 'wget' for
this operation since that is cleaner than having fwknop link against an SSL
library.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1406324526,1406324526,e1608b90fec440bf1b13b76b474a153d6091c2fe
e1608b90fec440bf1b13b76b474a153d6091c2fe,e1608b90,[client] call freeaddrinfo() early after iterating through getaddrinfo() results,"[client] call freeaddrinfo() early after iterating through getaddrinfo() results
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1406082943,1406082943,5fadf56af42a6b320a5752cfb048df4697fb190e
5fadf56af42a6b320a5752cfb048df4697fb190e,5fadf56a,added extras/coverity/ directory for Coverity script,"added extras/coverity/ directory for Coverity script
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1406081129,1406081129,666d150affdedc7604a729941422a42dbf9b73db
666d150affdedc7604a729941422a42dbf9b73db,666d150a,[client] make close() on socket handle more intuitive (resolves 'double close'…,"[client] make close() on socket handle more intuitive (resolves 'double close' bugs flagged by Coverity)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1406081084,1406081084,73490209f7d4a6d6c990da119cab2138387928b0
73490209f7d4a6d6c990da119cab2138387928b0,73490209,[test suite] add access.conf file path to a few basic tests,"[test suite] add access.conf file path to a few basic tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1406069772,1406064991,3df08e3c0ebe48b06b6066ebfd549841f54a72f3
3df08e3c0ebe48b06b6066ebfd549841f54a72f3,3df08e3c,[test suite] handle PF on FreeBSD,"[test suite] handle PF on FreeBSD
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1406069334,1406064959,eed3418996cc5de92b92bca20d980f3d700846a6
eed3418996cc5de92b92bca20d980f3d700846a6,eed34189,[test suite] update wrapper Makefile gcc -> cc,"[test suite] update wrapper Makefile gcc -> cc
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1406068829,1406064919,9470b3ce21b409c1258ed64561499b2a389bcd8b
9470b3ce21b409c1258ed64561499b2a389bcd8b,9470b3ce,[test suite] README update to include --enable-complete mode,"[test suite] README update to include --enable-complete mode
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1406001584,1406043076,7df1186c66796f0d3b41ebfa95c3a2303e0ceaf1
7df1186c66796f0d3b41ebfa95c3a2303e0ceaf1,7df1186c,fixed several socket handle leaks under error conditions spotted by Coverity,"fixed several socket handle leaks under error conditions spotted by Coverity
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1406001308,1406043033,7d5b75886c94f1647276eebeb139ac36e299668b
7d5b75886c94f1647276eebeb139ac36e299668b,7d5b7588,added lcov coverage link,"added lcov coverage link
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1405805175,1405805175,b2117e6fe7a3832ab9e4e7164a5b5f66397a8ef1
b2117e6fe7a3832ab9e4e7164a5b5f66397a8ef1,b2117e6f,ChangeLog updates,"ChangeLog updates
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1405804739,1405804739,641866deffcd767b4f4a4cb439575e5e4479a49d
641866deffcd767b4f4a4cb439575e5e4479a49d,641866de,[server] minor update print -> fprintf for PF firewall interface,"[server] minor update print -> fprintf for PF firewall interface
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1405802459,1405802459,764d9ca26da2b6359534b3faea537e288922ce5b
764d9ca26da2b6359534b3faea537e288922ce5b,764d9ca2,fix gcc -Wstrlcpy-strlcat-size warnings,"fix gcc -Wstrlcpy-strlcat-size warnings
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1405801853,1405801853,ec54b4fd11c707fb11efd61a09c2e7a240286065
ec54b4fd11c707fb11efd61a09c2e7a240286065,ec54b4fd,fixed README paths,"fixed README paths
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1405801800,1405801800,2012d2d7d1a15863323b9849a3c6a528dd13b810
2012d2d7d1a15863323b9849a3c6a528dd13b810,2012d2d7,fixed README paths,"fixed README paths
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1405801362,1405801362,74428adae63f93c8e5679ce8ba0793e8e786f2ec
74428adae63f93c8e5679ce8ba0793e8e786f2ec,74428ada,[server] Bug fix for PF firewalls without ALTQ support on FreeBSD.,"[server] Bug fix for PF firewalls without ALTQ support on FreeBSD.

With this commit PF rules are added correctly regardless of whether ALTQ support
is available or not. Thanks to Barry Allard for discovering and reporting this
issue. Closes issue #121 on github.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1405731251,1405731251,51506db24c0683e45b7a7ad80c25d8b905c022ad
51506db24c0683e45b7a7ad80c25d8b905c022ad,51506db2,minor README.md summary update,"minor README.md summary update
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1405136492,1405136492,6fe1107bbf1d85072f71c934cd540b8367ebc932
6fe1107bbf1d85072f71c934cd540b8367ebc932,6fe1107b,minor README.md formating updates,"minor README.md formating updates
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1405135753,1405135753,f7004cec62f1814493060a351e7b78af0e76deeb
f7004cec62f1814493060a351e7b78af0e76deeb,f7004cec,Merge pull request #122 from steakknife/convert_readme,"Merge pull request #122 from steakknife/convert_readme

readme -> md",,,,Michael Rash,michael.rash@gmail.com,Michael Rash,michael.rash@gmail.com,1405089830,1405089830,"3bd1d0742e8f68d6a5f6b9e479a391ba605a2385,3d504cfc17f82dc3e081106774cc4be355d81b18"
3d504cfc17f82dc3e081106774cc4be355d81b18,3d504cfc,readme -> md,"readme -> md

Signed-off-by: Barry Allard <barry.allard@gmail.com>
",,,,Barry Allard,barry.allard@gmail.com,Barry Allard,barry.allard@gmail.com,1404871769,1404871769,0e5c4644fca4e8d9d9c39eb07a1a95fcc0b67c32
3bd1d0742e8f68d6a5f6b9e479a391ba605a2385,3bd1d074,[test suite] add --gpg-home-dir arg to GPG test,"[test suite] add --gpg-home-dir arg to GPG test
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1404791734,1404855146,7e1346c49ad2dfd8118deae3c9dbb09a300a0bbb
7e1346c49ad2dfd8118deae3c9dbb09a300a0bbb,7e1346c4,[test suite] add variable expansion and fwknopd override tests,"[test suite] add variable expansion and fwknopd override tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1404791424,1404855066,824ebe94f8b8c5c86034cad212309adbfeb35d4b
824ebe94f8b8c5c86034cad212309adbfeb35d4b,824ebe94,[test suite] run interrupt signal test against foreground fwknopd process,"[test suite] run interrupt signal test against foreground fwknopd process
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1404790877,1404854922,1dccab0fc84f15ca5dd105538e033f883a0d91f7
1dccab0fc84f15ca5dd105538e033f883a0d91f7,1dccab0f,[server] handle signal vars in dedicated function,"[server] handle signal vars in dedicated function
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1404790628,1404854811,3c0694841488381013de7e2f5947fb74aec1b41b
3c0694841488381013de7e2f5947fb74aec1b41b,3c069484,[server] alert the user when config file variable expansion references invalid var,"[server] alert the user when config file variable expansion references invalid var
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1404790249,1404854753,0e5c4644fca4e8d9d9c39eb07a1a95fcc0b67c32
0e5c4644fca4e8d9d9c39eb07a1a95fcc0b67c32,0e5c4644,[test suite] add GPG test for a manually altered SPA packet,"[test suite] add GPG test for a manually altered SPA packet
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1404789407,1404789407,1b47173906ff76d9a520eb2b756fa9e89e4b4b27
1b47173906ff76d9a520eb2b756fa9e89e4b4b27,1b471739,[test suite] add SYSLOG_FACILITY tests,"[test suite] add SYSLOG_FACILITY tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1404786927,1404786927,5c54ef00ad271b71383d95c3ecb6d8a5d74dffdf
5c54ef00ad271b71383d95c3ecb6d8a5d74dffdf,5c54ef00,[server] refactor main() into a more natural breakdown of functions,"[server] refactor main() into a more natural breakdown of functions
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1404786885,1404786885,9f2e01eb0114ee0cb0bc101dda036779c456915d
9f2e01eb0114ee0cb0bc101dda036779c456915d,9f2e01eb,[server] Fix uninitialized value usage after proper SPA authentication/decryption,"[server] Fix uninitialized value usage after proper SPA authentication/decryption

Bug fix discovered with the libfiu fault injection tag
""fko_get_username_init"" combined with valgrind analysis. This bug
is only triggered after a valid authenticated and decrypted SPA
packet is sniffed by fwknopd:

==11181== Conditional jump or move depends on uninitialised value(s)
==11181==    at 0x113B6D: incoming_spa (incoming_spa.c:707)
==11181==    by 0x11559F: process_packet (process_packet.c:211)
==11181==    by 0x5270857: ??? (in /usr/lib/x86_64-linux-gnu/libpcap.so.1.4.0)
==11181==    by 0x114BCC: pcap_capture (pcap_capture.c:270)
==11181==    by 0x10F32C: main (fwknopd.c:195)
==11181==  Uninitialised value was created by a stack allocation
==11181==    at 0x113476: incoming_spa (incoming_spa.c:294)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1404786473,1404786473,5474ced90b2f272e4a1e97ddd863765839eafae6
5474ced90b2f272e4a1e97ddd863765839eafae6,5474ced9,[test suite] extend invalid sniff interface test to include promisc mode,"[test suite] extend invalid sniff interface test to include promisc mode
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1404619826,1404619826,77eb1a763fb7a41a02b2a7ab3ee9844a76d54724
77eb1a763fb7a41a02b2a7ab3ee9844a76d54724,77eb1a76,[test suite] add invalid sniff interface test,"[test suite] add invalid sniff interface test
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1404618280,1404618280,f0285ae2b54940156a35ef0cd276cbd0a8c0954c
f0285ae2b54940156a35ef0cd276cbd0a8c0954c,f0285ae2,[test suite] add invalid gpg sig ID list,"[test suite] add invalid gpg sig ID list
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1404518754,1404518754,ffa77a9e54653fdd3a411f672b586c0fd6a8b685
ffa77a9e54653fdd3a411f672b586c0fd6a8b685,ffa77a9e,[test suite] add GPG_DISABLE_SIG test,"[test suite] add GPG_DISABLE_SIG test
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1404518096,1404518096,a2ff2a396c99fb3f2ab41e2325a3e5bdf7971328
a2ff2a396c99fb3f2ab41e2325a3e5bdf7971328,a2ff2a39,[server] call clean_exit() upon check_dir_path() error,"[server] call clean_exit() upon check_dir_path() error
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1404397890,1404397890,5ced103207865877eceaee2f29d36a0f8f3f7e47
5ced103207865877eceaee2f29d36a0f8f3f7e47,5ced1032,[test suite] minor test coverage addition for invalid locale setting,"[test suite] minor test coverage addition for invalid locale setting
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1404397072,1404397072,fed2da3bb00a6a98a4d5a8d0753218f49417d846
fed2da3bb00a6a98a4d5a8d0753218f49417d846,fed2da3b,[test suite] additional valgrind suppression for pcap-file processing,"[test suite] additional valgrind suppression for pcap-file processing
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1404391968,1404391968,43b770320ad5b38e9d1c97ebc1200a28ecdbe1b0
43b770320ad5b38e9d1c97ebc1200a28ecdbe1b0,43b77032,[server] Require sig ID's or fingerprints when sigs are validated,"[server] Require sig ID's or fingerprints when sigs are validated

When validating access.conf stanzas make sure that one of
GPG_REMOTE_ID or GPG_FINGERPRINT_ID is specified whenever GnuPG
signatures are to be verified for incoming SPA packets. Signature
verification is the default, and can only be disabled with
GPG_DISABLE_SIG but this is NOT recommended.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1404081979,1404143562,77384a904e44e92db7c5240d1a31449543692b7c
77384a904e44e92db7c5240d1a31449543692b7c,77384a90,[server] add access.conf variable GPG_FINGERPRINT_ID,"[server] add access.conf variable GPG_FINGERPRINT_ID

Add a new GPG_FINGERPRINT_ID variable to the access.conf file
so that full GnuPG fingerprints can be required for incoming SPA packets
in addition to the appreviated GnuPG signatures listed in GPG_REMOTE_ID.
From the test suite, an example fingerprint is

GPG_FINGERPRINT_ID            00CC95F05BC146B6AC4038C9E36F443C6A3FAD56
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1404076075,1404141069,11b9732c1641cb6c972fbc5f32613b1d27fbe308
11b9732c1641cb6c972fbc5f32613b1d27fbe308,11b9732c,[server] Call clean_exit() from daemon parent process,"[server] Call clean_exit() from daemon parent process

When becoming a daemon, make sure the fwknopd parent process calls
clean_exit() to release memory before calling exit().
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1404077000,1404137379,e41e0f5aafba244e8d94965dd9e690c68a48fa4b
e41e0f5aafba244e8d94965dd9e690c68a48fa4b,e41e0f5a,[test suite] added iptables OUTPUT chain test,"[test suite] added iptables OUTPUT chain test
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1403664867,1403664867,a4615a76b5e4975ca2f1c34f4c3d26bc086e7e58
a4615a76b5e4975ca2f1c34f4c3d26bc086e7e58,a4615a76,[test suite] add Rjindael HMAC --no-ipt-check-support test for udp/53,"[test suite] add Rjindael HMAC --no-ipt-check-support test for udp/53
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1403562442,1403648506,125f99aa3bd1fe509f3cd6c9c5d990e26cedd120
125f99aa3bd1fe509f3cd6c9c5d990e26cedd120,125f99aa,[test suite] updated --gdb mode to run the first found fwknop command from an output/*.test file,"[test suite] updated --gdb mode to run the first found fwknop command from an output/*.test file
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1403562089,1403646650,e0001e4a5d5bf68c004edf007cf589a3e4591b31
e0001e4a5d5bf68c004edf007cf589a3e4591b31,e0001e4a,[server] call clean_exit() on expand_acc_string_list() error,"[server] call clean_exit() on expand_acc_string_list() error
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1403561401,1403643630,189d0ea0bca75cbc6d7e670102b10831ccb6a19b
189d0ea0bca75cbc6d7e670102b10831ccb6a19b,189d0ea0,[server] call clean_exit() on add_acc_string() error,"[server] call clean_exit() on add_acc_string() error
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1403560977,1403609946,ff65274e28738e3bf14a54b2708112a8403c4352
ff65274e28738e3bf14a54b2708112a8403c4352,ff65274e,[server] make sure clean_exit() is called on any add_acc_b64_string() errs,"[server] make sure clean_exit() is called on any add_acc_b64_string() errs
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1403307302,1403299568,fd0805c57ab0972d9a52c4b8f6abc7981fabd873
fd0805c57ab0972d9a52c4b8f6abc7981fabd873,fd0805c5,[server] minor memory leak fix for invalid FORCE_NAT var in access.conf,"[server] minor memory leak fix for invalid FORCE_NAT var in access.conf

This commit fixes the following leak found by valgrind:

==6241== 568 bytes in 1 blocks are still reachable in loss record 1 of 1
==6241==    at 0x4C2A2DB: malloc (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==6241==    by 0x551537A: __fopen_internal (iofopen.c:73)
==6241==    by 0x118C8E: parse_access_file (access.c:1143)
==6241==    by 0x10F134: main (fwknopd.c:250)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1403306555,1403297264,74440be6535b66d8585aac63c0efc1e170f70e96
74440be6535b66d8585aac63c0efc1e170f70e96,74440be6,[server] minor pointer typo fix,"[server] minor pointer typo fix
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1402974530,1402974530,3557158620f3a576cf4a958a80f3534ea3e85edc
3557158620f3a576cf4a958a80f3534ea3e85edc,35571586,[test suite] add valgrind suppressions for libfiu,"[test suite] add valgrind suppressions for libfiu
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1402888202,1402953292,389e55ddfcd5a8a2d7c75fdca905768a8318ed2a
389e55ddfcd5a8a2d7c75fdca905768a8318ed2a,389e55dd,[test suite] consolidate valgrind success/failure criteria into a single function,"[test suite] consolidate valgrind success/failure criteria into a single function
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1402844119,1402953234,55a03f33927dd95719dbe0683a3b29b6d3501344
55a03f33927dd95719dbe0683a3b29b6d3501344,55a03f33,[test suite] added suppressions to fko-wrapper/run_valgrind.sh,"[test suite] added suppressions to fko-wrapper/run_valgrind.sh
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1402842892,1402953179,487860725451f5f290b55b8cbe729af58f7d5413
487860725451f5f290b55b8cbe729af58f7d5413,48786072,[libfko] removed fko_new_strdup() fault injection tag since fko_destroy() isn't called,"[libfko] removed fko_new_strdup() fault injection tag since fko_destroy() isn't called
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1402842081,1402953112,054793fd9e79b5aa70c5be7759fec1e9e23a9108
054793fd9e79b5aa70c5be7759fec1e9e23a9108,054793fd,[server] check fiu_enable() return value in --fault-injection mode,"[server] check fiu_enable() return value in --fault-injection mode
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1402840117,1402840117,34f7ebd0829b3dd5545e120fe3e9af9cca7a7119
34f7ebd0829b3dd5545e120fe3e9af9cca7a7119,34f7ebd0,[test suite] added strtol_wrapper() fault injection tags,"[test suite] added strtol_wrapper() fault injection tags
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1402839703,1402839703,42a20616b499003d59b21abba2ee6ce9431622e1
42a20616b499003d59b21abba2ee6ce9431622e1,42a20616,[libfko] additional fault injection additions with test suite support,"[libfko] additional fault injection additions with test suite support
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1402795638,1402795638,c00a3e7b2670566c9a403e07a5a34df0fcda1811
c00a3e7b2670566c9a403e07a5a34df0fcda1811,c00a3e7b,[test suite] additional fault injection tests,"[test suite] additional fault injection tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1402619394,1402619394,13ca6261b362382dd42b56cafadd903dcd851412
13ca6261b362382dd42b56cafadd903dcd851412,13ca6261,[test suite] minor update to not parse crash messages out of crash test output file,"[test suite] minor update to not parse crash messages out of crash test output file
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1402619364,1402619364,06ce514111ad9838eee1cf82955140099c78ffe5
06ce514111ad9838eee1cf82955140099c78ffe5,06ce5141,[test suite] add several fault injection tests,"[test suite] add several fault injection tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1402545738,1402545738,d8b2ae370afcd211338bc91d880b61fbb83c0c77
d8b2ae370afcd211338bc91d880b61fbb83c0c77,d8b2ae37,[test suite] always run crash check at the end of test run,"[test suite] always run crash check at the end of test run
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1402545718,1402545718,e02750e6662204ad1020c4128e2e34c505e26ad6
e02750e6662204ad1020c4128e2e34c505e26ad6,e02750e6,[server] skip firewall rules check in --test mode,"[server] skip firewall rules check in --test mode
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1402545672,1402545672,410624a85828a23290bbac25c8ac3a8627660e22
410624a85828a23290bbac25c8ac3a8627660e22,410624a8,"[libfko] free() temp buffer right after strdup() call, add libfiu fault injection tags","[libfko] free() temp buffer right after strdup() call, add libfiu fault injection tags
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1402545640,1402545640,816962982f631cd8e6d15dc40171a3755c263a18
816962982f631cd8e6d15dc40171a3755c263a18,81696298,[server] clean up fko_destroy() calls in main access stanza loop,"[server] clean up fko_destroy() calls in main access stanza loop
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1402545548,1402545548,b8ad48eaa97646b48a4debc4e4e7f49cc279c05d
b8ad48eaa97646b48a4debc4e4e7f49cc279c05d,b8ad48ea,[test suite] added fiu-run fault injection tests against the fwknopd server,"[test suite] added fiu-run fault injection tests against the fwknopd server
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1402365055,1402407288,8d31de729571be2e2bfc28e0889d904305c881ee
8d31de729571be2e2bfc28e0889d904305c881ee,8d31de72,[server] skip replay storage in --test mode (since we're not granting access anyway),"[server] skip replay storage in --test mode (since we're not granting access anyway)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1402361303,1402407137,70f70091b12f929f4dd56d2b783d7ea77a4b06f3
70f70091b12f929f4dd56d2b783d7ea77a4b06f3,70f70091,[server] skip fw initialization and cleanup in --test mode,"[server] skip fw initialization and cleanup in --test mode
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1402361101,1402406461,4ab677cfe0ac2bd99f2b7c84b1f17a6e84f2b440
4ab677cfe0ac2bd99f2b7c84b1f17a6e84f2b440,4ab677cf,[server] minor fwknopd --help output update,"[server] minor fwknopd --help output update
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1402360844,1402360844,ffde9c3f1ae38d1a5c0f72ed3d721bc0bfaeaa16
ffde9c3f1ae38d1a5c0f72ed3d721bc0bfaeaa16,ffde9c3f,[libfko] bug fix to check strdup() return value,"[libfko] bug fix to check strdup() return value

Using the 'fiu-run' fault injection binary, a couple of cases were
turned up with libfko does not properly check the strdup() return value.
This commit fixes these issues, and here is an illustration of the stack
trace for one such issue:

  Core was generated by `../client/.libs/fwknop -A tcp/22 -a 127.0.0.2 -D
  127.0.0.1 --get-key local_spa.'.
  Program terminated with signal 11, Segmentation fault.
  #0  __strnlen_sse2 () at ../sysdeps/x86_64/multiarch/../strnlen.S:34
  34      ../sysdeps/x86_64/multiarch/../strnlen.S: No such file or directory.
  (gdb) where
  #0  __strnlen_sse2 () at ../sysdeps/x86_64/multiarch/../strnlen.S:34
  #1  0x00007effa38189bc in _rijndael_encrypt (enc_key_len=<optimized out>, enc_key=<optimized out>, ctx=0x7effa5945750) at fko_encryption.c:141
  #2  fko_encrypt_spa_data (ctx=0x7effa5945750, enc_key=<optimized out>, enc_key_len=<optimized out>) at fko_encryption.c:605
  #3  0x00007effa381a2d6 in fko_spa_data_final (ctx=0x7effa5945750, enc_key=enc_key@entry=0x7fff3ff4aa10 ""fwknoptest"", enc_key_len=<optimized out>, hmac_key=hmac_key@entry=0x7fff3ff4aaa0 """", hmac_key_len=0) at fko_funcs.c:489
  #4  0x00007effa405f2fb in main (argc=<optimized out>, argv=<optimized out>) at fwknop.c:449
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1402283395,1402283395,989d48b7e97ebd8186f4b9ec364bc2389edcb623
989d48b7e97ebd8186f4b9ec364bc2389edcb623,989d48b7,[test suite] make valgrind suppressions slightly more perscriptive,"[test suite] make valgrind suppressions slightly more perscriptive
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1402273339,1402273339,7fb2f292bcd74c39772816d617912ad7febc351b
7fb2f292bcd74c39772816d617912ad7febc351b,7fb2f292,"[test suite] in valgrind mode, make tests fail whenever there are 'definitely'…","[test suite] in valgrind mode, make tests fail whenever there are 'definitely' or 'indirectly' lost bytes in memory
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1402273219,1402273219,53a1e1bc0047b116807f715c326edad93c164c7e
53a1e1bc0047b116807f715c326edad93c164c7e,53a1e1bc,[client] minor bug fix for condition under which fiu_* functions are called for fault injection,"[client] minor bug fix for condition under which fiu_* functions are called for fault injection
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1402273143,1402273143,82b05b95302744d1c1dba55b4e1792868114bf8d
82b05b95302744d1c1dba55b4e1792868114bf8d,82b05b95,[libfko] fko_new() bug fix to not leak memory under fko_set_... error conditions,"[libfko] fko_new() bug fix to not leak memory under fko_set_... error conditions

This commit changes how fko_new() deals with FKO context initialization
to not set ctx->initval back to zero (uninitialized) imediately after
calling each fko_set_... function and before checking the fko_set_... return
value.  The reason for this change is that fko_destroy() checks for
context initialization via ctx->initval before calling free() against
any heap allocated context member. So, if fko_set_... returns an error,
fko_destroy() (previous to this commit) would have no opportunity to
free such members.

This bug was found with fault injection testing provided by libfiu
together with valgrind. Specifically the following test suite command
exposes the problem (from the test/ directory):

./test-fwknop.pl --enable-complete --include ""fault injection.*libfko""

In the resulting output/2.test file valgrind reports the following:

==27941== LEAK SUMMARY:
==27941==    definitely lost: 264 bytes in 1 blocks
==27941==    indirectly lost: 28 bytes in 3 blocks
==27941==      possibly lost: 0 bytes in 0 blocks
==27941==    still reachable: 1,099 bytes in 12 blocks
==27941==         suppressed: 0 bytes in 0 blocks

After this commit is applied, this changes to:

==7137== LEAK SUMMARY:
==7137==    definitely lost: 0 bytes in 0 blocks
==7137==    indirectly lost: 0 bytes in 0 blocks
==7137==      possibly lost: 0 bytes in 0 blocks
==7137==    still reachable: 1,099 bytes in 12 blocks
==7137==         suppressed: 0 bytes in 0 blocks

Note that 'definitely lost' in valgrind output means there is a real
memory leak that needs to be fixed whereas 'still reachable' is most
likely not a real problem according to:

http://valgrind.org/docs/manual/faq.html#faq.deflost
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1402104508,1402104508,dfeecf5c293af02bca9c830052bc85ea7e0279e4
dfeecf5c293af02bca9c830052bc85ea7e0279e4,dfeecf5c,[test suite] additional fix for duplicate fault injection tags,"[test suite] additional fix for duplicate fault injection tags
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1402024381,1402065067,1b4d7f5b1935d4882db1c85d95676f51e446fd3b
1b4d7f5b1935d4882db1c85d95676f51e446fd3b,1b4d7f5b,[test suite] minor fix for duplicate fault injection tags,"[test suite] minor fix for duplicate fault injection tags
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1402024241,1402064733,6d1d66fe032c33894252d3b88253255f68019a4c
6d1d66fe032c33894252d3b88253255f68019a4c,6d1d66fe,add --fault-injection-tag support to the client/server/libfko,"add --fault-injection-tag support to the client/server/libfko

This is a significant commit to add the ability to leverage libfko fault
injections from both the fwknop client and server command lines via a
new option '--fault-injection-tag <tag name>'.  This option is used by
the test suite with the tests/fault_injection.pl tests.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1402023949,1402023949,6a0af8ed8ef1b585a346475005c81c062e81ab4b
6a0af8ed8ef1b585a346475005c81c062e81ab4b,6a0af8ed,[test suite] added coverage_diff.py,"[test suite] added coverage_diff.py

This commit adds support for diff'ing before and after gcov/lcov results
to see when new function/line coverage is added by the test suite.  Here
is an example of its output:

Sun Jun  1 22:28:00 2014 CMD: ./coverage_diff.py
[+] Coverage: /home/mbr/git/fwknop.git/server/config_init.c
[+] new 'fcns' coverage: usage()
[+] new 'lines' coverage: 1015
[+] new 'lines' coverage: 1017
[+] new 'lines' coverage: 1019
[+] new 'lines' coverage: 1059
[+] new 'lines' coverage: 979
[+] Coverage: /home/mbr/git/fwknop.git/server/fw_util_iptables.c
[+] new 'lines' coverage: 560
[+] new 'lines' coverage: 561
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1401676254,1401676254,040b7b10a002d2f9b98a5b73c7b846ca61edbe5c
040b7b10a002d2f9b98a5b73c7b846ca61edbe5c,040b7b10,[test suite] add shell escape for /usr/include/* wildcard on lcov command line,"[test suite] add shell escape for /usr/include/* wildcard on lcov command line
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1401160509,1401160509,2e150d47a7d905f4cbf7e3c0188343b45d87b471
2e150d47a7d905f4cbf7e3c0188343b45d87b471,2e150d47,restore trustdb.gpg files,"restore trustdb.gpg files
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1401159974,1401159974,2697bd260ce821c7be632cfd87e381805a7db1a0
2697bd260ce821c7be632cfd87e381805a7db1a0,2697bd26,[test suite] fix LD_LIBRARY_PATH for fiu-run execution against fko-wrapper binaries,"[test suite] fix LD_LIBRARY_PATH for fiu-run execution against fko-wrapper binaries
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1401159224,1401159224,ed58dcb635b7d3b0f89b3f3191aa903fa18d0d76
ed58dcb635b7d3b0f89b3f3191aa903fa18d0d76,ed58dcb6,"Revert ""add gcc '-pg' flag in --enable-profile-coverage mode""","Revert ""add gcc '-pg' flag in --enable-profile-coverage mode""

This reverts commit bbe5626566d617317f2d25f5650f2299c95f2c9f because -pg
is needed for gprof, not gcov, and valgrind is incompatible with -pg.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1401154099,1401154099,ddaf0134d6d6b42284047ee6b543a6258c61e34d
ddaf0134d6d6b42284047ee6b543a6258c61e34d,ddaf0134,use fiu.h instead of fiu-local.h,"use fiu.h instead of fiu-local.h
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1401134052,1401134052,e893ecad21d2152edd3e9e661eedb3f0d0bd9ac2
e893ecad21d2152edd3e9e661eedb3f0d0bd9ac2,e893ecad,[test suite] added first test to run fwknop client underneath fiu-run for libc fault injection,"[test suite] added first test to run fwknop client underneath fiu-run for libc fault injection
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1401131342,1401131342,a1f1e4b32891f710f52cd6b486bf026fde77d50d
a1f1e4b32891f710f52cd6b486bf026fde77d50d,a1f1e4b3,[test suite] in --enable-fuzzing-interfaces mode create…,"[test suite] in --enable-fuzzing-interfaces mode create fko-wrapper/send_spa_payloads file if it does exist
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1401128307,1401128307,237602114fc20d55187d797e3f1d553bf12684ae
237602114fc20d55187d797e3f1d553bf12684ae,23760211,[test suite] minor fko_wrapper comment update,"[test suite] minor fko_wrapper comment update
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1401108026,1401108026,15aff82980c7b093f231c8218ff5d84553e79dc0
15aff82980c7b093f231c8218ff5d84553e79dc0,15aff829,client/server added libfiu header files in --enable-libfiu-support mode,"client/server added libfiu header files in --enable-libfiu-support mode
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1401107984,1401107984,55ae7d509576c1279ba9b7b90f33eb7a6a88bbbc
55ae7d509576c1279ba9b7b90f33eb7a6a88bbbc,55ae7d50,[test suite] auto-generate fko-wrapper/fuzz_spa_payload file with spa_fuzzing.py…,"[test suite] auto-generate fko-wrapper/fuzz_spa_payload file with spa_fuzzing.py if necessary in --enable-complete/--enable-fuzzing-interfaces mode
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1401070243,1401070243,23e8dcfddd16c687563b45dae8f7bcd608b1c27b
23e8dcfddd16c687563b45dae8f7bcd608b1c27b,23e8dcfd,[test suite] added configure_max_coverage.sh for --enable-complete mode,"[test suite] added configure_max_coverage.sh for --enable-complete mode
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1401049420,1401049420,fa53cc62e14e9c235bffe64e22d383b95d59ce35
fa53cc62e14e9c235bffe64e22d383b95d59ce35,fa53cc62,[test suite] SPA packet fuzzer minor comment additions to clearly define SPA packet types,"[test suite] SPA packet fuzzer minor comment additions to clearly define SPA packet types
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1401047409,1401047409,d625a24a87e541295f3457867e8933bcd3eb54e5
d625a24a87e541295f3457867e8933bcd3eb54e5,d625a24a,[test suite] added fko_new_with_data() call with SPA data that is too short,"[test suite] added fko_new_with_data() call with SPA data that is too short
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1401044911,1401044911,00ea2ce0efffb0a5fadab8ada3b873a07cb1068f
00ea2ce0efffb0a5fadab8ada3b873a07cb1068f,00ea2ce0,"[test suite] added --enable-complete option for fuzzing, fault injection, and code coverage","[test suite] added --enable-complete option for fuzzing, fault injection, and code coverage
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1401035855,1401035855,de03ed702ea30748e876bf2cdbe22aa75f25c69b
de03ed702ea30748e876bf2cdbe22aa75f25c69b,de03ed70,[test suite] added the ability to run fiu-run fault injection binary against fwknop,"[test suite] added the ability to run fiu-run fault injection binary against fwknop
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1400968557,1400968557,597a3d395363af43c3a46617649c6f786aa69dbb
597a3d395363af43c3a46617649c6f786aa69dbb,597a3d39,[libfko] added fault injections for remaining ...set...() functions called by fko_new(),"[libfko] added fault injections for remaining ...set...() functions called by fko_new()
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1400958727,1400958727,5f227cfa488e28bba60376e7f10c387cc0c3f9c5
5f227cfa488e28bba60376e7f10c387cc0c3f9c5,5f227cfa,[libfko] added fault injections for fko_set_username(),"[libfko] added fault injections for fko_set_username()
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1400957230,1400957230,17f325ecebd69d7421f590c0fcf00058a8cc6990
17f325ecebd69d7421f590c0fcf00058a8cc6990,17f325ec,[libfko] added fault injections for fko_set_rand_value(),"[libfko] added fault injections for fko_set_rand_value()
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1400954509,1400954509,35ad8323928ebdf07fad38bed22e65f099dfae02
35ad8323928ebdf07fad38bed22e65f099dfae02,35ad8323,[libfko] started on libfiu fault injection code,"[libfko] started on libfiu fault injection code
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1400940868,1400940868,8d61a8cf7fab4cf0caeed0e1bffe4de4e9c86fa3
2f9b92068d7239e9a617e21b4cb8febbaf06f436,2f9b9206,[test suite] added tests/rijndael_hmac_fuzzing.pl file,"[test suite] added tests/rijndael_hmac_fuzzing.pl file
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1400885706,1400938378,23997b62aac680a97d3040806786cd5f6e738d61
23997b62aac680a97d3040806786cd5f6e738d61,23997b62,[test suite] add hmac_fuzzing_access.conf file,"[test suite] add hmac_fuzzing_access.conf file
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1400885447,1400938365,55582c31f8bd661408dc3b11f46ad7808d5ea784
8d61a8cf7fab4cf0caeed0e1bffe4de4e9c86fa3,8d61a8cf,[test suite] added tests/rijndael_hmac_fuzzing.pl file,"[test suite] added tests/rijndael_hmac_fuzzing.pl file
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1400885706,1400885706,0a82c68451b3ea6543fc1a97409212b1b8402841
0a82c68451b3ea6543fc1a97409212b1b8402841,0a82c684,[test suite] add hmac_fuzzing_access.conf file,"[test suite] add hmac_fuzzing_access.conf file
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1400885447,1400885447,cf3f41821b43d4a87367ffd899b81e5bd5862568
cf3f41821b43d4a87367ffd899b81e5bd5862568,cf3f4182,[test suite] add fault injection tests,"[test suite] add fault injection tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1400765771,1400765771,a65fff7e7b9689bdae06a7791c573097a7a83b2d
a65fff7e7b9689bdae06a7791c573097a7a83b2d,a65fff7e,[test suite] make fko_wrapper binary path absolute,"[test suite] make fko_wrapper binary path absolute
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1400765436,1400765436,c5e8eee74325ed7ce01c025cc820fea3e6c2e04a
c5e8eee74325ed7ce01c025cc820fea3e6c2e04a,c5e8eee7,[test suite] make fko_wrapper binary path absolute,"[test suite] make fko_wrapper binary path absolute
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1400765346,1400765346,a2f2777e9f9e89a5af484d0df68437dfc23f2a62
a2f2777e9f9e89a5af484d0df68437dfc23f2a62,a2f2777e,[test suite] add fko_basic.c file to the FKO wrapper,"[test suite] add fko_basic.c file to the FKO wrapper
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1400765056,1400765056,bbe5626566d617317f2d25f5650f2299c95f2c9f
bbe5626566d617317f2d25f5650f2299c95f2c9f,bbe56265,add gcc '-pg' flag in --enable-profile-coverage mode,"add gcc '-pg' flag in --enable-profile-coverage mode
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1400764785,1400764785,8666788a16bd206a5a14562e2cccb873015b89d4
8666788a16bd206a5a14562e2cccb873015b89d4,8666788a,[test suite] minor line counter addition for file_find_regex(),"[test suite] minor line counter addition for file_find_regex()
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1400677940,1400677940,02389932bc23db025b13a07665858ed50fe48b6a
02389932bc23db025b13a07665858ed50fe48b6a,02389932,added --enable-libfiu-support to build fwknop with fault injection support,"added --enable-libfiu-support to build fwknop with fault injection support
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1400675251,1400675251,84821438bdfedabaac16185308ec65149fdf31b9
84821438bdfedabaac16185308ec65149fdf31b9,84821438,[test suite] started on support for libfiu fault injection tests,"[test suite] started on support for libfiu fault injection tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1400635210,1400635210,55582c31f8bd661408dc3b11f46ad7808d5ea784
55582c31f8bd661408dc3b11f46ad7808d5ea784,55582c31,[test suite] expand libfko username coverage testing by adding undef LOGNAME env variable test,"[test suite] expand libfko username coverage testing by adding undef LOGNAME env variable test
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1399778192,1399778192,d5e5961ca1cad0f62e280a51d8b38b9c76bc8e6e
d5e5961ca1cad0f62e280a51d8b38b9c76bc8e6e,d5e5961c,[test suite] stronger valgrind test requirements,"[test suite] stronger valgrind test requirements

This commit adds a couple of suppressions for known issues that valgrind
finds in libcap, and then makes a significant change to how the test
suite deals with any valgrind errors (in --enable-valgrind mode) that
are outside of these suppressions.  That is, any new valgrind errors
that are discovered will cause the test that triggers them to fail.
Previous to this commit, the final valgrind ""flagged functions"" test
attmpted to do this by comparing valgrind output across test runs. This
worked well enough for a while, but this latest commit enforces a
stricter stance for valgrind validation of the fwknop code base.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1399684428,1399684428,7cb8ad95280f09fceaaee1488b54fc15e75f3ff5
7cb8ad95280f09fceaaee1488b54fc15e75f3ff5,7cb8ad95,[fko-wrapper] add missing fko_destroy() call,"[fko-wrapper] add missing fko_destroy() call
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1399683212,1399683212,22ad9044cdd2d5da86e23534c5d8acf1ee4cb397
22ad9044cdd2d5da86e23534c5d8acf1ee4cb397,22ad9044,[test suite] python fuzzer pkt_id counter minor bug fix,"[test suite] python fuzzer pkt_id counter minor bug fix
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1399683089,1399683097,3e0c983bbd0d13ec7354e86678951f3d3a832c22
3e0c983bbd0d13ec7354e86678951f3d3a832c22,3e0c983b,[test suite] add lib path and valgrind string to server start/stop cycle tests,"[test suite] add lib path and valgrind string to server start/stop cycle tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1399636666,1399636666,2b5029a4eed188986e0e6d810d5161d6542727b8
2b5029a4eed188986e0e6d810d5161d6542727b8,2b5029a4,"[test suite] add SIGINT, SIGUSR1, and SIGUSR2 signals to restart cycle test for code coverage","[test suite] add SIGINT, SIGUSR1, and SIGUSR2 signals to restart cycle test for code coverage
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1399636197,1399636197,33234183dfe8cca858d83f0ce81df14b8eb2ba1e
33234183dfe8cca858d83f0ce81df14b8eb2ba1e,33234183,[test stuie] fko-wrapper PKT_ID generation + send fuzzing packets back through…,"[test stuie] fko-wrapper PKT_ID generation + send fuzzing packets back through fko_new_with_data() cycle
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1399266920,1399549573,0c544f2690640719da243ffbdd7b0d8560673945
0c544f2690640719da243ffbdd7b0d8560673945,0c544f26,[server] add --test mode to enable broader fuzzing coverage,"[server] add --test mode to enable broader fuzzing coverage
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1399348281,1399548942,64a4642c479e9d0bd2434b86dcf1f0ca3b0883fb
64a4642c479e9d0bd2434b86dcf1f0ca3b0883fb,64a4642c,[server] minor fix to remove unnecessary opts.status check,"[server] minor fix to remove unnecessary opts.status check
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1399345892,1399548528,7d1ad9a4fa2b12d9a6754432e880f88519f8d2ee
7d1ad9a4fa2b12d9a6754432e880f88519f8d2ee,7d1ad9a4,add new test suite conf files,"add new test suite conf files
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1399345502,1399548378,16b391109183c8f4d76359ed9fd3aa8bbc4ea706
16b391109183c8f4d76359ed9fd3aa8bbc4ea706,16b39110,[test suite] Rijndael HMAC fuzzing support and a few minor test additions,"[test suite] Rijndael HMAC fuzzing support and a few minor test additions
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1399345304,1399548347,02ed5f5ad4aab6b9734f30ca58633dc1431f46cd
02ed5f5ad4aab6b9734f30ca58633dc1431f46cd,02ed5f5a,"[server] add --exit-parse-config option, man page updates (minor formatting change)","[server] add --exit-parse-config option, man page updates (minor formatting change)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1399209447,1399209447,d7e9ae578b0e41555f6260d848d6f2566bce315c
d7e9ae578b0e41555f6260d848d6f2566bce315c,d7e9ae57,"[test suite] add digest cache rewrite feature for test coverage, add config line…","[test suite] add digest cache rewrite feature for test coverage, add config line and pcap filter validation tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1399209399,1399209399,24f9c582bb1fa9b6074a0f97698c9139ed298590
24f9c582bb1fa9b6074a0f97698c9139ed298590,24f9c582,[test suite] add multi-port access request to python fuzzer,"[test suite] add multi-port access request to python fuzzer
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1399209344,1399209344,5f24fc8c5ff9900199838dda47d9b7b21c70da25
5f24fc8c5ff9900199838dda47d9b7b21c70da25,5f24fc8c,[server] add --dump-serv-err-codes for test coverage,"[server] add --dump-serv-err-codes for test coverage
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1398829854,1399085945,11f3e9b8d3ed919e13b9c22d6c94745919028ddf
11f3e9b8d3ed919e13b9c22d6c94745919028ddf,11f3e9b8,[server] add test coverage for tcp server when FUZZING_INTERFACES is defined,"[server] add test coverage for tcp server when FUZZING_INTERFACES is defined
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1398829261,1399084143,fb21e3a575954b7898eececa0c1c2a39ea88283a
fb21e3a575954b7898eececa0c1c2a39ea88283a,fb21e3a5,[server] bug fix to handle SPA packets via http,"[server] bug fix to handle SPA packets via http
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1398828331,1398828331,6dde30bc91e20d57891e27ecda3aa0116f33d02b
6dde30bc91e20d57891e27ecda3aa0116f33d02b,6dde30bc,[test suite] significant test coverage update,"[test suite] significant test coverage update

This commit adds a lot of test coverage support as guided by gcov +
lcov.

Also added the --no-ipt-check-support option to fwknopd (this is only
useful in practice on older Linux distros where 'iptables -C' is not
available, but it helps with test coverage).
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1398819241,1398819241,40e14fc4002d00d63f55591ef58fc1ca323f9222
40e14fc4002d00d63f55591ef58fc1ca323f9222,40e14fc4,Merge branch 'spa_encoding_fuzzing',"Merge branch 'spa_encoding_fuzzing'
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1398740416,1398740416,"964f28efb45919927ffd5e22852408e42048b4c9,9901d8a76a75e8d2bb5088fe92cc370f084e85cb"
964f28efb45919927ffd5e22852408e42048b4c9,964f28ef,changes since fwknop-2.6.1,"changes since fwknop-2.6.1
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1398734421,1398734421,32ae2be9cc7703d83f06a066c3ec3ded7d358e4f
32ae2be9cc7703d83f06a066c3ec3ded7d358e4f,32ae2be9,updated RPM Release tag to 1,"updated RPM Release tag to 1
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1398734233,1398734233,bd32e40529872608cb449bfeba59d7dfdcfa00ac
bd32e40529872608cb449bfeba59d7dfdcfa00ac,bd32e405,changes since 2.6.1,"changes since 2.6.1
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1398733729,1398733729,7442002a89372e47206247de7e9c68396c3ebc01
7442002a89372e47206247de7e9c68396c3ebc01,7442002a,[libfko] bumped version to 2.0.2,"[libfko] bumped version to 2.0.2
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1398733707,1398733707,6dca4468687a5d622b9c46d040e5c0c50d900e32
6dca4468687a5d622b9c46d040e5c0c50d900e32,6dca4468,changes since 2.6.1,"changes since 2.6.1
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1398732198,1398732198,d996c4514190777e9267eff62168b760617bf88c
d996c4514190777e9267eff62168b760617bf88c,d996c451,minor 2.6.2 release date change,"minor 2.6.2 release date change
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1398731165,1398731165,000e02f03933c93ca95376912b8f52e466e275aa
000e02f03933c93ca95376912b8f52e466e275aa,000e02f0,changes since 2.6.1,"changes since 2.6.1
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1398570400,1398570400,30f30a91ac6ee447b913a516669bb5ae4c993527
30f30a91ac6ee447b913a516669bb5ae4c993527,30f30a91,bumped version to 2.6.2,"bumped version to 2.6.2
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1398570212,1398570212,0c70c7db21047f29f5f278529305bc23b9235bda
0c70c7db21047f29f5f278529305bc23b9235bda,0c70c7db,ChangeLog for 2.6.2,"ChangeLog for 2.6.2
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1398570137,1398570137,add2c913ab84e28b699941299d9ee26ff9b85d59
add2c913ab84e28b699941299d9ee26ff9b85d59,add2c913,[libfko] fix double free bug in SPA parser,"[libfko] fix double free bug in SPA parser

This commit fixes a double free condition discovered through the new
python SPA payload fuzzer.  This bug could be triggered in fwknopd with
a malicious SPA payload but only when GnuPG is used.  When Rijndael is
used for SPA packet encryption, this bug cannot be triggered due to an
length/format check towards the end of _rijndael_decrypt().  It should
be noted that only a person in possession of the correct encryption and
authentication GnuPG keys could trigger this bug.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1398218289,1398569196,4d167cd7dfa27389d3a14e09f3245e40ebb3db28
9901d8a76a75e8d2bb5088fe92cc370f084e85cb,9901d8a7,[libfko/test suite] add the FUZZING_INTERFACES macro,"[libfko/test suite] add the FUZZING_INTERFACES macro

Add a new fko_set_encoded_data() function gated by #define
FUZZING_INTERFACES to allow encryption and authentication to be bypassed
for fuzzing purposes (and only fuzzing purposes).  The fko-wrapper code
has been extended to process data in the
test/fko-wrapper/fuzz_spa_payloads file, which is created by the new
python fuzzer.  Typical workflow is:

$ cd test/fko-wrapper
$ ../spa_fuzzer.py > fuzz_spa_payloads
$ make fuzzing

(as root):

./test-fwknop.pl  --enable-profile-coverage --enable-fuzzing-interfaces --enable-all --include wrapper

[+] Starting the fwknop test suite...

    args: --enable-profile-coverage --enable-fuzzing-interfaces --enable-all --include wrapper

    Saved results from previous run to: output.last/

    Valgrind mode enabled, will import previous coverage from:
        output.last/valgrind-coverage/

[+] Total test buckets to execute: 2

[Rijndael] [fko-wrapper] multiple libfko calls (with valgrind)......pass (1)
[Rijndael] [fko-wrapper] multiple libfko calls......................pass (2)
[profile coverage] gcov profile coverage............................pass (3)
[valgrind output] [flagged functions] ..............................pass (4)

    Run time: 5.85 minutes

[+] 0/0/0 OpenSSL tests passed/failed/executed
[+] 0/0/0 OpenSSL HMAC tests passed/failed/executed
[+] 4/0/4 test buckets passed/failed/executed
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1398567884,1398567884,e1dde1733a3b7f5512fdb2c104f56e0c45d52589
e1dde1733a3b7f5512fdb2c104f56e0c45d52589,e1dde173,[test suite] python fuzzer - more field length variations to hit MAX_SPA_MESSAGE_SIZE,"[test suite] python fuzzer - more field length variations to hit MAX_SPA_MESSAGE_SIZE
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1398567707,1398567707,91a60b8d91afd7bc11902151a0ea8995ead31a70
91a60b8d91afd7bc11902151a0ea8995ead31a70,91a60b8d,[test suite] libfko wrapper is already called in Rijndael tests,"[test suite] libfko wrapper is already called in Rijndael tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1398566157,1398566157,367424ece5aaf0b0f4c9926e32b36b6d53e36d3a
367424ece5aaf0b0f4c9926e32b36b6d53e36d3a,367424ec,[test suite] python fuzzer - account for base64 strings that have stripped '=' chars,"[test suite] python fuzzer - account for base64 strings that have stripped '=' chars
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1398564212,1398564212,e00add778ed7f04791d8f9380da766deaa8e5874
e00add778ed7f04791d8f9380da766deaa8e5874,e00add77,[test suite] python fuzzer - add fuzzing fields to original fields (interim commit),"[test suite] python fuzzer - add fuzzing fields to original fields (interim commit)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1398546227,1398546227,1deccfd0053f5e4649dce697de7cd662a4cb47ec
1deccfd0053f5e4649dce697de7cd662a4cb47ec,1deccfd0,[test suite] python fuzzer - break out fuzzing sections into dedicated functions,"[test suite] python fuzzer - break out fuzzing sections into dedicated functions
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1398391864,1398391864,4b11232249a89e4b917779546f6beee2d9e17a91
4b11232249a89e4b917779546f6beee2d9e17a91,4b112322,[test suite] add command mode SPA payload and splicing tests to python fuzzer,"[test suite] add command mode SPA payload and splicing tests to python fuzzer
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1398310297,1398310297,b9e2a42c5c55286017020d5048e76f375aac060f
b9e2a42c5c55286017020d5048e76f375aac060f,b9e2a42c,[test suite] support multiple initial SPA payloads in the python fuzzer,"[test suite] support multiple initial SPA payloads in the python fuzzer
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1398224893,1398224893,cd8a2493a7d0679bc2c7e02d49ed46c3831972bf
cd8a2493a7d0679bc2c7e02d49ed46c3831972bf,cd8a2493,[test suite] python fuzzer additional tests,"[test suite] python fuzzer additional tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1398223206,1398223206,b28b8b5de124828f6987f26fc824a0a989c4f5b7
b28b8b5de124828f6987f26fc824a0a989c4f5b7,b28b8b5d,[libfko] fix double free bug in SPA parser,"[libfko] fix double free bug in SPA parser

This commit fixes a double free condition discovered through the new
python SPA payload fuzzer.  This bug could be triggered in fwknopd with
a malicious SPA payload but only when GnuPG is used.  When Rijndael is
used for SPA packet encryption, this bug cannot be triggered due to an
length/format check towards the end of _rijndael_decrypt().  It should
be noted that only a person in possession of the correct encryption and
authentication GnuPG keys could trigger this bug.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1398218289,1398218289,beb8df46432d46afe1b60bed132b03285fd86f0e
beb8df46432d46afe1b60bed132b03285fd86f0e,beb8df46,[test suite] add python SPA packet payload fuzzer,"[test suite] add python SPA packet payload fuzzer
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1398214816,1398214816,63a59bf48b2cbea3755bb774b2007ffd8d881c54
63a59bf48b2cbea3755bb774b2007ffd8d881c54,63a59bf4,"[test suite] add --enable-fuzzing-interfaces, fix profile coverage file handling","[test suite] add --enable-fuzzing-interfaces, fix profile coverage file handling
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1398214683,1398214683,f4a8c0fda84ec5ebafb68506ff0059f3dbeae396
f4a8c0fda84ec5ebafb68506ff0059f3dbeae396,f4a8c0fd,"[libfko] for fuzzing purposes, added fko_set_encoded_data() to bypass encryption…","[libfko] for fuzzing purposes, added fko_set_encoded_data() to bypass encryption and authentication for SPA payloads
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1397871594,1397871594,4d167cd7dfa27389d3a14e09f3245e40ebb3db28
4d167cd7dfa27389d3a14e09f3245e40ebb3db28,4d167cd7,credit Blair and Tim with MacPorts and Homebrew maintainer status,"credit Blair and Tim with MacPorts and Homebrew maintainer status
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1397439590,1397439590,f47ceefd1f40a33c1508358dd5b481dc0717ad45
f47ceefd1f40a33c1508358dd5b481dc0717ad45,f47ceefd,changes since 2.6.0,"changes since 2.6.0
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1397330703,1397330703,67dd1d5bddce484824ae57b4cac679a17401c3a8
67dd1d5bddce484824ae57b4cac679a17401c3a8,67dd1d5b,[server] bug fix to allow IP-formatted masks for SOURCE lines in access.conf,"[server] bug fix to allow IP-formatted masks for SOURCE lines in access.conf
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1397330460,1397330460,55965dd1a40c8fba91119ed7916085a1f9db5480
55965dd1a40c8fba91119ed7916085a1f9db5480,55965dd1,minor typo fix,"minor typo fix
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1397330431,1397330431,b243bb4bb79d022c72184035b2962a5e1b06966f
b243bb4bb79d022c72184035b2962a5e1b06966f,b243bb4b,[client] fix minor memory leak before exit() in parsing invalid time offsets,"[client] fix minor memory leak before exit() in parsing invalid time offsets
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1397270727,1397270727,2cafdad9686c319c374f54ebf64293127ea0c0cb
2cafdad9686c319c374f54ebf64293127ea0c0cb,2cafdad9,bump version to 2.6.1,"bump version to 2.6.1
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1397270460,1397270460,b97484734ecb8c3a8581d69bd28375e5845d486b
b97484734ecb8c3a8581d69bd28375e5845d486b,b9748473,[client] fix memory leak introduced in 0ff210099,"[client] fix memory leak introduced in 0ff210099
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1397186324,1397186324,b422f1b9a7103ae391df299ac15d768405bf4047
b422f1b9a7103ae391df299ac15d768405bf4047,b422f1b9,[test suite] implement new fwknopd access/fwknopd.conf file writing feature…,"[test suite] implement new fwknopd access/fwknopd.conf file writing feature similar to client rc file writing/testing
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1397185811,1397185811,c75cbdddef39ae011aacdccf38a01bf853679ad4
c75cbdddef39ae011aacdccf38a01bf853679ad4,c75cbddd,[test suite] add compounded tests for fko-wrapper,"[test suite] add compounded tests for fko-wrapper
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1397185731,1397185731,fdb8c890e90bae0f4f66fd341b7be706711e711a
fdb8c890e90bae0f4f66fd341b7be706711e711a,fdb8c890,[server] make parse_access_file() exit if there is a variable formatting problem,"[server] make parse_access_file() exit if there is a variable formatting problem
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1397185699,1397185699,4b86edbbe25eccfb9d4fbe4362cbc98f61521d41
4b86edbbe25eccfb9d4fbe4362cbc98f61521d41,4b86edbb,[client] ensure to call fko_destroy() on the correct context if encryption mode…,"[client] ensure to call fko_destroy() on the correct context if encryption mode could not be determined
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1397185659,1397185659,f539afc750dd4d4b4e64151ae5e9925470b1fb38
f539afc750dd4d4b4e64151ae5e9925470b1fb38,f539afc7,[client] make is_rc_param() error condition fatal,"[client] make is_rc_param() error condition fatal
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1397177285,1397177285,55d1ee3fd953088dda61f1ad1d3bac41bcab1cf2
55d1ee3fd953088dda61f1ad1d3bac41bcab1cf2,55d1ee3f,[test suite] --key-* arg validation with --fd 0,"[test suite] --key-* arg validation with --fd 0
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1397102210,1397102210,ac6ffe2ec798e93bb06e08a046be24704b58c9d2
ac6ffe2ec798e93bb06e08a046be24704b58c9d2,ac6ffe2e,[server] Validate GPG sigs with libfko fko_gpg_signature_id_match() function,"[server] Validate GPG sigs with libfko fko_gpg_signature_id_match() function
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1397102163,1397102163,0ff2100993e8722e0e62ec616fc84396bd7808c3
0ff2100993e8722e0e62ec616fc84396bd7808c3,0ff21009,[test suite/client] memory leak bug fix and test coverage,"[test suite/client] memory leak bug fix and test coverage

This commit fixes a minor memory leak in the fwknop client before
calling exit() when an abnormally large number of command line arguments
are given.  The leak was found with valgrind together with the test
suite (specifically the 'show last args (4)' test):

==23748== 175 bytes in 50 blocks are definitely lost in loss record 1 of 1
==23748==    at 0x4C2C494: calloc (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==23748==    by 0x1112F1: run_last_args (fwknop.c:991)
==23748==    by 0x110D36: prev_exec (fwknop.c:916)
==23748==    by 0x10D953: main (fwknop.c:170)

Additional test coverage was added for the client via the
basic_operations.pl tests.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1397005966,1397005966,2e4eea8d496e14dfb64feb01fe09e02a1fa08cbc
2e4eea8d496e14dfb64feb01fe09e02a1fa08cbc,2e4eea8d,[libfko] minor formating update for strtol_wrapper() range output messages,"[libfko] minor formating update for strtol_wrapper() range output messages
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1397005704,1397005704,5752433420605202e143e42359f2a2d40fdb8973
5752433420605202e143e42359f2a2d40fdb8973,57524334,[libfko] minor comment re-wording,"[libfko] minor comment re-wording
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1397005605,1397005605,d327f99efbcaa17b423c8f42cd4a1bb6f7639362
d327f99efbcaa17b423c8f42cd4a1bb6f7639362,d327f99e,[client] minor typo fix,"[client] minor typo fix
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1397005578,1397005578,e5169d0878172113bbd7e2f5d4d5f7fa4702a0b8
e5169d0878172113bbd7e2f5d4d5f7fa4702a0b8,e5169d08,"[test suite] env HOME tests, -R http resolve tests","[test suite] env HOME tests, -R http resolve tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1397004313,1396970153,d9c1eb8f5134fe0d2be895e22f53a14d4016951b
d9c1eb8f5134fe0d2be895e22f53a14d4016951b,d9c1eb8f,[test suite] more client/config_init.c test coverage,"[test suite] more client/config_init.c test coverage
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1396924316,1396924316,5da38165effbe8a3e4200835374231f0433d4361
5da38165effbe8a3e4200835374231f0433d4361,5da38165,[test suite] KEY_FILE and HMAC_KEY_FILE tests,"[test suite] KEY_FILE and HMAC_KEY_FILE tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1396837274,1396837274,c6cb892a0574562202f787c5388703976c2929e1
c6cb892a0574562202f787c5388703976c2929e1,c6cb892a,[test suite] more client/config_init.c test coverage,"[test suite] more client/config_init.c test coverage
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1396836850,1396836850,5176cd09760fbb4de87cbbbbd4ea8bb00cb8dd8c
5176cd09760fbb4de87cbbbbd4ea8bb00cb8dd8c,5176cd09,[test suite] additional test coverage for client/config_init.c,"[test suite] additional test coverage for client/config_init.c
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1396834035,1396834035,09fb2dd2405b3dfb3fd47f94c70ac1ce058e5924
09fb2dd2405b3dfb3fd47f94c70ac1ce058e5924,09fb2dd2,[test suite] allow tests/*.pl files to use lib_view_str variable directly,"[test suite] allow tests/*.pl files to use lib_view_str variable directly
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1396834027,1396834027,4d63644ce72d3a161332bd141e22a9f86335107a
4d63644ce72d3a161332bd141e22a9f86335107a,4d63644c,[test suite] additional test coverage for client/config_init.c,"[test suite] additional test coverage for client/config_init.c
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1396813342,1396813342,710720b237f5d791e9a7e79fdb18da280b3a75a8
710720b237f5d791e9a7e79fdb18da280b3a75a8,710720b2,[test suite] non-default stanza digest update test,"[test suite] non-default stanza digest update test
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1396753744,1396753744,e95d601a4808817479b9b564e9578752393734ac
e95d601a4808817479b9b564e9578752393734ac,e95d601a,[test suite] added --key-gen -K file path too long test,"[test suite] added --key-gen -K file path too long test
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1396749116,1396749116,48eb5fcc942d67ee8fff11f3c02dfc6efcecf9a2
48eb5fcc942d67ee8fff11f3c02dfc6efcecf9a2,48eb5fcc,[test suite] added key file path too long tests,"[test suite] added key file path too long tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1396747764,1396747764,d0d77ba67f6a2c5df15adb39b96d1258076e6b09
d0d77ba67f6a2c5df15adb39b96d1258076e6b09,d0d77ba6,[test suite] added rc file path too long test,"[test suite] added rc file path too long test
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1396700360,1396700360,1ec1443768831feb7c1934d6b2ad2e5df5328495
1ec1443768831feb7c1934d6b2ad2e5df5328495,1ec14437,[test suite] add several validation tests to exercise various client/config_init.c lines,"[test suite] add several validation tests to exercise various client/config_init.c lines
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1396666983,1396666983,a65324bad1c5bfbf0bc59e96904e34cc71262db3
a65324bad1c5bfbf0bc59e96904e34cc71262db3,a65324ba,[client] return error exit status if --stanza-list cannot open the rc file,"[client] return error exit status if --stanza-list cannot open the rc file
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1396666929,1396666929,0b6a407392f40cbbd59721bdbed437001426a76c
0b6a407392f40cbbd59721bdbed437001426a76c,0b6a4073,"[libfko] remove unused digest *_End(), *_Data(), and *_hex() functions in favor…","[libfko] remove unused digest *_End(), *_Data(), and *_hex() functions in favor of better test coverage (always can be reinstantiated if needed)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1396666478,1396666478,f9885d0657f936fbcce68a666af0cd4d409d4e2f
f9885d0657f936fbcce68a666af0cd4d409d4e2f,f9885d06,[libfko] add GPG sig status to fko dump context function,"[libfko] add GPG sig status to fko dump context function
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1396666241,1396666241,b8492d43191e53f715ae6edabc7c1d9704e1612e
b8492d43191e53f715ae6edabc7c1d9704e1612e,b8492d43,[test suite] added --key-rijndael and --key-hmac tests,"[test suite] added --key-rijndael and --key-hmac tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1396579973,1396579973,956199a3cb260c3138dd542ae5c273b1c952e137
956199a3cb260c3138dd542ae5c273b1c952e137,956199a3,[client] minor typo fix for -P requirement under spoofed src mode,"[client] minor typo fix for -P requirement under spoofed src mode
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1396579931,1396579931,2da2704d4c09651f1b88bc3b57c6244b23b2a875
2da2704d4c09651f1b88bc3b57c6244b23b2a875,2da2704d,"[test suite] fwknoprc GPG tests, more time offset tests","[test suite] fwknoprc GPG tests, more time offset tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1396567754,1396567858,d4c696d24a14335778533d13cfc77f1f1c7c567a
d4c696d24a14335778533d13cfc77f1f1c7c567a,d4c696d2,[client] minor update to comment out unused function,"[client] minor update to comment out unused function
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1396567664,1396567664,e4a382a87fec21f2d234f388b70a9fe11a2a7c7b
e4a382a87fec21f2d234f388b70a9fe11a2a7c7b,e4a382a8,[test suite] save pkt to file tests,"[test suite] save pkt to file tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1396498222,1396533892,083db46416adc5629af64da8fdf1239e8b226e4d
083db46416adc5629af64da8fdf1239e8b226e4d,083db464,[test suite] added popen() 'n' answer test,"[test suite] added popen() 'n' answer test
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1396497483,1396529787,00fed6132c2045415cccd983068599553314c6fc
00fed6132c2045415cccd983068599553314c6fc,00fed613,[test suite] additional save rc file variable coverage,"[test suite] additional save rc file variable coverage
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1396497300,1396497300,f121dc5e8a5cd61b915cd5b7001375ec86cdf442
f121dc5e8a5cd61b915cd5b7001375ec86cdf442,f121dc5e,[test suite] ensure to recompile for gcov coverage analysis,"[test suite] ensure to recompile for gcov coverage analysis
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1396497273,1396497273,9be5c24cad4c544a8345c803b84375ba94849e1f
9be5c24cad4c544a8345c803b84375ba94849e1f,9be5c24c,[test suite] remove .gcno files in --profile-coverage-init mode,"[test suite] remove .gcno files in --profile-coverage-init mode
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1396323611,1396381356,e60d49186459fe508c71bbead365d9c57fe3ffca
e60d49186459fe508c71bbead365d9c57fe3ffca,e60d4918,[test suite] basic ops save rc stanza --encryption-mode tests,"[test suite] basic ops save rc stanza --encryption-mode tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1396322134,1396376530,78dd3ea43bc489b471c7190c9f9482b7db42d942
78dd3ea43bc489b471c7190c9f9482b7db42d942,78dd3ea4,[test suite] basic ops save rc stanza time offset minus test,"[test suite] basic ops save rc stanza time offset minus test
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1396321797,1396376389,9f10c3ede6c6c1b645a38850d7cdbfa08907ec0f
9f10c3ede6c6c1b645a38850d7cdbfa08907ec0f,9f10c3ed,[test suite] basic ops save rc stanza time offset tests,"[test suite] basic ops save rc stanza time offset tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1396321765,1396376294,b005287aa685960e748119dced9efb7f94099080
b005287aa685960e748119dced9efb7f94099080,b005287a,[test suite] basic ops get key tests,"[test suite] basic ops get key tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1396321304,1396375740,f2484e599fd5074f0c3aded00603581652f8f326
f2484e599fd5074f0c3aded00603581652f8f326,f2484e59,[test suite] rc file time offset tests,"[test suite] rc file time offset tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1396318918,1396363296,cfa15f3961a0ae4b3519a35e2aa67e7fa5525f1e
cfa15f3961a0ae4b3519a35e2aa67e7fa5525f1e,cfa15f39,[test suite] minor popen_cmd() status update,"[test suite] minor popen_cmd() status update
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1396318321,1396360639,7e1f3aad691a93f2ea0c15bc6b1cd88c5e8bb67e
7e1f3aad691a93f2ea0c15bc6b1cd88c5e8bb67e,7e1f3aad,[test suite] add long_spa.key file,"[test suite] add long_spa.key file
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1396228321,1396288720,50e454216c7c75ce21190f34edd6e57840b255f4
50e454216c7c75ce21190f34edd6e57840b255f4,50e45421,[test suite] additional critical var popen() tests,"[test suite] additional critical var popen() tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1396228217,1396288450,8ed9728fd35c50d16a9b40c3701aafe91c64accc
8ed9728fd35c50d16a9b40c3701aafe91c64accc,8ed9728f,[test suite] add coverage test for client -M legacy truncated key,"[test suite] add coverage test for client -M legacy truncated key
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1396227573,1396287886,e09e091f71db5067321899532c55db049307b981
e09e091f71db5067321899532c55db049307b981,e09e091f,[test suite] add --profile-coverage-init to recompile and remove old .gcov and .gcda files,"[test suite] add --profile-coverage-init to recompile and remove old .gcov and .gcda files
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1396226723,1396268527,5b6c3768fbea989d6f6b6ef6f4eef90ae4873478
5b6c3768fbea989d6f6b6ef6f4eef90ae4873478,5b6c3768,[test suite] exercise client rc file ask overwrite feature via popen(),"[test suite] exercise client rc file ask overwrite feature via popen()
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1396226051,1396267328,bfa1704072e1192f1b13d0d7ba7349d14784a789
bfa1704072e1192f1b13d0d7ba7349d14784a789,bfa17040,[test suite] exclude /usr/include/* files from lcov coverage analysis,"[test suite] exclude /usr/include/* files from lcov coverage analysis
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1396210006,1396210006,3ca546092b5953d6e893b1aaae98807f6e2c5299
3ca546092b5953d6e893b1aaae98807f6e2c5299,3ca54609,[test suite] additional rc file code coverage tests,"[test suite] additional rc file code coverage tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1396146225,1396146225,a9fb3c05db0382bf782058ac1cc2a334e3fd82bf
a9fb3c05db0382bf782058ac1cc2a334e3fd82bf,a9fb3c05,[test suite] minor typo fix,"[test suite] minor typo fix
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1396143910,1396143910,22b1b2d9d267655a29a844ae6612e1aa1fc39660
22b1b2d9d267655a29a844ae6612e1aa1fc39660,22b1b2d9,[test suite] additional client/config_init.c code coverage test for fwknoprc file parsing,"[test suite] additional client/config_init.c code coverage test for fwknoprc file parsing
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1396143864,1396143864,9c86477e72ada37824117bf85619f4294deef51a
9c86477e72ada37824117bf85619f4294deef51a,9c86477e,[test suite] HTTP proxy tests for client/spa_comm.c test coverage,"[test suite] HTTP proxy tests for client/spa_comm.c test coverage
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1396119952,1396119952,535bcdf2a6ff1111d674c24df3f821b08ce61529
535bcdf2a6ff1111d674c24df3f821b08ce61529,535bcdf2,[test suite] IP resolution tests for client/http_resolve_host.c coverage,"[test suite] IP resolution tests for client/http_resolve_host.c coverage
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1396119232,1396119232,ef0eb18fd3d9062ff892a6ab13d41cf1b405f601
ef0eb18fd3d9062ff892a6ab13d41cf1b405f601,ef0eb18f,[client] removed unused hex_dump() function,"[client] removed unused hex_dump() function
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1396116249,1396116249,c4a59ec90fdf8a00de2f2365de4f2ed8a017ec31
c4a59ec90fdf8a00de2f2365de4f2ed8a017ec31,c4a59ec9,[server] fix IP subnet mask CIDR range restriction bug found by Coverity,"[server] fix IP subnet mask CIDR range restriction bug found by Coverity
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1395971970,1395971970,6b87710397af65261f16fdbb99fa5e68eb44f467
6b87710397af65261f16fdbb99fa5e68eb44f467,6b877103,[libfko] fix memory leak in fko_encode_spa_data() caught by Coverity,"[libfko] fix memory leak in fko_encode_spa_data() caught by Coverity
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1395969677,1395969677,41f12eba81869814ceb6f5c809e90442d6a56b40
41f12eba81869814ceb6f5c809e90442d6a56b40,41f12eba,[libfko] Memory leak bug fix in GnuPG handling,"[libfko] Memory leak bug fix in GnuPG handling

Bug fix to correct a memory leak in GnuPG SPA packet handling within
the gpg_decrypt() function.  Here is the specific valgrind leak record
that enabled the bug to be found (note that the new valgrind
suppressions usage was critical for finding this bug among all other
libgpgme memory leaks):

==23983== 1,044 bytes in 1 blocks are definitely lost in loss record 7 of 8
==23983==    at 0x4C2C494: calloc (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==23983==    by 0x4E41D3A: gpg_decrypt (fko_encryption.c:422)
==23983==    by 0x4E42520: fko_decrypt_spa_data (fko_encryption.c:626)
==23983==    by 0x1155B0: incoming_spa (incoming_spa.c:519)
==23983==    by 0x1180A7: process_packet (process_packet.c:211)
==23983==    by 0x506D857: ??? (in /usr/lib/x86_64-linux-gnu/libpcap.so.1.4.0)
==23983==    by 0x117865: pcap_capture (pcap_capture.c:270)
==23983==    by 0x10F937: main (fwknopd.c:353)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1395882851,1395953533,74a4cabb9c8bfbe1d49fbff6abde24265007bc37
74a4cabb9c8bfbe1d49fbff6abde24265007bc37,74a4cabb,[test suite] Added valgrind suppressions for gpgme,"[test suite] Added valgrind suppressions for gpgme

Running the test suite with --enable-valgrind resulted in large numbers
of leaks detected in gpgme functions.  This commit adds a valgrind
suppressions file to squash these errors (which are not fwknop's fault),
and also enables the valgrind --child-slient-after-fork option by
default.  Both of these can disable in test suite execution with two
new options: --valgrind-disable-suppressions and
--valgrind-disable-child-silent.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1395881470,1395936150,73bc473563154ea1445c7a9010f5593785401a14
73bc473563154ea1445c7a9010f5593785401a14,73bc4735,[client+server] verify GnuPG signatures by default,"[client+server] verify GnuPG signatures by default

- [server] When GnuPG is used, the default now is to require that
incoming SPA packets are signed by a key listed in GPG_REMOTE_ID for each
access.conf stanza. In other words, the usage of GPG_REQUIRE_SIG
is no longer necessary in order to authenticate SPA packets via the
GnuPG signature. Verification of GnuPG signatures can be disabled with a
new access.conf variable GPG_DISABLE_SIG, but this is NOT a
recommended configuration.
- [client+server] Add --gpg-exe command line argument and GPG_EXE
config variable to ~/.fwknoprc and the access.conf file so that the path
to GnuPG can be changed from the default /usr/bin/gpg path.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1395285121,1395791593,a52aa8d54a478f7d0bc2d07351302c2d54451574
a52aa8d54a478f7d0bc2d07351302c2d54451574,a52aa8d5,[test suite] don't remove .gcov/.gcda profiling files in --list-mode,"[test suite] don't remove .gcov/.gcda profiling files in --list-mode
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1395189565,1395189565,6875d0092cf642ecd5c3c2bb6c8c5a456e37bbe6
6875d0092cf642ecd5c3c2bb6c8c5a456e37bbe6,6875d009,[test suite] exercise fko_base64_encode() and fko_base64_decode() in fko-wrapper,"[test suite] exercise fko_base64_encode() and fko_base64_decode() in fko-wrapper
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1395189467,1395189467,00f878c5edf34ef2b87daeb8e839dd394399dea0
00f878c5edf34ef2b87daeb8e839dd394399dea0,00f878c5,[test suite] add --spoof-user test,"[test suite] add --spoof-user test
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1395110209,1395110209,d98cb7fd2c622635d92d77f8820aab55aab45be7
d98cb7fd2c622635d92d77f8820aab55aab45be7,d98cb7fd,[test suite] add --preserve-previous-profile-files,"[test suite] add --preserve-previous-profile-files
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1395110177,1395110177,a3762926b59e1ee07335941926fe74253f49569e
a3762926b59e1ee07335941926fe74253f49569e,a3762926,for --enable-profile-coverage add -lgcov to LDFLAGS and remove -O0 optimization switch,"for --enable-profile-coverage add -lgcov to LDFLAGS and remove -O0 optimization switch
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1395108462,1395108462,46e8428e010fea4141ba72845495b5695f4746a1
46e8428e010fea4141ba72845495b5695f4746a1,46e8428e,[extras] allow configure wrapper to pass on args to the configure script,"[extras] allow configure wrapper to pass on args to the configure script
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1395108391,1395108391,4ba55d6814c1ef2963a88416a093041db31604ff
4ba55d6814c1ef2963a88416a093041db31604ff,4ba55d68,"fix automake subdir-objects warning on Mac OS X, fixes part of #115","fix automake subdir-objects warning on Mac OS X, fixes part of #115
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1395108345,1395108345,b33a6e4c22964e681ef9aa83042e367858378a23
b33a6e4c22964e681ef9aa83042e367858378a23,b33a6e4c,[test suite] ensure the fko multi-call wrapper is executed under valgrind,"[test suite] ensure the fko multi-call wrapper is executed under valgrind
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1395107016,1395107016,490b8e31063de831cb081057a89c377dd1fee011
490b8e31063de831cb081057a89c377dd1fee011,490b8e31,[test suite] add lcov html results for gcov profile coverage in --enable-profile-coverage mode,"[test suite] add lcov html results for gcov profile coverage in --enable-profile-coverage mode
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1395106951,1395106951,7e290245b2bdc0dc561d56c857328cdf373129d5
7e290245b2bdc0dc561d56c857328cdf373129d5,7e290245,[libfko] per-SPA message type field count validation,"[libfko] per-SPA message type field count validation

This commit implements more rigorous SPA packet field count validation
that takes into account expected field counts for each SPA message type.
Two new libfko error codes have been added in support of this, and the
corresponding changes made in the perl and python modules.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1395020839,1395020839,6de811cbc69b59dba04d183762648eeeb88dc39c
6de811cbc69b59dba04d183762648eeeb88dc39c,6de811cb,[libfko] minor error constant label typo fix,"[libfko] minor error constant label typo fix
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1395002241,1395002241,2f9c20fb2764a120b49166e326f48849f7ff8d8d
2f9c20fb2764a120b49166e326f48849f7ff8d8d,2f9c20fb,[test suite] minor bug fix to add udpraw mode for spoofed src test,"[test suite] minor bug fix to add udpraw mode for spoofed src test
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1394975491,1394975491,da09ba7300e1ceb8fdc147dcf65d0b9a6899087b
da09ba7300e1ceb8fdc147dcf65d0b9a6899087b,da09ba73,[libfko] dedicated parsing functions for decoding client timeout and server auth SPA fields,"[libfko] dedicated parsing functions for decoding client timeout and server auth SPA fields
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1394975313,1394975313,5baf8a3fa9fba6fefc861207bdff8bdb29800253
5baf8a3fa9fba6fefc861207bdff8bdb29800253,5baf8a3f,replace malloc() with calloc() calls,"replace malloc() with calloc() calls
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1394935377,1394935377,2556433bba9b1c923394f95119a208fe58000a60
2556433bba9b1c923394f95119a208fe58000a60,2556433b,[libfko] add digest verification and length fcns to decode routine,"[libfko] add digest verification and length fcns to decode routine
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1394933850,1394933850,ded2443b0085dab91443b6c68af442e23c889a79
ded2443b0085dab91443b6c68af442e23c889a79,ded2443b,ChangeLog updates for 2.6.1,"ChangeLog updates for 2.6.1
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1394852914,1394852914,5fff8a7f4f803eaae1ad131f34469c69a4b98a24
5fff8a7f4f803eaae1ad131f34469c69a4b98a24,5fff8a7f,Merge branch 'ms_compatible_usernames',"Merge branch 'ms_compatible_usernames'

This merges in work on #114 to allow MS compatible usernames, and should
help Cygwin (and Windows) users.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1394852567,1394852567,"f5bb43927d31561bac586c0a2ea9325e5e4a8b9a,f82a7e3558714cd7eb81a8c1584f8925e1f547a6"
f5bb43927d31561bac586c0a2ea9325e5e4a8b9a,f5bb4392,Merge branch 'master' of https://github.com/mrash/fwknop,"Merge branch 'master' of https://github.com/mrash/fwknop
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1394852273,1394852273,"0897bd54e155ee35e06edfe14700a1cbe50d0998,cbc75844459300c4c4fa6d6872815974cef7ae03"
0897bd54e155ee35e06edfe14700a1cbe50d0998,0897bd54,[libfko] call SPA field parsers via function pointers in fko_decode_spa_data(),"[libfko] call SPA field parsers via function pointers in fko_decode_spa_data()
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1394852256,1394852256,2eff0c01aa445644f76779c6a175f1b1910ebc90
2eff0c01aa445644f76779c6a175f1b1910ebc90,2eff0c01,[libfko] start on refactoring fko_decode_spa_data() to put SPA field parsing…,"[libfko] start on refactoring fko_decode_spa_data() to put SPA field parsing into dedicated functions
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1394839293,1394845885,ad512ff6e78e6d4c28bc202b9b6ba379389d139f
cbc75844459300c4c4fa6d6872815974cef7ae03,cbc75844,Merge branch 'master' of ssh://github.com/mrash/fwknop,"Merge branch 'master' of ssh://github.com/mrash/fwknop
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1394802978,1394802978,"9e990c9be01dbda86d5687cf58e41418cc3cd11f,d963f74c46c9964137392927204ea4cc11401cc5"
9e990c9be01dbda86d5687cf58e41418cc3cd11f,9e990c9b,"fix header non-ascii chars, and introduce test suite support for detecting this in source files","fix header non-ascii chars, and introduce test suite support for detecting this in source files
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1394587773,1394802875,ad512ff6e78e6d4c28bc202b9b6ba379389d139f
ad512ff6e78e6d4c28bc202b9b6ba379389d139f,ad512ff6,[test suite] added Rijndael+HMAC SPOOF_SRC fwknoprc file test,"[test suite] added Rijndael+HMAC SPOOF_SRC fwknoprc file test
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1394683822,1394761431,4181b43f55a10e037a60cee021e31b09423adf4c
4181b43f55a10e037a60cee021e31b09423adf4c,4181b43f,[test suite] Added Rijndael+HMAC NAT rand port via client rc file test,"[test suite] Added Rijndael+HMAC NAT rand port via client rc file test
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1394683141,1394755826,83595bdabbecd78f479247c30df2db5c909edf0d
83595bdabbecd78f479247c30df2db5c909edf0d,83595bda,[test suite] Added Rijndael+HMAC command execution test,"[test suite] Added Rijndael+HMAC command execution test
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1394682972,1394754047,0bae1a5a1bd172794dbfa88ab3e6d53c2835588c
f82a7e3558714cd7eb81a8c1584f8925e1f547a6,f82a7e35,[perl FKO module] comment out username fuzzing packets that are now acceptable to libfko,"[perl FKO module] comment out username fuzzing packets that are now acceptable to libfko
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1394682191,1394744444,1213eae92637bad8012108b3b8d1f0ce79e70e90
1213eae92637bad8012108b3b8d1f0ce79e70e90,1213eae9,[test suite] allow fuzzing_spa_packet file comments to skip particular packets,"[test suite] allow fuzzing_spa_packet file comments to skip particular packets
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1394682061,1394741220,b5eb857533b907f71474b10aecfc9b94000fb7bc
d963f74c46c9964137392927204ea4cc11401cc5,d963f74c,"fix header non-ascii chars, and introduce test suite support for detecting this in source files","fix header non-ascii chars, and introduce test suite support for detecting this in source files
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1394587773,1394587773,0bae1a5a1bd172794dbfa88ab3e6d53c2835588c
b5eb857533b907f71474b10aecfc9b94000fb7bc,b5eb8575,[libfko] allow MS compatible usernames,"[libfko] allow MS compatible usernames

Allow usernames that are compatible with Microsoft guidelines as defined
here:

http://technet.microsoft.com/en-us/library/bb726984.aspx

This allows for greater compatibility between fwknop clients on Windows
(for example that may be deployed with Cygwin) and fwknopd on other
systems.  This change was suggested by Gerry Reno, and tracked by Github
issue #114.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1394421173,1394421173,0bae1a5a1bd172794dbfa88ab3e6d53c2835588c
0bae1a5a1bd172794dbfa88ab3e6d53c2835588c,0bae1a5a,started on 2.6.1 ChangeLog entries,"started on 2.6.1 ChangeLog entries
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1394406996,1394406996,08e5c9252cba9367f1122f834bf79f499ea4e050
08e5c9252cba9367f1122f834bf79f499ea4e050,08e5c925,[client] bug fix to set non-zero random source port for UDP raw SPA mode,"[client] bug fix to set non-zero random source port for UDP raw SPA mode
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1394079047,1394406520,be971e2ec8ffd703a31a82d49c2e9d8273c80b9e
be971e2ec8ffd703a31a82d49c2e9d8273c80b9e,be971e2e,[client] bug fix to convert UDP length header field to network byte order in UDP raw mode,"[client] bug fix to convert UDP length header field to network byte order in UDP raw mode
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1394079102,1394405902,f3a02b5d2d48005be87ee82ca16615ac14f86cb2
f3a02b5d2d48005be87ee82ca16615ac14f86cb2,f3a02b5d,[test suite] establish new test.log file in --list mode,"[test suite] establish new test.log file in --list mode
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1394167976,1394227890,f476570b2afb8f93c64e06ecbb4ea60c74eb0552
f476570b2afb8f93c64e06ecbb4ea60c74eb0552,f476570b,[test suite] minor --help update to include missed options,"[test suite] minor --help update to include missed options
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1394167261,1394225699,bfdbb8f2609b219e1d3c72bdec3979103f0a104b
bfdbb8f2609b219e1d3c72bdec3979103f0a104b,bfdbb8f2,Updated authorship and copyright information,"Updated authorship and copyright information

This commit updates all authorship and copyright information to include a
standard header that references the AUTHORS and CREDITS file. This standard
header was written by the Debian legal team at the request of Franck Joncourt.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1393818871,1393973590,3eeca9b2e34b820cb19e192ca37cc936ea3e6d91
3eeca9b2e34b820cb19e192ca37cc936ea3e6d91,3eeca9b2,[server] minor comment typo fix,"[server] minor comment typo fix
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1393702460,1393702460,14dc8c6ea2c8ff7db9d2307333535150cb3ae726
14dc8c6ea2c8ff7db9d2307333535150cb3ae726,14dc8c6e,[test suite] check for Darwin uname output for Mac OS X,"[test suite] check for Darwin uname output for Mac OS X
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1391999992,1391999992,6409216d3435e633967e169c1e8f55d05b1b780b
6409216d3435e633967e169c1e8f55d05b1b780b,6409216d,[test suite] added git branch and commit values to init,"[test suite] added git branch and commit values to init
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1391743240,1391777892,873b06b4223b8e4d4ce854c4655a2366bd5dac8b
873b06b4223b8e4d4ce854c4655a2366bd5dac8b,873b06b4,[test suite] added portrange bpf filter test,"[test suite] added portrange bpf filter test
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1391742743,1391777390,7bb5811651bd833b2a991c3dda0b3a1c85505bdc
7bb5811651bd833b2a991c3dda0b3a1c85505bdc,7bb58116,[libfko] minor bug fix to not return GPG error codes from _rijndael_decrypt(),"[libfko] minor bug fix to not return GPG error codes from _rijndael_decrypt()
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1391391122,1391391122,8922c279d32db63ba1c58f674c425caaebe4a708
8922c279d32db63ba1c58f674c425caaebe4a708,8922c279,[test suite] buf fix for DYLD_LIBRARY_PATH on Mac OS X systems,"[test suite] buf fix for DYLD_LIBRARY_PATH on Mac OS X systems
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1391390954,1391390954,55dec8532a7399c2da1b8da551766348ae734321
55dec8532a7399c2da1b8da551766348ae734321,55dec853,[test suite] minor spelling typo fix,"[test suite] minor spelling typo fix
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1391390882,1391390882,86873441db0422804105a5d323961747f1340142
86873441db0422804105a5d323961747f1340142,86873441,Merge branch 'master' of ssh://10.211.55.11/home/mbr/git/fwknop,"Merge branch 'master' of ssh://10.211.55.11/home/mbr/git/fwknop
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1390104836,1390104836,"d79fcea6d71fbfbc50901fada8f88f44149fb502,63a829803ea72180a1575b70533f8fbf1e165a17"
d79fcea6d71fbfbc50901fada8f88f44149fb502,d79fcea6,[client] minor bug fix to add --spoof-source synonym for --spoof-src to match man page,"[client] minor bug fix to add --spoof-source synonym for --spoof-src to match man page
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1390011036,1390011036,94cc77fda6ab19d7bf672b8d1c83eea14b47ecfe
63a829803ea72180a1575b70533f8fbf1e165a17,63a82980,[test suite] added --client-only mode for the test suite,"[test suite] added --client-only mode for the test suite
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1390020191,1389968353,94cc77fda6ab19d7bf672b8d1c83eea14b47ecfe
94cc77fda6ab19d7bf672b8d1c83eea14b47ecfe,94cc77fd,added fwknop.spec update to ChangeLog.git,"added fwknop.spec update to ChangeLog.git
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1389583744,1389583744,177290c5c3c50af616aa5cb2dc5dee0bf2c611ec
177290c5c3c50af616aa5cb2dc5dee0bf2c611ec,177290c5,updated fwknop.spec file release note for 2.6.0,"updated fwknop.spec file release note for 2.6.0
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1389583658,1389583658,56966ee832ccb21651292e0209aec23e468a8d01
56966ee832ccb21651292e0209aec23e468a8d01,56966ee8,added Coverity finds/fixes to ChangeLog.git for 2.6.0,"added Coverity finds/fixes to ChangeLog.git for 2.6.0
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1389580914,1389580914,cf6a38ea0dc8e0c66e37da4c3eb926476738deba
cf6a38ea0dc8e0c66e37da4c3eb926476738deba,cf6a38ea,[server] better checking for read() return value flagged by Coverity,"[server] better checking for read() return value flagged by Coverity
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1389580820,1389580820,05d6e1c4a744007d3ac04be486d16f13f38cfa9e
05d6e1c4a744007d3ac04be486d16f13f38cfa9e,05d6e1c4,[server] fixed copy-and-paste NULL check bug found by Coverity,"[server] fixed copy-and-paste NULL check bug found by Coverity
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1389578935,1389578935,431caa287a85c06521630fe6efefc4e8c1992cfd
431caa287a85c06521630fe6efefc4e8c1992cfd,431caa28,added ChangeLog.git to show changes since 2.5.1,"added ChangeLog.git to show changes since 2.5.1
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1389501233,1389501233,825c361958580b459d88080798bc72398f967352
825c361958580b459d88080798bc72398f967352,825c3619,Merge branch 'master' of https://github.com/mrash/fwknop,"Merge branch 'master' of https://github.com/mrash/fwknop
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1389471670,1389471670,"a347be354d646d29e304f668eb5aa8f94863d18d,1e1729905e27d7b71f5ea75faed97efa12424034"
1e1729905e27d7b71f5ea75faed97efa12424034,1e172990,Bumped libfko and protocol versions to 2.0.1.  Added dependencies for this…,"Bumped libfko and protocol versions to 2.0.1.  Added dependencies for this version to the fwknop.spec file.
",,,,Damien Stuart,dstuart@dstuart.org,Damien Stuart,dstuart@dstuart.org,1389455881,1389455881,551b243007d8e481e284a9d90ab9372fefc09b87
a347be354d646d29e304f668eb5aa8f94863d18d,a347be35,merged android4.4_support branch,"merged android4.4_support branch
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1389412014,1389412014,"551b243007d8e481e284a9d90ab9372fefc09b87,bd0b8a1953b12bcabdf15f9c7a3c049fa7c71969"
551b243007d8e481e284a9d90ab9372fefc09b87,551b2430,(Marek Wrzosek) Update docs to reflect random 'digits' use instead of 'bytes',"(Marek Wrzosek) Update docs to reflect random 'digits' use instead of 'bytes'

Suggested doc update to fwknop man pages to accurately describe the usage
of digits instead of bytes for SPA random data.  About 53 bits of entropy
are actually used, although this is in addition to the 64-bit random salt
in for key derivation used by PBKDF1 in Rjindael CBC mode.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1388713661,1388713661,6add06f76cbe2de3650d85ddf738c0f0327b9887
6add06f76cbe2de3650d85ddf738c0f0327b9887,6add06f7,bumped version to 2.6.0,"bumped version to 2.6.0
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1388633227,1388633227,3820b6439478ff9b1b090120859bbb56918ec594
3820b6439478ff9b1b090120859bbb56918ec594,3820b643,[libfko] ensure a NULL HMAC key is properly handled,"[libfko] ensure a NULL HMAC key is properly handled
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1388623538,1388623538,34a3808b99e0008728777c97d00d28216f56c9b9
34a3808b99e0008728777c97d00d28216f56c9b9,34a3808b,[test suite] minor display_ctx() call position update,"[test suite] minor display_ctx() call position update
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1388623502,1388623502,f5fd8de48204e3a3c2a0fcdb11e81ffef614e553
f5fd8de48204e3a3c2a0fcdb11e81ffef614e553,f5fd8de4,[test suite] better loop output for fko-wrapper,"[test suite] better loop output for fko-wrapper
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1388603259,1388603259,3adb3599323ae4b1abc7e4a1537e753addf1d99c
3adb3599323ae4b1abc7e4a1537e753addf1d99c,3adb3599,minor README update,"minor README update
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1388601733,1388601733,227d0ab947f82a579aa2c55ba934256e9d64a078
227d0ab947f82a579aa2c55ba934256e9d64a078,227d0ab9,[libfko] ensure NULL is handled properly for all fko_get_* functions,"[libfko] ensure NULL is handled properly for all fko_get_* functions
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1388550425,1388550425,7aa6d37fff7e638b4845ce97ac0e85a17b507f6f
7aa6d37fff7e638b4845ce97ac0e85a17b507f6f,7aa6d37f,[libfko] added NULL check for fko_set_spa_data() data arg,"[libfko] added NULL check for fko_set_spa_data() data arg
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1388458568,1388458568,5022beaf12902c0c0aeef089f4cf9ec74727c8c7
5022beaf12902c0c0aeef089f4cf9ec74727c8c7,5022beaf,[libfko] < 0 checks not needed for size_t vars which are unsigned,"[libfko] < 0 checks not needed for size_t vars which are unsigned
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1388455767,1388455767,297d7d00fe4d6e6b6fd9aa3b8b1a042e1571bd2d
297d7d00fe4d6e6b6fd9aa3b8b1a042e1571bd2d,297d7d00,[libfko] enc key NULL checks with fko-wrapper test support,"[libfko] enc key NULL checks with fko-wrapper test support
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1388375056,1388375056,0c6911941b18cc9eb9a41d5a31770260b7baa13f
0c6911941b18cc9eb9a41d5a31770260b7baa13f,0c691194,[libfko] reject negative length values,"[libfko] reject negative length values

Integer lengths that are negative are never valid.  This commit also
extends the fuzzing capabilities of the test/fko-wrapper code to
validate libfko calls with negative length arguments, and one crash
scenario with a negative length for the encryption key was found (and
fixed) this way.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1388369104,1388369104,d09e2786461dbbeee79237d8719932a0a3a064e5
d09e2786461dbbeee79237d8719932a0a3a064e5,d09e2786,added fko-wrapper no valgrind script,"added fko-wrapper no valgrind script
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1388365376,1388365376,283c72e4636b74a3ad0f8ff40bacb685c426ff45
283c72e4636b74a3ad0f8ff40bacb685c426ff45,283c72e4,"[test suite] run fko-wrapper without valgrind, closes #113","[test suite] run fko-wrapper without valgrind, closes #113
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1388365156,1388365156,8a7ca121e9052a70ff293fef9c1293d270dea4c7
8a7ca121e9052a70ff293fef9c1293d270dea4c7,8a7ca121,[test suite] use ctx_update() where possible for fko-wrapper,"[test suite] use ctx_update() where possible for fko-wrapper
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1388262121,1388262121,bf9fa57ca81fda211de61e120d42f30a39163f2a
bf9fa57ca81fda211de61e120d42f30a39163f2a,bf9fa57c,[test suite] added 'getset' versions of fko_ int/short wrapper functions,"[test suite] added 'getset' versions of fko_ int/short wrapper functions
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1388260595,1388260595,8f3ea42b3fe5c41d78f730617c033e206c2b43a9
8f3ea42b3fe5c41d78f730617c033e206c2b43a9,8f3ea42b,[test suite] update fko-wrapper to use constants from fko.h,"[test suite] update fko-wrapper to use constants from fko.h
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1388258411,1388258411,4c42d5575e8a0c98156c0af0250c12ba0427e8d5
4c42d5575e8a0c98156c0af0250c12ba0427e8d5,4c42d557,[test suite] added ctx_update() function to fko-wrapper test,"[test suite] added ctx_update() function to fko-wrapper test
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1388257847,1388257847,05eb4ebb7b4802d99818d7586979c4e1f21b2e1e
05eb4ebb7b4802d99818d7586979c4e1f21b2e1e,05eb4ebb,[test suite] call FKO functions via function pointers (interim commit),"[test suite] call FKO functions via function pointers (interim commit)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1388204645,1388204645,6cba5d2ec92bfda5074767611019912d3fdc67bf
bd0b8a1953b12bcabdf15f9c7a3c049fa7c71969,bd0b8a19,"[android] updated README file, added project/sdk.paths file","[android] updated README file, added project/sdk.paths file
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1388108675,1388108675,db58f2008efbafc4f8a0acc39254772c2fcfb0e3
db58f2008efbafc4f8a0acc39254772c2fcfb0e3,db58f200,[android] Added test/conf/hmac_android_access.conf file to Makefile.am,"[android] Added test/conf/hmac_android_access.conf file to Makefile.am
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1387858563,1387858563,509dcf93ddf9a9bef73d2f18b239d7f50643d190
509dcf93ddf9a9bef73d2f18b239d7f50643d190,509dcf93,[android] added HMAC test along with non-legacy Rijndael test,"[android] added HMAC test along with non-legacy Rijndael test
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1387858511,1387858511,8fdb5d63958ad5de2d85f03a66843f5cae5eda7f
8fdb5d63958ad5de2d85f03a66843f5cae5eda7f,8fdb5d63,[android] added ant.properties file,"[android] added ant.properties file
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1387857086,1387857086,171da60f238a4c2c6ff84a7f345053ce74a2dc55
171da60f238a4c2c6ff84a7f345053ce74a2dc55,171da60f,[android] added project.properties file,"[android] added project.properties file
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1387856693,1387856693,3b330f2036cb2680af4d37a1351fe698cbf812db
3b330f2036cb2680af4d37a1351fe698cbf812db,3b330f20,[android] Makefile.am minor script path update,"[android] Makefile.am minor script path update
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1387856418,1387856418,e25d05f05007a00d44e106ae4ef75d19d8e61e5b
e25d05f05007a00d44e106ae4ef75d19d8e61e5b,e25d05f0,[android] update Makefile.am for latest Android directory tree,"[android] update Makefile.am for latest Android directory tree
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1387856361,1387856361,204bc6e58f286fac65cf23e916d1ce74cc1f1921
204bc6e58f286fac65cf23e916d1ce74cc1f1921,204bc6e5,[android] add HMAC support (currently optional),"[android] add HMAC support (currently optional)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1387855791,1387855791,dc19e07d65c0826907bffd9e8fd8d0ac71327e46
dc19e07d65c0826907bffd9e8fd8d0ac71327e46,dc19e07d,[android] update to copy fko.h and associated files to jni/fwknop/ via get_libfko_header.sh,"[android] update to copy fko.h and associated files to jni/fwknop/ via get_libfko_header.sh
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1387849084,1387849084,8dfd57677aee237bf36b7f15c982326fb518b6a7
8dfd57677aee237bf36b7f15c982326fb518b6a7,8dfd5767,added Gerry Reno,"added Gerry Reno
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1387764746,1387764746,d43d2fc8175f073094cfeb20f14055c78bd52800
d43d2fc8175f073094cfeb20f14055c78bd52800,d43d2fc8,[android] applied Gerry Reno's patch for Android-4.4,"[android] applied Gerry Reno's patch for Android-4.4
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1387743932,1387743932,8ed0d9d8d929b07b6843dc153a1493521be05502
8ed0d9d8d929b07b6843dc153a1493521be05502,8ed0d9d8,Fix 'string literal' warning for Android client,"Fix 'string literal' warning for Android client

Under Android-4.4 this commit fixes the following warning:

     [exec] jni/./fwknop/fwknop_client.c: In function 'Java_com_max2idea_android_fwknop_Fwknop_sendSPAPacket':
     [exec] jni/./fwknop/fwknop_client.c:181:5: error: format not a string literal and no format arguments [-Werror=format-security]
     [exec] cc1: some warnings being treated as errors
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1387743023,1387743023,6cba5d2ec92bfda5074767611019912d3fdc67bf
6cba5d2ec92bfda5074767611019912d3fdc67bf,6cba5d2e,[test suite] bug fix for python FKO extension library path (found on Fedora 19),"[test suite] bug fix for python FKO extension library path (found on Fedora 19)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1387251235,1387251235,919f25f85d53fa6b550241be36ab5f11cb9f5b24
919f25f85d53fa6b550241be36ab5f11cb9f5b24,919f25f8,[server] fw_initialize() vs. fw_config_init() bug fix for use_masquerade,"[server] fw_initialize() vs. fw_config_init() bug fix for use_masquerade
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1387068060,1387068060,92cdb47ff7eb34ebf4924d0eed75ac3ea7ce1429
92cdb47ff7eb34ebf4924d0eed75ac3ea7ce1429,92cdb47f,"[server] added FORCE_MASQUERADE to fwknopd(8) man page, closes #101","[server] added FORCE_MASQUERADE to fwknopd(8) man page, closes #101

This commit completes the addition of generalized NAT (both DNAT and
SNAT) capabilities to access.conf stanzas.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1387053879,1387053879,3a2c33cd3c9ee0c45a2a0173f5cb1966d2ada33d
3a2c33cd3c9ee0c45a2a0173f5cb1966d2ada33d,3a2c33cd,Added Les Aker to credits file,"Added Les Aker to credits file
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1386824504,1386885430,3b2cd063fe45232d1ac346a80257570435a0eed2
3b2cd063fe45232d1ac346a80257570435a0eed2,3b2cd063,[server] pcap_dispatch() packet count default to 100,"[server] pcap_dispatch() packet count default to 100

Updated pcap_dispatch() default packet count from zero to 100.
This change was made to ensure backwards compatibility with older
versions of libpcap per the pcap_dispatch() man page, and also because
some of a report from Les Aker of an unexpected crash on Arch Linux with
libpcap-1.5.1 that is fixed by this change (closes #110).
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1386735879,1386735879,aeed8323f7c1cf3c69f85432b0118b6932e79ce4
aeed8323f7c1cf3c69f85432b0118b6932e79ce4,aeed8323,[test suite] multi-packet pcap test for pcap_dispatch() validation,"[test suite] multi-packet pcap test for pcap_dispatch() validation

This commit adds a new pcap file to the test suite with an SPA packet after
99 other garbage packets.  This can be used for pcap_dispatch() testing,
though this is not meant to be super instensive - it is just to ensure that
if a PCAP_DISPATCH_COUNT of, say, 10 is selected that the SPA is still seen
by fwknopd.  This commit is in support of #110.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1386732663,1386734180,5f50ac22dbec45cbe625c11c19a4c006469745f4
5f50ac22dbec45cbe625c11c19a4c006469745f4,5f50ac22,[server] use SIGKILL if necessary for -K,"[server] use SIGKILL if necessary for -K

This change sends SIGKILL to fwknopd under -K if SIGTERM does not do the job
first.  This can be necessary in some cases if libpcap does not properly handle
a packet count of zero in pcap_dispatch() (see github issue #110).  On a side
note, the default packet dispatch count of zero will likely be changed because
of that issue too.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1386648646,1386707738,3ef9e5645bbcb39559424dfe211b3531d6fb3089
3ef9e5645bbcb39559424dfe211b3531d6fb3089,3ef9e564,[test suite] added masquerade exception for non-Linux systems,"[test suite] added masquerade exception for non-Linux systems
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1386304630,1386304630,0319b723343f6cab6214a274153a87c14e9e173e
0319b723343f6cab6214a274153a87c14e9e173e,0319b723,[test suite] added missing config files,"[test suite] added missing config files
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1386302472,1386302472,46b5f2ecaf475cb1a58acbf5d47e6afbcaaa02b8
46b5f2ecaf475cb1a58acbf5d47e6afbcaaa02b8,46b5f2ec,[server] added the ability to use FORCE_MASQUERADE to access.conf stanzas,"[server] added the ability to use FORCE_MASQUERADE to access.conf stanzas
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1386302419,1386302419,79f0cb898639fca71e43d95c231181075e1135bd
79f0cb898639fca71e43d95c231181075e1135bd,79f0cb89,[libfko] added defensive NULL check for is_valid_ipv4_addr(),"[libfko] added defensive NULL check for is_valid_ipv4_addr()
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1386216671,1386216671,e0114e60c26727268b2b16b3098e8fb117d4a449
e0114e60c26727268b2b16b3098e8fb117d4a449,e0114e60,[server] Added FORCE_SNAT to access.conf stanzas.,"[server] Added FORCE_SNAT to access.conf stanzas.

Added FORCE_SNAT to the access.conf file so that per-access stanza SNAT
criteria can be specified for SPA access.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1386211927,1386211927,d7aa820e33e5e65fb87c86f1b8f9e1ca9b1af435
d7aa820e33e5e65fb87c86f1b8f9e1ca9b1af435,d7aa820e,[server] Bug fix for SPA NAT modes on iptables firewalls for chain re-creation,"[server] Bug fix for SPA NAT modes on iptables firewalls for chain re-creation

For SPA NAT modes this commit ensures that custom fwknop chains are re-created
if they get deleted out from under the running fwknopd instance.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1386124943,1386124943,bd73ceb5bd6fc0a907141f3da63e180960424f8e
bd73ceb5bd6fc0a907141f3da63e180960424f8e,bd73ceb5,[test suite] added FreeBSD-9.2 and OpenBSD-5.4 compatibility tests,"[test suite] added FreeBSD-9.2 and OpenBSD-5.4 compatibility tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1385607493,1385607493,c382febf3dac5f6acbe79565c08661885c263761
c382febf3dac5f6acbe79565c08661885c263761,c382febf,[client] use libfko is_valid_ipv4_addr() for IP address validation,"[client] use libfko is_valid_ipv4_addr() for IP address validation
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1385527736,1385527736,aeb415d0e0f91fc08e6b2d831b25e1ca9a1e5d08
aeb415d0e0f91fc08e6b2d831b25e1ca9a1e5d08,aeb415d0,move fuzzing_spa_packets file to perl/FKO/t/ for fuzzing tests,"move fuzzing_spa_packets file to perl/FKO/t/ for fuzzing tests

This change moves the fuzzing_spa_packets file from the test/fuzzing/
directory into the perl FKO extension t/ directory and is now referenced
directly by the t/04_fuzzing.t test file.  The test suite itself also uses
this file for fuzzing tests as well, but having the FKO built-in tests
enables Test::Valgrind memory checks so it is useful to have this included
in the FKO sources.  (When the FKO module is submitted to CPAN, it should
not depend on non-local files, but it's ok for the test suite to reference
the ../perl/FKO/t/ directory.)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1385520293,1385520293,a15be4005e5c064ed758a7512d127566ed5b60a7
a15be4005e5c064ed758a7512d127566ed5b60a7,a15be400,minor ChangeLog rewording for GPG fix,"minor ChangeLog rewording for GPG fix
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1385439335,1385474876,be904769c48fa591fb25b5c87677617a2fded8fb
be904769c48fa591fb25b5c87677617a2fded8fb,be904769,[libfko] Bug fix to not decrypt with GnuGP without FKO_ENC_MODE_ASYMMETRIC,"[libfko] Bug fix to not decrypt with GnuGP without FKO_ENC_MODE_ASYMMETRIC

[libfko] Bug fix to not attempt SPA packet decryption with GnuPG without
an fko object with encryption_mode set to FKO_ENC_MODE_ASYMMETRIC.  This
bug was caught with valgrind validation against the perl FKO extension
together with the set of SPA fuzzing packets in
test/fuzzing/fuzzing_spa_packets.  Note that this bug cannot be
triggered via fwknopd because additional checks are made within fwknopd
itself to force FKO_ENC_MODE_ASYMMETRIC whenever an access.conf stanza
contains GPG key information.  This fix strengthens libfko itself to
independently require that the usage of fko objects without GPG key
information does not result in attempted GPG decryption operations.  Hence
this fix applies mostly to third party usage of libfko - i.e. stock
installations of fwknopd are not affected.  As always, it is recommended to
use HMAC authenticated encryption whenever possible even for GPG modes since
this also provides a work around even for libfko prior to this fix.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1385439061,1385472916,6dd5ab8e359c61e83ccb9311c7086b07ac6040c9
6dd5ab8e359c61e83ccb9311c7086b07ac6040c9,6dd5ab8e,[test suite] added --cmd-verbose to control fwknop command verbosity levels,"[test suite] added --cmd-verbose to control fwknop command verbosity levels

This commit provides an easy way to control how verbose fwknop command
execution will be.  For example, fwknopd only calls hex_dump() against
SPA packets when --verbose > 2, so invoking the tests suite as follows
will result in hex_dump() being included in fwknopd output (see the
output/1_fwknopd.test file:

./test-fwknop.pl --include ""Rijndael.*complete.*22"" --test-limit 1 --cmd-verbose ""--verbose --verbose --verbose""

[+] candidate SPA packet payload:

  0x0000:  39 62 72 51 58 75 7a 4b  57 54 53 67 57 56 35 66 9brQXuzKWTSgWV5f
  0x0010:  73 63 78 42 35 78 69 51  65 6c 55 4f 53 78 69 45 scxB5xiQelUOSxiE
  0x0020:  51 30 59 6a 41 50 70 31  4f 70 43 62 32 51 4a 4c Q0YjAPp1OpCb2QJL
  0x0030:  48 34 42 65 68 64 6d 47  35 49 31 50 36 2f 5a 69 H4BehdmG5I1P6/Zi
  0x0040:  6a 34 4b 41 62 34 53 68  6a 59 66 4f 71 2b 46 6c j4KAb4ShjYfOq+Fl
  0x0050:  4a 35 52 75 70 33 39 6f  6e 65 42 79 72 51 46 57 J5Rup39oneByrQFW
  0x0060:  61 38 6c 37 63 48 6e 38  5a 54 36 59 6e 55 56 47 a8l7cHn8ZT6YnUVG
  0x0070:  50 36 6e 53 6f 69 30 61  70 72 32 52 39 62 6b 56 P6nSoi0apr2R9bkV
  0x0080:  37 50 61 67 41 61 6b 49  44 63 58 59 44 6b 2f 64 7PagAakIDcXYDk/d
  0x0090:  67 51 45 61 37 39 32 6f  30 4d 38 6e 30 30 6e 35 gQEa792o0M8n00n5
  0x00a0:  55                                               U
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1385179220,1385179220,cba2873e2285b52c83faf7f7981fea2679c150bc
cba2873e2285b52c83faf7f7981fea2679c150bc,cba2873e,"AppArmor profile update to allow GnuPG link operations, closes #109","AppArmor profile update to allow GnuPG link operations, closes #109

This fix was submitted by Raybuntu through github.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1385177777,1385177777,72eb3421b6751b051b2d04ed68074a4fb96d9892
72eb3421b6751b051b2d04ed68074a4fb96d9892,72eb3421,Merge branch 'master' of ssh://192.168.10.1/home/mbr/git/fwknop,"Merge branch 'master' of ssh://192.168.10.1/home/mbr/git/fwknop
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1385085728,1385085728,"f396b816a1225313a1f55a26bdea544ba71fe637,65195d74aeac623eccc8913e07ee8edbaae93c1c"
f396b816a1225313a1f55a26bdea544ba71fe637,f396b816,[test suite] fix LD_LIBRARY_PATH for perl FKO 'make test' run,"[test suite] fix LD_LIBRARY_PATH for perl FKO 'make test' run
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1385085677,1385085677,eeda4e0f10ddf7a3a627f28d15dfdd37b900b08d
65195d74aeac623eccc8913e07ee8edbaae93c1c,65195d74,added AppArmor policy to Makefile.am,"added AppArmor policy to Makefile.am
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1385084870,1385084870,eeda4e0f10ddf7a3a627f28d15dfdd37b900b08d
eeda4e0f10ddf7a3a627f28d15dfdd37b900b08d,eeda4e0f,[test suite] better --lib-dir support for non-default LD_LIBRARY_PATH values,"[test suite] better --lib-dir support for non-default LD_LIBRARY_PATH values

This commit allow the test suite to easily use a non-default LD_LIBRARY_PATH
in order to test mixed combinations of newly compiled fwknop client/server
binaries and previously installed versions of libfko.  This allows backwards
compatibility (and forwards compatibility) to be verified by the test suite.

For example, after compiling the fwknop client and server for the 2.5.2
release, one could use libfko from 2.5.1 to verify compatibility:

./test-fwknop.pl --enable-all --lib-path /home/mbr/install/fwknop-2.0.4/lib

See the --fwknop-path and --fwknopd-path args as well in order to support
arbitrary client/server/libfko combinations.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1385007297,1385007297,28a915c8c8720053d6b0fdd5f54bd40847083fca
28a915c8c8720053d6b0fdd5f54bd40847083fca,28a915c8,[test suite] added short and long IP tests (1.1.1.1 and 123.123.123.123),"[test suite] added short and long IP tests (1.1.1.1 and 123.123.123.123)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1385007036,1385007036,78f696b2f75b57393328bdae7dead5aec7751fce
78f696b2f75b57393328bdae7dead5aec7751fce,78f696b2,[libfko] implemented shared utility function for ipv4 address checking,"[libfko] implemented shared utility function for ipv4 address checking

This commit implements a single shared utility function for checking the
validaty of an IPv4 address, and both libfko and the fwknopd server use it
now.  The client will be updated as well.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1384921869,1384985635,5f5367cf6261f9191498df1d92a71c963d53de78
5f5367cf6261f9191498df1d92a71c963d53de78,5f5367cf,[server] minor error code text typo fixes,"[server] minor error code text typo fixes
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1384920886,1384920886,8cb5653d5e919b972e4a64cee024ce1e1dd1b512
8cb5653d5e919b972e4a64cee024ce1e1dd1b512,8cb5653d,[test suite] minor update for SNAT tests to not restrict --fw-list search to 127.0.0.2,"[test suite] minor update for SNAT tests to not restrict --fw-list search to 127.0.0.2
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1384831322,1384831322,71d19031e6f8126c116a426815ca7a196d2ab306
71d19031e6f8126c116a426815ca7a196d2ab306,71d19031,[test suite] remove init file before starting test run,"[test suite] remove init file before starting test run
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1384745227,1384745227,38fe23c398ea4feda57eb2490864427c0462c8b7
38fe23c398ea4feda57eb2490864427c0462c8b7,38fe23c3,added tests/code_structure.pl file to Makefile.am,"added tests/code_structure.pl file to Makefile.am
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1384741611,1384741611,796bd761a943f5918b999026b0033e09d15c9397
796bd761a943f5918b999026b0033e09d15c9397,796bd761,[python extension] bug fix for missing error code constants (caught with code structure test),"[python extension] bug fix for missing error code constants (caught with code structure test)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1384739081,1384739081,93c0faafeb26ba11a94a5ca78afb99958e652167
93c0faafeb26ba11a94a5ca78afb99958e652167,93c0faaf,[test suite] extended code structure errstr test to validate python extention error code constants,"[test suite] extended code structure errstr test to validate python extention error code constants
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1384739008,1384739008,6469f818600bf5013c024d458a4c56a26d237b5a
6469f818600bf5013c024d458a4c56a26d237b5a,6469f818,[perl FKO module] bug fix for missing error code constants (caught with code structure test),"[perl FKO module] bug fix for missing error code constants (caught with code structure test)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1384735929,1384735929,eebfa8924d649c5b2f1fba34d277492a4a47a78e
eebfa8924d649c5b2f1fba34d277492a4a47a78e,eebfa892,[test suite] extended code structure errstr test to validate perl FKO constants,"[test suite] extended code structure errstr test to validate perl FKO constants
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1384735842,1384735842,c019a4380893719b4c9427f0e7aedb9db7e3acc3
c019a4380893719b4c9427f0e7aedb9db7e3acc3,c019a438,[libfko] bug fix caught by new code structure error str test to add string for…,"[libfko] bug fix caught by new code structure error str test to add string for FKO_ERROR_INVALID_DATA_DECODE_EXTRA_TOOBIG
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1384662212,1384662212,a9cc97cd2a3c60fbe06ac9627c1fab02b21a74d2
a9cc97cd2a3c60fbe06ac9627c1fab02b21a74d2,a9cc97cd,[test suite] added tests/code_structure.pl with a test for expected lib/fko.h…,"[test suite] added tests/code_structure.pl with a test for expected lib/fko.h error code fko_errstr() handling
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1384662145,1384662145,cd15502bf179f43b81e6e0e262e1ac67d693ee89
cd15502bf179f43b81e6e0e262e1ac67d693ee89,cd15502b,[test suite] minor addition to fko-wrapper to call fko_errstr() across valid and invalid values,"[test suite] minor addition to fko-wrapper to call fko_errstr() across valid and invalid values
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1384652199,1384652199,196fef65b6d5d4d6805d177bc50b4cad2c5b99c8
196fef65b6d5d4d6805d177bc50b4cad2c5b99c8,196fef65,[libfko] move is_base64 check to libfko,"[libfko] move is_base64 check to libfko

This commit replaces the separately implemented client/server
is_base64() check with a single libfko function, and libfko itself now
uses it as well before prepending Rijndael or GnuPG base64 encoded
prefixes.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1384647608,1384647608,173b7518e11949f47d0c2eb0b46b76f8d265ec94
173b7518e11949f47d0c2eb0b46b76f8d265ec94,173b7518,Merge branch 'mac_os_x_mavericks_build' of…,"Merge branch 'mac_os_x_mavericks_build' of ssh://10.211.55.3/home/parallels/git/fwknop into mac_os_x_mavericks_build
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1384545328,1384545328,"6d78c49ef90e3635e6111644e85f924865ef2443,63568d061b0e842e0721858a995b959bb782a0e4"
63568d061b0e842e0721858a995b959bb782a0e4,63568d06,minor hex_dump() formatting bug fix to properly align ascii remainder output,"minor hex_dump() formatting bug fix to properly align ascii remainder output
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1384487751,1384545184,cb2fc3abbe0ddaebfa1962957425caee91c22e87
6d78c49ef90e3635e6111644e85f924865ef2443,6d78c49e,[libfko] minor update to print 'None' for the HMAC type when an HMAC is not used…,"[libfko] minor update to print 'None' for the HMAC type when an HMAC is not used instead of just diplaying '()'
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1384488813,1384488813,cb2fc3abbe0ddaebfa1962957425caee91c22e87
cb2fc3abbe0ddaebfa1962957425caee91c22e87,cb2fc3ab,[test suite] handle LD_LIBRARY_PATH from the main test-fwknop.pl script,"[test suite] handle LD_LIBRARY_PATH from the main test-fwknop.pl script
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1384487233,1384487233,a6f030412f6d9866cb13c2701521e7c433c2b074
a6f030412f6d9866cb13c2701521e7c433c2b074,a6f03041,[test suite] added Rijndael/HMAC compatibility tests for Mac OS X 10.9,"[test suite] added Rijndael/HMAC compatibility tests for Mac OS X 10.9
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1384402629,1384443456,6870e65800e3f18140bd57e8125f517662546b8c
6870e65800e3f18140bd57e8125f517662546b8c,6870e658,[test suite] minor cleanup to remove uncessary 'fatal' test hash keys,"[test suite] minor cleanup to remove uncessary 'fatal' test hash keys
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1384402303,1384442698,5f51d7b3ebf57b962bc3563d9a42c8b15067f925
5f51d7b3ebf57b962bc3563d9a42c8b15067f925,5f51d7b3,[test suite] added support for 'otool' instead of 'ldd' on Mac OS X systems,"[test suite] added support for 'otool' instead of 'ldd' on Mac OS X systems
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1384317144,1384441168,af3d4fa9266862095ad22e59363dd35e64962f59
af3d4fa9266862095ad22e59363dd35e64962f59,af3d4fa9,minor extras/apparmor configure_args.sh path typo fix,"minor extras/apparmor configure_args.sh path typo fix
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1384316818,1384440943,10ac35b344136a178511a2194926e683b382b5cd
10ac35b344136a178511a2194926e683b382b5cd,10ac35b3,added extras/apparmor configure_args.sh helper script for building fwknop with…,"added extras/apparmor configure_args.sh helper script for building fwknop with args that AppArmor expects
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1384316814,1384440878,1299a8ee8772d5fb46465d46f9a52199632e11ea
1299a8ee8772d5fb46465d46f9a52199632e11ea,1299a8ee,[test suite] added DYLD_LIBRARY_PATH for Mac OS X 10.9,"[test suite] added DYLD_LIBRARY_PATH for Mac OS X 10.9
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1384315516,1384315516,e75117616e067030d57d6c4a649438a5f28b10f0
e75117616e067030d57d6c4a649438a5f28b10f0,e7511761,[server] ignore pcap direction for sniffing link type DLT_NULL interfaces (fixes…,"[server] ignore pcap direction for sniffing link type DLT_NULL interfaces (fixes OS X 10.9 test suite runs)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1384315475,1384315475,23ef1d4e59833e3c0a7dc53cd374eb699a4663b8
23ef1d4e59833e3c0a7dc53cd374eb699a4663b8,23ef1d4e,[libfko] Candidate build fix for Mac OS X 10.9 (closes #108),"[libfko] Candidate build fix for Mac OS X 10.9 (closes #108)

Nikolay Kolev reported a build issue on Mac OS X 10.9 (Mavericks) where fwknop
copies of strlcpy() and strlcat() functions were conflicting with those that ship
with OS X 10.9.

The solution was to add a configure.ac check for strlcat() and strlcpy() and
wrap ""#if !HAVE_..."" checks around those functions.

A portion of the build errors looked like this:

/Applications/Xcode.app/Contents/Developer/usr/bin/make  all-recursive
Making all in lib
/bin/sh ../libtool  --tag=CC   --mode=compile gcc -DHAVE_CONFIG_H -I. -I..   -I ../common   -g -O2 -Wall -Wformat -Wformat-security -fstack-protector-all -fstack-protector -fPIE -D_FORTIFY_SOURCE=2 -MT base64.lo -MD -MP -MF .deps/base64.Tpo -c -o base64.lo base64.c
libtool: compile:  gcc -DHAVE_CONFIG_H -I. -I.. -I ../common -g -O2 -Wall -Wformat -Wformat-security -fstack-protector-all -fstack-protector -D_FORTIFY_SOURCE=2 -MT base64.lo -MD -MP -MF .deps/base64.Tpo -c base64.c  -fno-common -DPIC -o .libs/base64.o
In file included from base64.c:34:
In file included from ./fko_common.h:149:
./fko_util.h:56:9: error: expected parameter declarator
size_t  strlcat(char *dst, const char *src, size_t siz);
        ^
/usr/include/secure/_string.h:111:44: note: expanded from macro 'strlcat'
  __builtin___strlcat_chk (dest, src, len, __darwin_obsz (dest))
                                           ^
/usr/include/secure/_common.h:39:62: note: expanded from macro '__darwin_obsz'
 #define __darwin_obsz(object) __builtin_object_size (object, _USE_FORTIFY_LEVEL > 1 ? 1 : 0)
                                                             ^
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1384310174,1384310174,5cfbcce7d34a1d5ea3d52be2ca210cc1d0ed9621
5cfbcce7d34a1d5ea3d52be2ca210cc1d0ed9621,5cfbcce7,[perl FKO module] added a series of encryption + HMAC key tests with single bytes converted to NULL,"[perl FKO module] added a series of encryption + HMAC key tests with single bytes converted to NULL
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1383190788,1383190788,6785462573f0cf298a338facc46964dba1e788f7
6785462573f0cf298a338facc46964dba1e788f7,67854625,added perl FKO t/04_fuzzing.t tests file,"added perl FKO t/04_fuzzing.t tests file
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1383190231,1383190231,2f2156d54f933e1d9d35f9b77c6e0022c5ae7086
2f2156d54f933e1d9d35f9b77c6e0022c5ae7086,2f2156d5,[perl FKO module] additional fuzzing tests,"[perl FKO module] additional fuzzing tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1382927052,1382927052,a98317d367d147273840422aae0fb98969258fa8
a98317d367d147273840422aae0fb98969258fa8,a98317d3,[test suite] minor negative output match addition for Test::Valgrind test,"[test suite] minor negative output match addition for Test::Valgrind test
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1382900881,1382900881,0451a7394c2cd411b6423c0ef244cd70aa66c925
0451a7394c2cd411b6423c0ef244cd70aa66c925,0451a739,[test suite] added valgrind output interpretation for Test::Valgrind output for…,"[test suite] added valgrind output interpretation for Test::Valgrind output for previous run comparisons
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1382755089,1382755089,66f3c1236b0a2dd24f8e1d59495dd76b5da96e3b
66f3c1236b0a2dd24f8e1d59495dd76b5da96e3b,66f3c123,[perl FKO module] added t/04_fuzzing tests,"[perl FKO module] added t/04_fuzzing tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1382671071,1382671071,55bceaddc877b06f927420121f92a48e09f9ddd1
55bceaddc877b06f927420121f92a48e09f9ddd1,55bceadd,[test suite] minor wording update for Test::Valgrind test,"[test suite] minor wording update for Test::Valgrind test
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1382497536,1382497536,b063bd57349e4e71e2f2cec527482487d27f1d51
b063bd57349e4e71e2f2cec527482487d27f1d51,b063bd57,added Test::Valgrind note to the ChangeLog,"added Test::Valgrind note to the ChangeLog
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1382497138,1382497138,ceb213d545103d72631a81fd10a3489599524c7d
ceb213d545103d72631a81fd10a3489599524c7d,ceb213d5,[perl FKO] interim commit to update the perldoc info,"[perl FKO] interim commit to update the perldoc info
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1382495087,1382495087,62939521ac731ab401db1dc3722e6d3300694f20
62939521ac731ab401db1dc3722e6d3300694f20,62939521,[test suite] minor python update to use a main() function,"[test suite] minor python update to use a main() function
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1382492327,1382492327,682966469cbf617d142d46f0dac6853e3e144551
682966469cbf617d142d46f0dac6853e3e144551,68296646,[test suite] minor Test::Valgrind name typo fix,"[test suite] minor Test::Valgrind name typo fix
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1382488678,1382488678,0d80f72c005fcc24f98e72242bb6fb48bdb7d206
0d80f72c005fcc24f98e72242bb6fb48bdb7d206,0d80f72c,"Revert ""[test suite] minor Test::Valgrind name typo fix""","Revert ""[test suite] minor Test::Valgrind name typo fix""

This reverts commit 642024041534d79c897a21b2e19ef3e1ed7b2a61.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1382488590,1382488590,642024041534d79c897a21b2e19ef3e1ed7b2a61
642024041534d79c897a21b2e19ef3e1ed7b2a61,64202404,[test suite] minor Test::Valgrind name typo fix,"[test suite] minor Test::Valgrind name typo fix
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1382402821,1382473126,b091a1a1bcc8b926109196add75d63fbcca6a784
b091a1a1bcc8b926109196add75d63fbcca6a784,b091a1a1,"[test suite, FKO module] new(), spa_data_final(), and other fcns don't require key length args","[test suite, FKO module] new(), spa_data_final(), and other fcns don't require key length args
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1382402721,1382467185,e77a02882e380e9b6f031b1b79da395a1c89f600
e77a02882e380e9b6f031b1b79da395a1c89f600,e77a0288,[test suite] Add support for Test::Valgrind against the perl FKO module,"[test suite] Add support for Test::Valgrind against the perl FKO module

When --enable-valgrind is used, this commit adds support for running the
perl FKO built-in tests (in the t/ directory) under the CPAN
Test::Valgrind module.  A check is performed to see whether
Test::Valgrind is install before attempting to use it.  Any 'fko_'
function that shows up under the test output is flagged and causes the
test-suite test to fail.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1382402062,1382465483,431a5e3ecdc8838c18aa495cd096258e78e7fe5a
431a5e3ecdc8838c18aa495cd096258e78e7fe5a,431a5e3e,[perl FKO module] switch to CBC mode tests from ECB,"[perl FKO module] switch to CBC mode tests from ECB
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1381459425,1381503889,ab0d5ac3e289404137cc01a066216fad62363261
ab0d5ac3e289404137cc01a066216fad62363261,ab0d5ac3,[test suite] display all possible tests under --list (with a --enable-* note),"[test suite] display all possible tests under --list (with a --enable-* note)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1381458865,1381503424,0dc47f7e5c446aefe3f972bf7d06f69c22ab3cd5
0dc47f7e5c446aefe3f972bf7d06f69c22ab3cd5,0dc47f7e,Fixed missing error codes and error tests.,"Fixed missing error codes and error tests.
",,,,Damien Stuart,dstuart@dstuart.org,Damien Stuart,dstuart@centos6.(none),1379270022,1379270063,a36bfab7809947529c636e271e228ed0415590a9
a36bfab7809947529c636e271e228ed0415590a9,a36bfab7,Merge branch 'perl_module',"Merge branch 'perl_module'
",,,,Damien Stuart,dstuart@dstuart.org,Damien Stuart,dstuart@dstuart.org,1378523919,1378523919,"6daabaf3bef15ddd706108cd88b47e079832ce69,1047146b2351d56ea3b73dfb5d7b180d2280f0d4"
6daabaf3bef15ddd706108cd88b47e079832ce69,6daabaf3,minor ChangeLog typo update,"minor ChangeLog typo update
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1378427468,1378427468,85140f2048a7ef7d25ec396256c8ddbb9d4e411c
1047146b2351d56ea3b73dfb5d7b180d2280f0d4,1047146b,Updated Perl FKO tests for lastest changes to libfko.  Fixed bug where…,"Updated Perl FKO tests for lastest changes to libfko.  Fixed bug where $fko->hmac() was always returning -1.
",,,,Damien Stuart,dstuart@dstuart.org,Damien Stuart,dstuart@dstuart.org,1378322383,1378322383,89c5e88219d72f67a424b0a427dea3eb74f42d1e
85140f2048a7ef7d25ec396256c8ddbb9d4e411c,85140f20,Merge pull request #105 from fjoncourt/master,"Merge pull request #105 from fjoncourt/master

Make sure log_msg() sends messages to STDERR until the context gets initialized.",,,,Michael Rash,michael.rash@gmail.com,Michael Rash,michael.rash@gmail.com,1377752139,1377752139,"83952fc734a0838b593ae8a6e961da6dbaa00914,5693b0536a9a52b2ecc5a3ac85a68a123a9f9e87"
5693b0536a9a52b2ecc5a3ac85a68a123a9f9e87,5693b053,Fixed *Value stored is never read* warning found by clang.,"Fixed *Value stored is never read* warning found by clang.
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1377629117,1377629117,69ed30edb4a0f4fae266fda5eddb3f0163277588
69ed30edb4a0f4fae266fda5eddb3f0163277588,69ed30ed,Make sure all calls to log_msg() send messages to STDERR until the config files are parsed.,"Make sure all calls to log_msg() send messages to STDERR until the config files are parsed.
(mrash/fwknop#102)
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1377628743,1377628743,83952fc734a0838b593ae8a6e961da6dbaa00914
83952fc734a0838b593ae8a6e961da6dbaa00914,83952fc7,added Radostan Riedel's AppArmor policy note,"added Radostan Riedel's AppArmor policy note
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1376881364,1376881364,a5c308f9c55e6f04da889675e435502dbcde53ef
a5c308f9c55e6f04da889675e435502dbcde53ef,a5c308f9,Added AppArmor policy,"Added AppArmor policy

This commit adds an AppArmor policy that is known to work in Debian and Ubuntu
systems.  The original version of this policy was contributed by Radostan Riedel
to the fwknop mailing list.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1376881090,1376881090,a68503c7c9d7e01c3a0dcad1eae09032ca3ce62d
a68503c7c9d7e01c3a0dcad1eae09032ca3ce62d,a68503c7,[server] fix crash if replay digest tracking init() fails,"[server] fix crash if replay digest tracking init() fails

This commit fixes a crash if the replay digest init() routine fails - fwknopd
attempted to make use of replay tracking anyway.  The crash was discovered
during testing fwknopd with an AppArmor enforce policy deployed.  The
following stack trace shows the crash (taken before the previous static
function commit):

 Program received signal SIGSEGV, Segmentation fault.
 __strlen_sse2 () at ../sysdeps/x86_64/multiarch/../strlen.S:31
 31      ../sysdeps/x86_64/multiarch/../strlen.S: No such file or directory.
 (gdb) where
 #0  __strlen_sse2 () at ../sysdeps/x86_64/multiarch/../strlen.S:31
 #1  0x00007f59cabd8b26 in add_replay_file_cache (opts=opts@entry=0x7fff3eaa0bb0, digest=digest@entry=0x0) at replay_cache.c:516
 #2  0x00007f59cabd8cf5 in add_replay (opts=opts@entry=0x7fff3eaa0bb0, digest=digest@entry=0x0) at replay_cache.c:472
 #3  0x00007f59cabd62eb in incoming_spa (opts=0x7fff3eaa0bb0) at incoming_spa.c:536
 #4  0x00007f59ca56164e in ?? () from /usr/lib/x86_64-linux-gnu/libpcap.so.0.8
 #5  0x00007f59cabd7175 in pcap_capture (opts=opts@entry=0x7fff3eaa0bb0) at pcap_capture.c:269
 #6  0x00007f59cabd3d4d in main (argc=5, argv=0x7fff3eaa1458) at fwknopd.c:314
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1376878515,1376878781,5d49f30c01d42de961071f2d2918431fe9518b09
5d49f30c01d42de961071f2d2918431fe9518b09,5d49f30c,[server] minor replay code update to make functions static where possible,"[server] minor replay code update to make functions static where possible
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1376877413,1376877413,c271f01d0094065f99bc93dbf8f49f6a6a7a474b
c271f01d0094065f99bc93dbf8f49f6a6a7a474b,c271f01d,[test suite] added 'make test' check for FKO perl module,"[test suite] added 'make test' check for FKO perl module

All built-in tests in the FKO module must pass for this new test to pass.  This commit
is in support of #103
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1376797883,1376797891,e8fe29bbe1941276fe6e6cc251c47b10ab0554b6
89c5e88219d72f67a424b0a427dea3eb74f42d1e,89c5e882,First round of updates to get the Perl module up-to-date with the new libfko. …,"First round of updates to get the Perl module up-to-date with the new libfko.  Added new error refs and commented out bad/invalid tests.
",,,,Damien Stuart,dstuart@dstuart.org,Damien Stuart,dstuart@dstuart.org,1376355209,1376355209,12916f21efc25935a1a3806cedb896db3d7a3848
e8fe29bbe1941276fe6e6cc251c47b10ab0554b6,e8fe29bb,Merge branch 'master' of github.com:mrash/fwknop,"Merge branch 'master' of github.com:mrash/fwknop
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1376273362,1376273362,"c0c8048ee1c33e8c40a8b9b2a335f353178d1ea8,12916f21efc25935a1a3806cedb896db3d7a3848"
c0c8048ee1c33e8c40a8b9b2a335f353178d1ea8,c0c8048e,"Added fko context dumper change to ChangeLog, updated test suite to account for…","Added fko context dumper change to ChangeLog, updated test suite to account for single line printing of final SPA data
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1376273222,1376273222,fa985c19434f37b1f806b4a275399970ba5fe5c6
12916f21efc25935a1a3806cedb896db3d7a3848,12916f21,Moved new invalid data error definitions above the GPGME_ERR_START marker.,"Moved new invalid data error definitions above the GPGME_ERR_START marker.
",,,,Damien Stuart,dstuart@dstuart.org,Damien Stuart,dstuart@dstuart.org,1376272970,1376272970,333302a7cf694a3f5968d4609794d8fdc0cb29e7
fa985c19434f37b1f806b4a275399970ba5fe5c6,fa985c19,Merge remote-tracking branch 'fjoncourt/fko_dump',"Merge remote-tracking branch 'fjoncourt/fko_dump'

This implements an FKO context dumping function in lib/fko_utils.c, and closes #100
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1376247721,1376247721,"45e29f6450b49587db66cc08a0e86d8f4de3b01c,f8ae3b8da37b4c5d04f3a30613a4d31601737aeb"
45e29f6450b49587db66cc08a0e86d8f4de3b01c,45e29f64,minor edit to credits file for Hank Leininger,"minor edit to credits file for Hank Leininger
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1376245837,1376245837,be2bb71c7408d6ae677fceff9bb233afdff7caeb
be2bb71c7408d6ae677fceff9bb233afdff7caeb,be2bb71c,[test suite] minor bug fix for GPG no password HMAC test rc file,"[test suite] minor bug fix for GPG no password HMAC test rc file
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1376182987,1376182987,5176f9e04bd27bce35f09bb66717332a3bf35252
5176f9e04bd27bce35f09bb66717332a3bf35252,5176f9e0,[server] minor addition to access stanza dump output to include hmac digest type,"[server] minor addition to access stanza dump output to include hmac digest type
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1376165299,1376165299,c04efc20dd8ad5471285366e58715537eb8b18ee
c04efc20dd8ad5471285366e58715537eb8b18ee,c04efc20,[test suite] added Rijndael HMAC digest mismatch tests,"[test suite] added Rijndael HMAC digest mismatch tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1376163951,1376163951,dfc2a0654777510086842061af9df5b8c422ccff
dfc2a0654777510086842061af9df5b8c422ccff,dfc2a065,[test suite] added Rijndael HMAC + RAND_PORT test,"[test suite] added Rijndael HMAC + RAND_PORT test
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1376159230,1376159230,4775327d985a3d6907cb8b6f7af5fd7418d9277c
4775327d985a3d6907cb8b6f7af5fd7418d9277c,4775327d,[test suite] added two GnuPG HMAC SHA512 tests,"[test suite] added two GnuPG HMAC SHA512 tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1376157243,1376157243,333302a7cf694a3f5968d4609794d8fdc0cb29e7
f8ae3b8da37b4c5d04f3a30613a4d31601737aeb,f8ae3b8d,Merge remote-tracking branch 'upstream/master' into fko_dump,"Merge remote-tracking branch 'upstream/master' into fko_dump
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1376137954,1376137954,"b590932fb67e061836d64b0adb952447da3f0415,333302a7cf694a3f5968d4609794d8fdc0cb29e7"
b590932fb67e061836d64b0adb952447da3f0415,b590932f,* Removed goto statements. We do not do any further processings,"* Removed goto statements. We do not do any further processings
  when we reach the error label.
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1376137840,1376137840,7296d3f3bf13cb65a6dde52276a608b6b2f4b92f
333302a7cf694a3f5968d4609794d8fdc0cb29e7,333302a7,ChangeLog/CREDITS update for Hank's libfko error code patch,"ChangeLog/CREDITS update for Hank's libfko error code patch
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1376099258,1376099258,4023da87d60dc0d3f7aa51b6c2aa32b97fe0ce71
4023da87d60dc0d3f7aa51b6c2aa32b97fe0ce71,4023da87,Merge remote-tracking branch 'hlein/unique_errors',"Merge remote-tracking branch 'hlein/unique_errors'

[libfko] (Hank Leininger) Contributed a patch to greatly extend libfko
error code descriptions at various places in order to give much better
information on what certain error conditions mean.  Closes #98.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1376099209,1376099209,"eb7914d45cd08e861848cd63ea7ea328936648cc,bc907e0b24146ba98d2aa04480a2114f1d0a06c4"
eb7914d45cd08e861848cd63ea7ea328936648cc,eb7914d4,minor ChangeLog update for --stanza-list,"minor ChangeLog update for --stanza-list
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1376012264,1376012264,d9ba40d48f23ac0f8ec2f4b9d89f24ad7594c44b
d9ba40d48f23ac0f8ec2f4b9d89f24ad7594c44b,d9ba40d4,[server] fix compilation warning dealing with new iptables chain validation,"[server] fix compilation warning dealing with new iptables chain validation
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1376009710,1376009710,05e7d52a5f75d62391cc769772f2442965d9df11
05e7d52a5f75d62391cc769772f2442965d9df11,05e7d52a,"[client] merged --stanza-list changes from Franck, closes #94","[client] merged --stanza-list changes from Franck, closes #94
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1376009647,1376009647,"320008b8de4034f523555f8ab2996cbb7d28efa3,04f72ea7241679c71f0757b469fe61a8e6875697"
bc907e0b24146ba98d2aa04480a2114f1d0a06c4,bc907e0b,Add unique errors for every FKO_ERROR_INVALID_DATA.  Needed this to,"Add unique errors for every FKO_ERROR_INVALID_DATA.  Needed this to
track down mystery errors (#98).
",,,,Hank Leininger,hlein@korelogic.com,Hank Leininger,hlein@korelogic.com,1375755670,1375755670,fc39de607cb258efac7cabe593b4dcfa094ae8b3
320008b8de4034f523555f8ab2996cbb7d28efa3,320008b8,minor ChangeLog update for the test suite --gdb-test feature,"minor ChangeLog update for the test suite --gdb-test feature
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1375751320,1375751320,8c73c7801ba0dd718da5ce4a2b763523a28496c7
7296d3f3bf13cb65a6dde52276a608b6b2f4b92f,7296d3f3,* Interim commit to add a dump function to dump the FKO context shared,"* Interim commit to add a dump function to dump the FKO context shared
  by both the server and client. mrash/fwknop#95
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1375738087,1375738087,fc39de607cb258efac7cabe593b4dcfa094ae8b3
8c73c7801ba0dd718da5ce4a2b763523a28496c7,8c73c780,[server] send IPT_*_ACCESS vars through basic validation at fwknopd.conf parse time,"[server] send IPT_*_ACCESS vars through basic validation at fwknopd.conf parse time
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1375675245,1375675245,5fa93c621a371820032d3672de37d9dd79f6e992
5fa93c621a371820032d3672de37d9dd79f6e992,5fa93c62,[test suite] minor seg fault test message update,"[test suite] minor seg fault test message update
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1375672987,1375672987,131c643caddba7e130ed8c15a08afc86dc1a6927
131c643caddba7e130ed8c15a08afc86dc1a6927,131c643c,[server] make IPT_INPUT_ACCESS validation more strict on allowed chars,"[server] make IPT_INPUT_ACCESS validation more strict on allowed chars
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1375672853,1375672853,39fa4cc012b8f93dab78619beca17d4601e12631
39fa4cc012b8f93dab78619beca17d4601e12631,39fa4cc0,[server] if iptables init fails then no need to remove fwknop chains,"[server] if iptables init fails then no need to remove fwknop chains

This commit fixes a crash at init time in fwknopd if an improperly formatted
IPT_INPUT_ACCESS variable is used in fwknopd.conf file.  fwknopd should not
try to delete chains with a bogus IPT_INPUT_ACCESS variable, and valgrind
verifies that this change does not introduce any memory leaks (see the
'invalid iptables INPUT spec' tests run in --enable-valgrind mode).
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1375671693,1375671693,a7030b038ad181c2a71a073342ddcb78edc2de45
a7030b038ad181c2a71a073342ddcb78edc2de45,a7030b03,[test suite] added --gdb-test mode,"[test suite] added --gdb-test mode

This commit allows the test suite to execute the same fwknop/fwknopd command
used in a specified test output file under gdb.  This is a convenience
measure to allow the user to more rapidly execute fwknop/fwknopd commands
under gdb in the same way the test suite does without having to copy and paste
command line args.

Here is a basic example:

root@lorien:/home/mbr/git/fwknop.git/test# ./test-fwknop.pl --gdb output/6.test
GNU gdb
Copyright (C) 2012 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.  Type ""show copying""
and ""show warranty"" for details.
This GDB was configured as ""i686-linux-gnu"".
For bug reporting instructions, please see:
<http://bugs.launchpad.net/gdb-linaro/>...
Reading symbols from /home/mbr/git/fwknop.git/server/.libs/fwknopd...done.
(gdb) run
Starting program: /home/mbr/git/fwknop.git/server/.libs/fwknopd -c conf/invalid_ipt_input_chain_6_fwknopd.conf -a conf/default_access.conf -d run/digest.cache -p run/fwknopd.pid -i lo --foreground --verbose --verbose
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1375667198,1375667198,92e888a34fd5db7d00a619598aa8d5f24ff14333
92e888a34fd5db7d00a619598aa8d5f24ff14333,92e888a3,[test suite] minor removal of duplicate Cwd usage,"[test suite] minor removal of duplicate Cwd usage
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1375665884,1375665884,870a08c9f5c33d84d3673e5ef2082449c0f6236a
870a08c9f5c33d84d3673e5ef2082449c0f6236a,870a08c9,[test suite] added invalid IPT input chain specification tests,"[test suite] added invalid IPT input chain specification tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1375665755,1375665755,ce3a7bc16d4ba8b53587d03ed6e7ac7c173be41b
ce3a7bc16d4ba8b53587d03ed6e7ac7c173be41b,ce3a7bc1,[test suite] have Makefile.am test/conf/ file inclusion only write errors,"[test suite] have Makefile.am test/conf/ file inclusion only write errors
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1375653341,1375653341,3395e5c1326d8edc013725ccc4bca18923ce5952
3395e5c1326d8edc013725ccc4bca18923ce5952,3395e5c1,[test suite] don't append segfault searches to every test output file,"[test suite] don't append segfault searches to every test output file
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1375629958,1375629958,433b18501c2b2e512202b7c3b517064b2627828d
433b18501c2b2e512202b7c3b517064b2627828d,433b1850,[test suite] additional non-HMAC SNAT tests,"[test suite] additional non-HMAC SNAT tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1375606299,1375606299,2f7a3f0a8af1f9c2bf36986f94b2ac049b9aea23
2f7a3f0a8af1f9c2bf36986f94b2ac049b9aea23,2f7a3f0a,[test suite] SNAT MASQUERADE test,"[test suite] SNAT MASQUERADE test
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1375577547,1375577547,24101ac33ae5faeda87cd8d7f8cab1fdf8ff2898
24101ac33ae5faeda87cd8d7f8cab1fdf8ff2898,24101ac3,[server] add NULL check for SNAT translate IP,"[server] add NULL check for SNAT translate IP
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1375576670,1375576670,0200169dfdb35e7ce8fa9b30a1f82751d6818c68
0200169dfdb35e7ce8fa9b30a1f82751d6818c68,0200169d,[test suite] started on SNAT tests,"[test suite] started on SNAT tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1375551392,1375551392,f062ac570643efce3b24197d6830b90d63a34674
f062ac570643efce3b24197d6830b90d63a34674,f062ac57,[server] minor enable check via strncasecmp(),"[server] minor enable check via strncasecmp()
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1375500130,1375500130,cc896bbcdeb0ecd244c8b8b8e6ea3e9d3ebf3298
cc896bbcdeb0ecd244c8b8b8e6ea3e9d3ebf3298,cc896bbc,[test suite] added checks to look for segfaults/crashes,"[test suite] added checks to look for segfaults/crashes
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1375470540,1375470540,2f0ad7c4be76f71e0d13c95e83f894895b3b1aac
2f0ad7c4be76f71e0d13c95e83f894895b3b1aac,2f0ad7c4,[test suite] have fko_wrapper only require fko.h,"[test suite] have fko_wrapper only require fko.h
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1375293469,1375293469,fc39de607cb258efac7cabe593b4dcfa094ae8b3
04f72ea7241679c71f0757b469fe61a8e6875697,04f72ea7,* Fixed typos.,"* Fixed typos.
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1375218019,1375218019,836921a9ea1b634c7c4cd1ce312671b213fb3bcc
836921a9ea1b634c7c4cd1ce312671b213fb3bcc,836921a9,* Added new test to validate --stanza-list,"* Added new test to validate --stanza-list
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1375217650,1375217650,ccee56b99894c8893d5948444aa938e1b6e69483
ccee56b99894c8893d5948444aa938e1b6e69483,ccee56b9,* A bit more of documentation.,"* A bit more of documentation.
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1375213773,1375213773,80528e21f6cc9f9daade525d9513b9e4fdf7424f
80528e21f6cc9f9daade525d9513b9e4fdf7424f,80528e21,* Updated fwknop manpage to mention the new --stanza-list.,"* Updated fwknop manpage to mention the new --stanza-list.
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1375213524,1375213524,d74cc9927630b2d4825d719bc8b838b528015f95
d74cc9927630b2d4825d719bc8b838b528015f95,d74cc992,Merge remote-tracking branch 'upstream/master',"Merge remote-tracking branch 'upstream/master'
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1375213362,1375213362,"4c478c1bb6a45488629e1f04a03dea4b5631954b,fc39de607cb258efac7cabe593b4dcfa094ae8b3"
4c478c1bb6a45488629e1f04a03dea4b5631954b,4c478c1b,* Added a new --stanza-list command line to fwknop to dump the stanzas,"* Added a new --stanza-list command line to fwknop to dump the stanzas
  configured in ./fwknoprc. The default stanza is not displayed.
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1375213134,1375213134,f1cee780d29521c9701a8ed5382a992427dd4ab5
fc39de607cb258efac7cabe593b4dcfa094ae8b3,fc39de60,minor man page update to move --syslog-enable to the server man page,"minor man page update to move --syslog-enable to the server man page
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1375070812,1375070812,f1cee780d29521c9701a8ed5382a992427dd4ab5
f1cee780d29521c9701a8ed5382a992427dd4ab5,f1cee780,Merge remote-tracking branch 'upstream/master',"Merge remote-tracking branch 'upstream/master'
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1375042276,1375042276,"197797302041b6f65c9b82510a9eb44f43886cc8,54ab33a08fe78e29227e2652bb4ffe9a91c4aa47"
197797302041b6f65c9b82510a9eb44f43886cc8,19779730,* Allow messages to be sent to syslog even if the foreground mode is invoked.,"* Allow messages to be sent to syslog even if the foreground mode is invoked.
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1375042034,1375042034,8ed088051e461c480b8b534a3830f0371a56e18a
54ab33a08fe78e29227e2652bb4ffe9a91c4aa47,54ab33a0,updated ChangeLog.git file to reflect changes from 2.5 -> 2.5.1,"updated ChangeLog.git file to reflect changes from 2.5 -> 2.5.1
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1374802078,1374802078,798b7db2da911d5968173ffc19af4748ab46a046
798b7db2da911d5968173ffc19af4748ab46a046,798b7db2,added 'Release: 2' for libfko RPM versioning (since libfko did not change from 2.5 -> 2.5.1),"added 'Release: 2' for libfko RPM versioning (since libfko did not change from 2.5 -> 2.5.1)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1374802040,1374802040,e20586dfe65d9c2f194407d2752bdd981da588e3
e20586dfe65d9c2f194407d2752bdd981da588e3,e20586df,updated ChangeLog.git file to reflect changes from 2.5 -> 2.5.1,"updated ChangeLog.git file to reflect changes from 2.5 -> 2.5.1
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1374799005,1374799005,90841762cf57504018ff4a93c85c0114f8f27bb1
90841762cf57504018ff4a93c85c0114f8f27bb1,90841762,bumped version to 2.5.1,"bumped version to 2.5.1
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1374798817,1374798817,694fb39a85e29128781c01bbdcb1faabfb0df8ec
694fb39a85e29128781c01bbdcb1faabfb0df8ec,694fb39a,[test suite] Bug fix to not run an iptables Rijndael HMAC test on non-Linux systems,"[test suite] Bug fix to not run an iptables Rijndael HMAC test on non-Linux systems
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1374798799,1374798799,22836d9915ddca38c74b73d1823c6e95510fe5a6
22836d9915ddca38c74b73d1823c6e95510fe5a6,22836d99,updated version and release date for 2.5.1,"updated version and release date for 2.5.1
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1374721906,1374721906,246c4da322478cc9e83e00013b440672bd080260
246c4da322478cc9e83e00013b440672bd080260,246c4da3,added 2.5.1 material,"added 2.5.1 material
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1374721480,1374721480,dcb7871d02a196b93b8554fe3c155464fcfdd91b
dcb7871d02a196b93b8554fe3c155464fcfdd91b,dcb7871d,[server] don't print PID file existence warning in daemon mode (suggested by Ilya Tumaykin),"[server] don't print PID file existence warning in daemon mode (suggested by Ilya Tumaykin)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1374721471,1374721471,ea9d6a0fdc56706d0934021cf7ca9a15e5c8d261
ea9d6a0fdc56706d0934021cf7ca9a15e5c8d261,ea9d6a0f,[client] apply patch from Ilya Tumaykin for terminal setting type,"[client] apply patch from Ilya Tumaykin for terminal setting type

This commit also fixes a 'possible use of uninitialized value' warning from gcc for
the old_c_lflag variable.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1374720248,1374720248,5ec4998aaa603b01f607a6da6877a03501a513ac
5ec4998aaa603b01f607a6da6877a03501a513ac,5ec4998a,Reset terminal setting to orignal values after entering keys via stdin,"Reset terminal setting to orignal values after entering keys via stdin
",,,,Damien Stuart,dstuart@dstuart.org,Damien Stuart,dstuart@dstuart.org,1374691088,1374691166,7359acec2a86cabde637c0383b6bc4b6605058cc
7359acec2a86cabde637c0383b6bc4b6605058cc,7359acec,set libfko version to 2.0.0 for the RPM per Damien's recommendation,"set libfko version to 2.0.0 for the RPM per Damien's recommendation
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1374280441,1374280441,11fa1f2f0d9ef8c3f909520e24ccdc18ed09c6fc
11fa1f2f0d9ef8c3f909520e24ccdc18ed09c6fc,11fa1f2f,[libfko] set version-info to 2:0:0 per Damien and Franck's recommendations,"[libfko] set version-info to 2:0:0 per Damien and Franck's recommendations
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1374280418,1374280418,a0ffd0f492509530020096f6320970e2fa98e521
a0ffd0f492509530020096f6320970e2fa98e521,a0ffd0f4,ChangeLog.git file now shows changes since 2.0.4,"ChangeLog.git file now shows changes since 2.0.4
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1374203640,1374203640,65dc33dd9c2cc6e484e94d86e8b23e69cb7dbd56
65dc33dd9c2cc6e484e94d86e8b23e69cb7dbd56,65dc33dd,[client] added --use-hmac to --help output (noticed by Damien),"[client] added --use-hmac to --help output (noticed by Damien)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1374203184,1374203184,35d168cf21d94cdf162521b0d62d62710fd341ae
35d168cf21d94cdf162521b0d62d62710fd341ae,35d168cf,added fwknop-2.5 release date,"added fwknop-2.5 release date
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1374203149,1374203149,3ee8b47870736f96adf6add91532acde8ff377cb
3ee8b47870736f96adf6add91532acde8ff377cb,3ee8b478,[client] fix minor memory leak in getpasswd() routine caught by the test suite in valgrind mode,"[client] fix minor memory leak in getpasswd() routine caught by the test suite in valgrind mode
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1374183025,1374183025,f2d829535b9692a0df01f8b41ec9894c6474b2e1
f2d829535b9692a0df01f8b41ec9894c6474b2e1,f2d82953,[client] fix minor compilation warning about an unused variable,"[client] fix minor compilation warning about an unused variable
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1374120922,1374120922,708e3027f5293f3c7cf7edff48ad3ef73c918809
708e3027f5293f3c7cf7edff48ad3ef73c918809,708e3027,"Revert ""[libfko] Have 'make install' run ldconfig if basic fwknop/fwknopd -h exec fails""","Revert ""[libfko] Have 'make install' run ldconfig if basic fwknop/fwknopd -h exec fails""

This reverts commit f55b89c867ab63aaf69daae0aec0c19f1c52d521.

Damien recommended not having 'make install' run ldconfig since it breaks an RPM
build of fwknop, and most package managers should be doing this step anyway.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1374119514,1374119514,f7a821d0820965a8e4b800744c89018f26da669a
f7a821d0820965a8e4b800744c89018f26da669a,f7a821d0,minor ChangeLog text tweaks and one typo fix,"minor ChangeLog text tweaks and one typo fix
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1374118477,1374118477,4b0f0802eedb1451029aac319ff063182650ee07
4b0f0802eedb1451029aac319ff063182650ee07,4b0f0802,Tweaks to unbreak the windows build: Renamed FD_SET macro to FD_SET_ALT to avoid…,"Tweaks to unbreak the windows build: Renamed FD_SET macro to FD_SET_ALT to avoid conflict with the well-known FD_SET macro. Made the client read password from file descriptor a non-supported function on Windows.
",,,,Damien S. Stuart,dstuart@dstuart.org,Damien S. Stuart,dstuart@dstuart.org,1374115584,1374115584,39213beda75697fa89a9d825d48e40803f1171ff
39213beda75697fa89a9d825d48e40803f1171ff,39213bed,add legacy_iv_long_key2_access.conf file to Makefile.am,"add legacy_iv_long_key2_access.conf file to Makefile.am
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1373838408,1373838408,dac75c0242c988ebe3eafc71c52967c805712bfe
dac75c0242c988ebe3eafc71c52967c805712bfe,dac75c02,[server] restore backwards compatibility for Rijndael keys > 16 bytes in legacy…,"[server] restore backwards compatibility for Rijndael keys > 16 bytes in legacy mode by truncating (upgrading recommended of course)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1373830644,1373830644,510361fa73a9a04ae8553cc3b4bb783aab03fb13
510361fa73a9a04ae8553cc3b4bb783aab03fb13,510361fa,[test suite] account for timestamp differences in iptables rule duplication tests,"[test suite] account for timestamp differences in iptables rule duplication tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1373827083,1373827083,dcf9c99fb5ab245cd363b277aafb240ac07e8125
dcf9c99fb5ab245cd363b277aafb240ac07e8125,dcf9c99f,[server] iptables rule duplication bug fix to look for protocol name with -C…,"[server] iptables rule duplication bug fix to look for protocol name with -C support isn't available
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1373827042,1373827042,44aefd117764c147a23fb3f6bf61c0456f9d0ef8
44aefd117764c147a23fb3f6bf61c0456f9d0ef8,44aefd11,[test suite] bug fix to ensure multiple SPA packets are sent for iptables duplicated rules tests,"[test suite] bug fix to ensure multiple SPA packets are sent for iptables duplicated rules tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1373772178,1373772178,baa964a8cd7bdc61032fe9285ac6c651fd7403a0
baa964a8cd7bdc61032fe9285ac6c651fd7403a0,baa964a8,[server] removed iptables '-C' redirection since 2>&1 is always appended by other macros,"[server] removed iptables '-C' redirection since 2>&1 is always appended by other macros
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1373772149,1373772149,a7de80e66eda7317c428d3c38dd08212553473ce
a7de80e66eda7317c428d3c38dd08212553473ce,a7de80e6,[server] Account for older versions of iptables that don't have -C,"[server] Account for older versions of iptables that don't have -C

This commit updates fwknopd to test for the existance of the iptables '-C'
rule checking functionality since older versions of iptables don't have this.
If it isn't offered by the installed version of iptables, then revert to parsing
fwknop chains to see if iptables rules already exist before adding new rules (to
avoid duplicates).
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1373685770,1373685770,f391b1391dd73faf8e65ff47d31431d6585049cf
f391b1391dd73faf8e65ff47d31431d6585049cf,f391b139,[libfko] apply zero_buf() to stack allocated Rijndael context for encrypt/decrypt,"[libfko] apply zero_buf() to stack allocated Rijndael context for encrypt/decrypt
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1373685698,1373685698,3e8e9f76a07f75d5cb3da7df08ac09e511002f5e
3e8e9f76a07f75d5cb3da7df08ac09e511002f5e,3e8e9f76,minor README typo fixes,"minor README typo fixes
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1373595220,1373595220,96641059064136c828f5a282bba4a289e39b37ce
96641059064136c828f5a282bba4a289e39b37ce,96641059,[server] compile bug fix for pf/ipfw firewall systems,"[server] compile bug fix for pf/ipfw firewall systems
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1373512289,1373512289,e75c10c6e594dcb3c13e5771ed98094d5912b1b0
e75c10c6e594dcb3c13e5771ed98094d5912b1b0,e75c10c6,[libfko] use zero_free_rv - dead code bug fix found by CLANG static analyzer,"[libfko] use zero_free_rv - dead code bug fix found by CLANG static analyzer
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1373512223,1373512223,6c24b1c858194b809c19167c1aeabccd73fd10f5
6c24b1c858194b809c19167c1aeabccd73fd10f5,6c24b1c8,[libfko] always call free() from zero_free() on all non-NULL buf pointers,"[libfko] always call free() from zero_free() on all non-NULL buf pointers
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1373512181,1373512181,a42bfd38c2303ef78a42fcf2e0583560172a86d7
a42bfd38c2303ef78a42fcf2e0583560172a86d7,a42bfd38,[libfko] bug fix to set digest length upon SPA packet decode,"[libfko] bug fix to set digest length upon SPA packet decode

This bug was caught with the fko_wrapper.c multi-call tester running under
valgrind.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1373512063,1373512063,a009ebfde29586e6aa94904a281c756b050f3ba1
a009ebfde29586e6aa94904a281c756b050f3ba1,a009ebfd,[client] minor man page update to state that -a is more secure than -R,"[client] minor man page update to state that -a is more secure than -R
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1373426472,1373426472,3756b831f5ff1db9b3f97647bb93a0e12cc394ae
3756b831f5ff1db9b3f97647bb93a0e12cc394ae,3756b831,simplified zero_free() calls in support of #93,"simplified zero_free() calls in support of #93
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1373422625,1373422625,189a183e1887d9ddb7693184e6784f768234d42b
189a183e1887d9ddb7693184e6784f768234d42b,189a183e,allow zero length to return FKO_SUCCESS from zero_buf() call,"allow zero length to return FKO_SUCCESS from zero_buf() call
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1373420423,1373420423,69760d49c5a5c0e4d3f5279d75c556c82f7d522c
69760d49c5a5c0e4d3f5279d75c556c82f7d522c,69760d49,[libfko] return proper GPG error code upon gpg_decrypt() failure,"[libfko] return proper GPG error code upon gpg_decrypt() failure
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1373419125,1373419125,5915ee72a94ffb2ef4200f1578fd34a0817d0b30
5915ee72a94ffb2ef4200f1578fd34a0817d0b30,5915ee72,[libfko] add ctx initialized check to fko_gpg_errstr(),"[libfko] add ctx initialized check to fko_gpg_errstr()
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1373419086,1373419086,bf2a8d5914f1cc6138e00427ae9c9d825622bed2
bf2a8d5914f1cc6138e00427ae9c9d825622bed2,bf2a8d59,clarified NEWS file to state that fwknop is distributed under the GPL v2,"clarified NEWS file to state that fwknop is distributed under the GPL v2
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1373419023,1373419023,5e3ec3b61117d116695e895f475d2a4e9fc2dc78
5e3ec3b61117d116695e895f475d2a4e9fc2dc78,5e3ec3b6,[client] in '-M legacy' mode truncate the key to 16 bytes,"[client] in '-M legacy' mode truncate the key to 16 bytes

This change helps to maintain backwards compatibility with older fwknopd daemons
that cannot handle Rijndael keys greater than 16 bytes.  Blair Zajac suggested
printing a warning in '-M legacy' mode when keys are attempted > 16 bytes long,
and this warning is included in this commit.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1373418787,1373418787,1b524f8104fad766176f99ee6530988e19dd94fb
1b524f8104fad766176f99ee6530988e19dd94fb,1b524f81,[client] make legacy encryption mode and HMAC usage mutually exclusive,"[client] make legacy encryption mode and HMAC usage mutually exclusive
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1373339217,1373339217,24c4c5e208bcc61734c61b6b07546c981963685b
24c4c5e208bcc61734c61b6b07546c981963685b,24c4c5e2,continued zeroing out of sensitive data buffers in support of issue #93,"continued zeroing out of sensitive data buffers in support of issue #93
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1373338818,1373338818,1e77f6ed53b0d7ee1ccd1fbdb6d4f2f8579ec608
1e77f6ed53b0d7ee1ccd1fbdb6d4f2f8579ec608,1e77f6ed,continued changes to zero out sensitive information before exit (#93),"continued changes to zero out sensitive information before exit (#93)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1373250750,1373250750,6f6f7b8de28ab8ef42601256a28134dd80f82f48
6f6f7b8de28ab8ef42601256a28134dd80f82f48,6f6f7b8d,[server] update fw_config_init() to allow access stanza key information to be…,"[server] update fw_config_init() to allow access stanza key information to be zeroed out upon error (#93)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1373137509,1373137509,cb61fd886d8559f9754392c7934f68b9f22ce2da
cb61fd886d8559f9754392c7934f68b9f22ce2da,cb61fd88,[server] minor header formating update,"[server] minor header formating update
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1373136784,1373136784,4ff518d54a3b64457defe41328a65664b0c63fe0
4ff518d54a3b64457defe41328a65664b0c63fe0,4ff518d5,[server] zero out access stanza key information before exit (in support of #93),"[server] zero out access stanza key information before exit (in support of #93)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1373136766,1373136766,ff8a3ef3a4a3b15f2f60b71f649733c3153a5763
ff8a3ef3a4a3b15f2f60b71f649733c3153a5763,ff8a3ef3,Another change.,"Another change.
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1372624721,1372624721,9d7feb52f6db0d6c67691909a93ebf96317c8620
9d7feb52f6db0d6c67691909a93ebf96317c8620,9d7feb52,Merge remote-tracking branch 'upstream/master',"Merge remote-tracking branch 'upstream/master'
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1372623754,1372623754,"c2e1a00154836f4c05aa8d9c5356d722c6db206a,ce10734c3a27257a83515b15538f04ddc57303a7"
c2e1a00154836f4c05aa8d9c5356d722c6db206a,c2e1a001,s/GNU Public/GNU General Public/g,"s/GNU Public/GNU General Public/g
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1372623682,1372623682,47a7ffe22bc82f8f60867979842d6147b0bc4bbf
ce10734c3a27257a83515b15538f04ddc57303a7,ce10734c,Added LICENSE section and a link to the fwknop tutorial,"Added LICENSE section and a link to the fwknop tutorial
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1372623149,1372623149,a792e8bf4eacf59aaefb12281241cd563cc33ebe
a792e8bf4eacf59aaefb12281241cd563cc33ebe,a792e8bf,minor man page documentation updates (added twitter reference),"minor man page documentation updates (added twitter reference)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1372622101,1372622101,f1e946cf02c5354b173f2dd5c74f6b8549a93202
f1e946cf02c5354b173f2dd5c74f6b8549a93202,f1e946cf,updated README to include the introduction from the fwknop man page,"updated README to include the introduction from the fwknop man page
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1372621967,1372621967,f55b89c867ab63aaf69daae0aec0c19f1c52d521
f55b89c867ab63aaf69daae0aec0c19f1c52d521,f55b89c8,[libfko] Have 'make install' run ldconfig if basic fwknop/fwknopd -h exec fails,"[libfko] Have 'make install' run ldconfig if basic fwknop/fwknopd -h exec fails

This commit makes sure that if running 'fwknop -h' or 'fwknopd -h' appears to
fail then run ldconfig under the 'make install' step.  George Herlin reported
that on some systems ldconfig was not automatically getting executed via the
autoconf Makefile config, and since fwknop/fwknopd depend on a shared library
(libfko), ldconfig needs to be executed by 'make install' if it wasn't already
done.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1372618212,1372618212,8ed088051e461c480b8b534a3830f0371a56e18a
8ed088051e461c480b8b534a3830f0371a56e18a,8ed08805,[libfko] fix a few 'Overfull \hbox' errors in libfko .pdf generation,"[libfko] fix a few 'Overfull \hbox' errors in libfko .pdf generation
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1372516747,1372516747,5a4a8a5baa725c59ad3764f2eed563a1202805f1
5a4a8a5baa725c59ad3764f2eed563a1202805f1,5a4a8a5b,[server] convert several LOG_INFO messages to LOG_DEBUG,"[server] convert several LOG_INFO messages to LOG_DEBUG
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1372385739,1372385739,7eacb5ba5a0b1b4d094de5ce831624d20353c7e2
7eacb5ba5a0b1b4d094de5ce831624d20353c7e2,7eacb5ba,Merge remote-tracking branch 'fjoncourt/master',"Merge remote-tracking branch 'fjoncourt/master'
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1372384558,1372384558,"5a0700eb469d86f659a8eae0bc7cd616508751e3,47a7ffe22bc82f8f60867979842d6147b0bc4bbf"
5a0700eb469d86f659a8eae0bc7cd616508751e3,5a0700eb,* Mentionned the VERBOSE variable in fwknopd.conf.,"* Mentionned the VERBOSE variable in fwknopd.conf.
* Made sure the -v command line switch overrides the value of the
  VERBOSE variable set in an fwknopd.conf file.
",,,,Franck Joncourt,franck@debian.org,Michael Rash,mbr@cipherdyne.org,1372190694,1372383578,10fdbb509ccaa8dca454f2e1a19dfa93d3951c86
10fdbb509ccaa8dca454f2e1a19dfa93d3951c86,10fdbb50,s/VERBOSITY/VERBOSE/g on the server side for consistency purposes.,"s/VERBOSITY/VERBOSE/g on the server side for consistency purposes.
",,,,Franck Joncourt,franck@debian.org,Michael Rash,mbr@cipherdyne.org,1372190213,1372383578,7fde3949daa0926b402f3184589270d1c8d64041
7fde3949daa0926b402f3184589270d1c8d64041,7fde3949,Fixed use of --verbose command line switch.,"Fixed use of --verbose command line switch.

Set default log verbosity to LOG_INFO in the log_msg driver.
",,,,Franck Joncourt,franck@debian.org,Michael Rash,mbr@cipherdyne.org,1372108550,1372383578,5db1eeb2686030ee6fa367b983ef916561c4dc77
5db1eeb2686030ee6fa367b983ef916561c4dc77,5db1eeb2,Interim commit to add a VERBOSE variable to fwknopd.,"Interim commit to add a VERBOSE variable to fwknopd.
",,,,Franck Joncourt,franck@debian.org,Michael Rash,mbr@cipherdyne.org,1371763984,1372383578,25058f9d130dbc7ecbc415031a982b569adab50f
25058f9d130dbc7ecbc415031a982b569adab50f,25058f9d,[test suite] bug fix for rotate digest cache tests,"[test suite] bug fix for rotate digest cache tests

When the test suite is executed with '--include ""rotate""' then previous tests
aren't executed in order to create a new digest cache file.  So, when init() is
called and a clean slate is established, there is nothing to rotate away.  This
change creates the default digest cache data (comment line only) if the file
doesn't already exist for the rotate tests.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1372382809,1372382809,1a9c8914df18c6cc0ac43435b1ba645c01c634bd
1a9c8914df18c6cc0ac43435b1ba645c01c634bd,1a9c8914,bumped VERSION file to fwknop-2.5,"bumped VERSION file to fwknop-2.5
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1372382791,1372382791,37b624ac8b45093096492555ecfc3541ef462891
37b624ac8b45093096492555ecfc3541ef462891,37b624ac,"bump version to 2.5, minor fwknopd -S exit status update","bump version to 2.5, minor fwknopd -S exit status update

This commit bumps the fwknop version to 2.5 and sets the libfko version to 2.0 to
signal incompatibility with older libfko versions.  Backwards compatibility is
maintained in SPA packet construction, but function prototypes in libfko-2.0 are
no longer compatible with older versions.

This commit also returns non-zero exit status under 'fwknopd --status' if there
is no existing fwknopd process.  This is better than always exiting with a zero
status regardless of whether fwknopd is already running or not, and adds a level
of scriptability to --status usage.  This change was suggested by George Herlin.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1372382470,1372382470,2812897666092abb2887aa4d7012535629dbf17f
47a7ffe22bc82f8f60867979842d6147b0bc4bbf,47a7ffe2,Merge remote-tracking branch 'upstream/master',"Merge remote-tracking branch 'upstream/master'
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1372194208,1372194208,"5413d1c48c9e37adada0b7c74018d7da5746d188,d125146c37de1e31e1a59bc133c64c59ea22ea1e"
5413d1c48c9e37adada0b7c74018d7da5746d188,5413d1c4,* Mentionned the VERBOSE variable in fwknopd.conf.,"* Mentionned the VERBOSE variable in fwknopd.conf.
* Made sure the -v command line switch overrides the value of the
  VERBOSE variable set in an fwknopd.conf file.
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1372190694,1372190694,4525a7e57c1a9e0880e30c69688c569c9ab1ed45
4525a7e57c1a9e0880e30c69688c569c9ab1ed45,4525a7e5,s/VERBOSITY/VERBOSE/g on the server side for consistency purposes.,"s/VERBOSITY/VERBOSE/g on the server side for consistency purposes.
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1372190213,1372190213,07f96f86f8e61d7d57b1675d465d1b0d24ad09b0
07f96f86f8e61d7d57b1675d465d1b0d24ad09b0,07f96f86,Fixed use of --verbose command line switch.,"Fixed use of --verbose command line switch.

Set default log verbosity to LOG_INFO in the log_msg driver.
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1372108550,1372108550,afd6f6b23c1f1b8906ae4eebe87f110a602c9d76
2812897666092abb2887aa4d7012535629dbf17f,28128976,ChangeLog 2.5 updates,"ChangeLog 2.5 updates
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1371865043,1371865043,d125146c37de1e31e1a59bc133c64c59ea22ea1e
d125146c37de1e31e1a59bc133c64c59ea22ea1e,d125146c,[server] minor --help update to include cipherdyne.org URL,"[server] minor --help update to include cipherdyne.org URL
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1371863483,1371863483,371036bad0974e1968615be1ddabaa2cbf8405cd
371036bad0974e1968615be1ddabaa2cbf8405cd,371036ba,[client] re-use encryption/HMAC keys in --test mode,"[client] re-use encryption/HMAC keys in --test mode

The client --test mode decrypts SPA packet data as a final step, but get_keys()
was being called to re-acquire the encryption/HMAC keys.  This commit reuses
the same keys that were supplied for SPA packet encryption/authentication
because the most important code to test is not get_keys() but rather libfko
encryption/decryption/authentication operations.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1371863318,1371863321,6b132862fdb7503fba53c5da61992229a5f7db60
6b132862fdb7503fba53c5da61992229a5f7db60,6b132862,[client] minor man page backwards compatibility wording tweak,"[client] minor man page backwards compatibility wording tweak
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1371780749,1371780749,047513710aec6d20dd9f0d030854267c1db9f0ef
047513710aec6d20dd9f0d030854267c1db9f0ef,04751371,[client] add GPG_NO_SIGNING_PW to --save-rc-stanza functionality,"[client] add GPG_NO_SIGNING_PW to --save-rc-stanza functionality
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1371780702,1371780702,1d17c4093bbd0ae15808a8c3ffbf9f9811e31071
afd6f6b23c1f1b8906ae4eebe87f110a602c9d76,afd6f6b2,Interim commit to add a VERBOSE variable to fwknopd.,"Interim commit to add a VERBOSE variable to fwknopd.
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1371763984,1371763984,1d17c4093bbd0ae15808a8c3ffbf9f9811e31071
1d17c4093bbd0ae15808a8c3ffbf9f9811e31071,1d17c409,added fwknoprc gpg signing pw test conf files to Makefile.am,"added fwknoprc gpg signing pw test conf files to Makefile.am
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1371700024,1371700024,68acbaadc407b10d973f1157f9638088d620ea98
68acbaadc407b10d973f1157f9638088d620ea98,68acbaad,remove newline chars from log_msg() calls,"remove newline chars from log_msg() calls
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1371699778,1371699778,13626a2a749046771268dc5b1be3431fc03ffa7d
13626a2a749046771268dc5b1be3431fc03ffa7d,13626a2a,[test suite] added tests for KEY synonym GPG_SIGNING_PW,"[test suite] added tests for KEY synonym GPG_SIGNING_PW
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1371699697,1371699697,54c26ede6e250e19667aff6f9c4d6da5bff31d7e
54c26ede6e250e19667aff6f9c4d6da5bff31d7e,54c26ede,[libfko] defensive coding update to quiet minor CLANG static analyzer false positives,"[libfko] defensive coding update to quiet minor CLANG static analyzer false positives
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1371699517,1371699517,e3a2289d70f79b0527bad40bc674090cdfeee9d0
e3a2289d70f79b0527bad40bc674090cdfeee9d0,e3a2289d,[client] man page update to include GPG_SIGNING_PW synonym for KEY variable in GPG mode,"[client] man page update to include GPG_SIGNING_PW synonym for KEY variable in GPG mode
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1371699439,1371699439,a2d16f8c5ee53360d95579c7640a0ff3967d4a69
a2d16f8c5ee53360d95579c7640a0ff3967d4a69,a2d16f8c,[test suite] minor permission modification update to use %cf hash,"[test suite] minor permission modification update to use %cf hash
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1371611562,1371652681,13173343ee0a4797abfba868117fe08fe3a10b92
13173343ee0a4797abfba868117fe08fe3a10b92,13173343,[client] add GPG_ALLOW_NO_SIGNING_PW and --gpg-no-signing-pw,"[client] add GPG_ALLOW_NO_SIGNING_PW and --gpg-no-signing-pw

This change brings similar functionality to the client as the GPG_ALLOW_NO_PW
keyword in the server access.conf file.  Although this option is less likely
to be used than the analogous server functionality, it stands to reason that
the client should offer this feature.  The test suite has also been updated to
not use the --get-key option for the 'no password' GPG tests.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1371610282,1371610282,21dc87ace5f34637e4fb130910793694a1c39d1f
21dc87ace5f34637e4fb130910793694a1c39d1f,21dc87ac,[test suite] bug fix for missing file permission mods noticed by Franck,"[test suite] bug fix for missing file permission mods noticed by Franck
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1371610210,1371610210,2014cf767a4f2aa9e87e0b4de47a1b60fa257e3d
2014cf767a4f2aa9e87e0b4de47a1b60fa257e3d,2014cf76,Merge remote-tracking branch 'fjoncourt/master',"Merge remote-tracking branch 'fjoncourt/master'

New strategy for log_module from Franck, closes #89
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1371610113,1371610113,"afbf6d51c02f2148a96d20f447ede9c27bb0dcfa,5667d8e151397955e25817f47dc42463a6397225"
5667d8e151397955e25817f47dc42463a6397225,5667d8e1,Fixed default verbosity to LOG_NOTICE rather than LOG_WARNING.,"Fixed default verbosity to LOG_NOTICE rather than LOG_WARNING.
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1371586361,1371586361,2cc1ac65bc05d3a7fb8ffae60f8556e74665bc19
2cc1ac65bc05d3a7fb8ffae60f8556e74665bc19,2cc1ac65,Replaced some uses of *fprintf(stderr* by *log_msg(LOG_ERR* in config_init.c,"Replaced some uses of *fprintf(stderr* by *log_msg(LOG_ERR* in config_init.c
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1371465067,1371465067,f418bc21872e7c34651bb4c4d2e3f6efccf395a1
f418bc21872e7c34651bb4c4d2e3f6efccf395a1,f418bc21,Merge remote-tracking branch 'upstream/master',"Merge remote-tracking branch 'upstream/master'
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1371414506,1371414506,"57cf6dc4727703dedb3ff9ce489ce43201896ea2,b0c9ed52ba32da6e9514f74a4037f03c3539f793"
57cf6dc4727703dedb3ff9ce489ce43201896ea2,57cf6dc4,s/fprintf(stderr/log_msg(LOG_ERR/,"s/fprintf(stderr/log_msg(LOG_ERR/
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1371413801,1371413801,84f870494941aed8549e302f2736d46a4f3eef37
84f870494941aed8549e302f2736d46a4f3eef37,84f87049,Fix static_log_flag in the log_module.,"Fix static_log_flag in the log_module.
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1371410677,1371410677,935565cd90d1cf0f8f2c2e9a435ec4e5b500348b
935565cd90d1cf0f8f2c2e9a435ec4e5b500348b,935565cd,Fix log_msg().,"Fix log_msg().

  * Added new constant LOG_WITHOUT_SYSLOG to be able to print messages to
    stderr only.
  * Renamed LOG_STDERR_MASK as LOG_VERBOSITY_MASK for a better understanding.
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1371410185,1371410185,b48295c69b2d5396689c4bf6d28a2cd70393d084
b48295c69b2d5396689c4bf6d28a2cd70393d084,b48295c6,Interim commit to make the log_msg strategy.,"Interim commit to make the log_msg strategy.

  * log_msg : New log_set_verbosity(): It sets the default verbosity for the
    log module according to the verbose option set by the user through the command
    line.
  * Remove useless checks of the verbose option when log_msg() is invoked.
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1371402726,1371402726,8155cf33315d1bb4a8827ed87d8e12a226c0bec6
afbf6d51c02f2148a96d20f447ede9c27bb0dcfa,afbf6d51,[client] minor man page backwards compatibility update to include better examples,"[client] minor man page backwards compatibility update to include better examples
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1371385649,1371385649,b0c9ed52ba32da6e9514f74a4037f03c3539f793
b0c9ed52ba32da6e9514f74a4037f03c3539f793,b0c9ed52,"[test suite] bug fix for proper replay attack regex searching of test output,…","[test suite] bug fix for proper replay attack regex searching of test output, added several replay attack tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1371345639,1371345639,8155cf33315d1bb4a8827ed87d8e12a226c0bec6
8155cf33315d1bb4a8827ed87d8e12a226c0bec6,8155cf33,[server] ensure 'Rule added' log messages are generated when create_rule() is called,"[server] ensure 'Rule added' log messages are generated when create_rule() is called
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1371173039,1371173039,c23d2d644f1ef116822fa418a2971a55c87210a7
c23d2d644f1ef116822fa418a2971a55c87210a7,c23d2d64,minor typo and format fixes,"minor typo and format fixes
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1371172978,1371172978,1341601a663725896324aeb30d90e519e0648b71
1341601a663725896324aeb30d90e519e0648b71,1341601a,[server] when log_msg() is called fflush() output to stderr (when stderr is used),"[server] when log_msg() is called fflush() output to stderr (when stderr is used)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1371172900,1371172900,48b2213780fda6bc02b76bd013ae30dd56030165
48b2213780fda6bc02b76bd013ae30dd56030165,48b22137,[client] truncate args save file with open(),"[client] truncate args save file with open()
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1371172811,1371172811,fc8a74131bbb804a73a9b6e49371e7393459d8c5
fc8a74131bbb804a73a9b6e49371e7393459d8c5,fc8a7413,[test suite] minor OS compatibility test re-order,"[test suite] minor OS compatibility test re-order
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1371093019,1371093019,ea0ecc8cbe9b02e481fbcabe80181ee804de0265
ea0ecc8cbe9b02e481fbcabe80181ee804de0265,ea0ecc8c,[libfko] BYTEORDER macro update to 4321 or 1234 if all other methods fail,"[libfko] BYTEORDER macro update to 4321 or 1234 if all other methods fail
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1371092995,1371092995,12eab497c2ddc443cecf3248f75970ad47651f04
12eab497c2ddc443cecf3248f75970ad47651f04,12eab497,[test suite] added a few OS compatibility tests,"[test suite] added a few OS compatibility tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1371002483,1371002483,ef8aa2e471548126ee921aff7328385dd7e1bbc0
ef8aa2e471548126ee921aff7328385dd7e1bbc0,ef8aa2e4,[test suite] minor bug fix to add 'iptables' to custom chain test titles,"[test suite] minor bug fix to add 'iptables' to custom chain test titles
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1370918335,1370918335,978ddda33773f7be96e7898fa5915ad9cf24ae9a
978ddda33773f7be96e7898fa5915ad9cf24ae9a,978ddda3,bump version to 2.5-pre2,"bump version to 2.5-pre2
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1370918088,1370918088,ffeb285f7bf6856b2ce1c2f5bdbec0f06322f384
ffeb285f7bf6856b2ce1c2f5bdbec0f06322f384,ffeb285f,[libfko] handle endian detection on PPC (and other) systems,"[libfko] handle endian detection on PPC (and other) systems

Blair Zajac contributed a patch to handle endian detection on PPC systems
and issue a compile time error if it cannot be determined.  This commit affects
the BYTEORDER macro.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1370917677,1370917680,5c7f5f1b0ba7d5241edb944c3bb024d610839c8b
5c7f5f1b0ba7d5241edb944c3bb024d610839c8b,5c7f5f1b,[libfko] use local strndup() if autoconf HAVE_STRNDUP not defined,"[libfko] use local strndup() if autoconf HAVE_STRNDUP not defined

Blair Zajac reported that strndup() is not available on some PPC systems, so
this commit switches to use the local lib/fko_util.c implementation similarly
to what is done for Windows systems.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1370915126,1370915131,63ecfd54f280fe4888af3777bc05249e92561226
63ecfd54f280fe4888af3777bc05249e92561226,63ecfd54,added missing test suite conf/ files to Makefile.am,"added missing test suite conf/ files to Makefile.am
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1370913712,1370913712,f9df2f6ecaa3bb8b63139ac77e26f9db9fd43011
f9df2f6ecaa3bb8b63139ac77e26f9db9fd43011,f9df2f6e,[test suite] additional --save-rc-stanza tests for vars not printed in fwknop client decode output,"[test suite] additional --save-rc-stanza tests for vars not printed in fwknop client decode output
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1370913517,1370913517,0c19e5170a9ec5d2f0dfd943e05df514eb26684b
0c19e5170a9ec5d2f0dfd943e05df514eb26684b,0c19e517,[test suite] added backwards compatibility tests with a dual usage key in access.conf,"[test suite] added backwards compatibility tests with a dual usage key in access.conf
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1370913393,1370913393,a3e06966b51b5a934af40351e4dd647201e31eb4
a3e06966b51b5a934af40351e4dd647201e31eb4,a3e06966,[client] minor man page wording update for backwards compatibility section,"[client] minor man page wording update for backwards compatibility section
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1370913249,1370913249,46dadecf5a0cc4b8722131dc71a0a148158ab7a3
46dadecf5a0cc4b8722131dc71a0a148158ab7a3,46dadecf,[client] minor man page tweak to use rc VERBOSE bool value (which is the default now),"[client] minor man page tweak to use rc VERBOSE bool value (which is the default now)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1370808046,1370808046,056fd44c2416676d055e0232af22abfd59a8abbb
056fd44c2416676d055e0232af22abfd59a8abbb,056fd44c,"[commit] default --verbose rc handling to bool Y/N values, but allow integers…","[commit] default --verbose rc handling to bool Y/N values, but allow integers too when --verbose is given multiple times
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1370807902,1370807902,dbfa2579a75ec488b538b7df49440ff9d59a2b88
dbfa2579a75ec488b538b7df49440ff9d59a2b88,dbfa2579,[client] minor man page tweak,"[client] minor man page tweak
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1370807836,1370807836,88e1e0e09951122ce8749659c5381a4ec9c80cdc
88e1e0e09951122ce8749659c5381a4ec9c80cdc,88e1e0e0,"[test suite] added tests for setting gpg recipient, signer, and homedir via the client rc file","[test suite] added tests for setting gpg recipient, signer, and homedir via the client rc file
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1370806039,1370806039,ac587f3c6387db6bfcd051ea031dbc007278fcca
ac587f3c6387db6bfcd051ea031dbc007278fcca,ac587f3c,Merge branch 'master' of github.com:mrash/fwknop,"Merge branch 'master' of github.com:mrash/fwknop
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1370802809,1370802809,"7a1bdea5140de8791d22125fca8a5b6eb50619ec,3d688a5a0801ce82624bdd54f5532ce844caa44a"
7a1bdea5140de8791d22125fca8a5b6eb50619ec,7a1bdea5,[server] fix 'Use of untrusted string value' bug found by Coverity,"[server] fix 'Use of untrusted string value' bug found by Coverity

This commit changes iptables policy parsing to re-use rule_exists() for fwknop
jump rule detection instead of using sscanf() against iptables policy list
output.  Also, fwknop jump rules are now deleted from iptables policies in a
loop to ensure all are removed even if there are duplicates (even though this
should not happen under normal circumstances anyway).
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1370802497,1370802497,f491c4169758a400b70ed5ccfd997a36354fe75f
3d688a5a0801ce82624bdd54f5532ce844caa44a,3d688a5a,Merge pull request #87 from fjoncourt/master,"Merge pull request #87 from fjoncourt/master

Fwknop manpage update (fd and stdin command)",,,,Michael Rash,michael.rash@gmail.com,Michael Rash,michael.rash@gmail.com,1370575375,1370575375,"8b629848875fbc8f2fe84e7ddd259f15a7c59d28,e515ba45feae4e562e3a62a3595f4382820751c9"
f491c4169758a400b70ed5ccfd997a36354fe75f,f491c416,[server] minor addition of IPT_CHK_RULE_ARGS macro for iptables -C usage,"[server] minor addition of IPT_CHK_RULE_ARGS macro for iptables -C usage
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1370486022,1370568548,866e0a95d51369f8cfc9c85baa9964b9c443adbf
866e0a95d51369f8cfc9c85baa9964b9c443adbf,866e0a95,[server] minor bug fix to switch iptables comment match check to built-in INPUT chain,"[server] minor bug fix to switch iptables comment match check to built-in INPUT chain
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1370483211,1370483211,17974a1c05c4ffa3ec76c60582d407ee18c7f93a
e515ba45feae4e562e3a62a3595f4382820751c9,e515ba45,Merge remote-tracking branch 'upstream/master',"Merge remote-tracking branch 'upstream/master'

Conflicts:
	client/fwknop.8.in
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1370461661,1370461661,"7dec26852a9cf63ef686332df9aede7e12695f09,8b629848875fbc8f2fe84e7ddd259f15a7c59d28"
7dec26852a9cf63ef686332df9aede7e12695f09,7dec2685,Updated fwknop manpage to document both the use of stdin and fd commands.,"Updated fwknop manpage to document both the use of stdin and fd commands.
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1370461106,1370461106,583e1e02c77ae975c1b5bee8926206de78f66650
17974a1c05c4ffa3ec76c60582d407ee18c7f93a,17974a1c,[server] comment additions regarding Coverity low priority TOCTOU issues,"[server] comment additions regarding Coverity low priority TOCTOU issues
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1370398679,1370398679,59eb7fcf0f0e1b1e305eca9f41a978a14872b133
59eb7fcf0f0e1b1e305eca9f41a978a14872b133,59eb7fcf,[extras] update spa-entropy.pl script to point fwknop client in gpg mode to the no-pw homedir,"[extras] update spa-entropy.pl script to point fwknop client in gpg mode to the no-pw homedir
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1370395035,1370395035,8b629848875fbc8f2fe84e7ddd259f15a7c59d28
8b629848875fbc8f2fe84e7ddd259f15a7c59d28,8b629848,Merge branch 'gpgme_autoconf_macro',"Merge branch 'gpgme_autoconf_macro'

This commit adds a new m4/gpgme.m4 to allow autogen.sh to work properly when
libgpgme is not installed.  Closes #72.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1370311166,1370311166,"7c4beabea0c4be58d2e9b30bb27353cc0949df40,48a3f7a1797c557aa7babf13c7a2e5188016bb7b"
7c4beabea0c4be58d2e9b30bb27353cc0949df40,7c4beabe,a few HMAC doc updates to the libfko.texi file,"a few HMAC doc updates to the libfko.texi file
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1370310329,1370310329,69ba2d7a06556033e35cc0df5928bae39e1117d0
69ba2d7a06556033e35cc0df5928bae39e1117d0,69ba2d7a,"fko-wrapper update to print fko_errstr() text, and to have one successful HMAC cycle","fko-wrapper update to print fko_errstr() text, and to have one successful HMAC cycle
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1370307280,1370307280,66399fed1a47dfac0af636cfcdde92c1aa68eb4b
66399fed1a47dfac0af636cfcdde92c1aa68eb4b,66399fed,Merge remote-tracking branch 'fjoncourt/master',"Merge remote-tracking branch 'fjoncourt/master'

Closes #74 - allows a passphrase to be read from STDIN or from a file descriptor
via --fd.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1370228063,1370228063,"e7716b49c6318fd242e25ddc7620560bfc6af9e2,583e1e02c77ae975c1b5bee8926206de78f66650"
e7716b49c6318fd242e25ddc7620560bfc6af9e2,e7716b49,[test suite] minor bug fix to include the new legacy long key file in Makefile.am,"[test suite] minor bug fix to include the new legacy long key file in Makefile.am
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1370225334,1370225334,164888e075a671d3df6185b0e2b67ceb0f166518
164888e075a671d3df6185b0e2b67ceb0f166518,164888e0,[test suite] added backwards compatibility test for truncated keys longer > 16 chars,"[test suite] added backwards compatibility test for truncated keys longer > 16 chars
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1370222359,1370222359,2874205d05c7d51e38b653746f87760f6fd4bd7a
583e1e02c77ae975c1b5bee8926206de78f66650,583e1e02,Merge remote-tracking branch 'upstream/master',"Merge remote-tracking branch 'upstream/master'

Conflicts:
	client/config_init.c
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1370202865,1370202865,"9fce10abd8d37bc1bd58dfda05b82450d5ff343e,1c8d247887cae8979f7381b5808aa2b4e50e8b07"
9fce10abd8d37bc1bd58dfda05b82450d5ff343e,9fce10ab,Adding support for reading encryption/key password from a file descriptor.,"Adding support for reading encryption/key password from a file descriptor.

 * Added tests to the test suite.
 * Updated the usage message.
 * Fixed the password functions.

reference : mrash/fwknop#74
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1370201777,1370201777,f3af0d48c5806c89fbc3a5ad35fe5dfabde6f645
2874205d05c7d51e38b653746f87760f6fd4bd7a,2874205d,started on libfko.texi function prototype and FKO error code documentation updates,"started on libfko.texi function prototype and FKO error code documentation updates
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1370199037,1370199037,491e25a6bdc4be4058eb79d4af17d92d3ad19bd4
491e25a6bdc4be4058eb79d4af17d92d3ad19bd4,491e25a6,restored the NEWS file since autoconf seems to need it,"restored the NEWS file since autoconf seems to need it
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1370197777,1370197777,382099e85aa0ca18b2d52ca422ac3faa819e4999
382099e85aa0ca18b2d52ca422ac3faa819e4999,382099e8,"Updated copyright dates, removed NEWS file in favor of the ChangeLog","Updated copyright dates, removed NEWS file in favor of the ChangeLog
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1370196421,1370196421,1b41e606a7cd69c7a66da37c3aa78806a8f9efe5
1b41e606a7cd69c7a66da37c3aa78806a8f9efe5,1b41e606,Added backwards compatibility section to the client man page,"Added backwards compatibility section to the client man page

Added backwards compatibility section and new material on a 'quick start'
subsection for the EXAMPLES section.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1370195485,1370195485,1c8d247887cae8979f7381b5808aa2b4e50e8b07
1c8d247887cae8979f7381b5808aa2b4e50e8b07,1c8d2478,ChangeLog update to mention the constant_runtime_cmp() change,"ChangeLog update to mention the constant_runtime_cmp() change
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1370140229,1370140229,af88af3e512c3b61b6f1a8bf2a3657df44ae92ad
af88af3e512c3b61b6f1a8bf2a3657df44ae92ad,af88af3e,Merge branch 'hmac_timing_bug_fix',"Merge branch 'hmac_timing_bug_fix'

Fixes #85
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1370139815,1370139815,"b95292ef906df0310728c7455c2599711fae1b7d,54872acfc34542d4ab800d4126a153854228cf11"
b95292ef906df0310728c7455c2599711fae1b7d,b95292ef,added fwknopd man page blurb for the ENABLE_PCAP_ANY_DIRECTION variable,"added fwknopd man page blurb for the ENABLE_PCAP_ANY_DIRECTION variable
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1370139032,1370139032,0f0f73636f1a4c9292f01b1a2669e73984ec4d20
54872acfc34542d4ab800d4126a153854228cf11,54872acf,Convert strncmp() calls to constant_runtime_cmp() at various places,"Convert strncmp() calls to constant_runtime_cmp() at various places

This commit is a follow up to Ryman's report (#85) of a potential timing attack
that could be leveraged against fwknop when strncmp() is used to compare HMAC
digests.  All strncmp() calls that do similar things have been replaced with a
new constant_runtime_cmp() function that mitigates this problem.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1370138145,1370138145,6706c539023f9a2dec1aed94f6e18ae1e7877c84
f3af0d48c5806c89fbc3a5ad35fe5dfabde6f645,f3af0d48,Interim commit to be able to load key from file descriptor (fd 0 for example).,"Interim commit to be able to load key from file descriptor (fd 0 for example).
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1370121296,1370121296,05585cab8a916eb734108fd93f32865b5ae8f8fd
6706c539023f9a2dec1aed94f6e18ae1e7877c84,6706c539,[libfko] HMAC comparison timing bug fix,"[libfko] HMAC comparison timing bug fix

Ryman reported a timing attack bug in the HMAC comparison operation (#85) and
suggested a fix derived from YaSSL:
http://www.mail-archive.com/debian-bugs-rc@lists.debian.org/msg320402.html
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1370092157,1370092157,0f0f73636f1a4c9292f01b1a2669e73984ec4d20
0f0f73636f1a4c9292f01b1a2669e73984ec4d20,0f0f7363,[server] minor update to rename PCAP_ANY_DIRECTION -> ENABLE_PCAP_ANY_DIRECTION,"[server] minor update to rename PCAP_ANY_DIRECTION -> ENABLE_PCAP_ANY_DIRECTION
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1370056788,1370056788,9b2cd9e2e50ebbaed18e5cc86d302e3bfeb65b14
9b2cd9e2e50ebbaed18e5cc86d302e3bfeb65b14,9b2cd9e2,[client] allow -D to be used in --save-rc-stanza mode if -n is not given,"[client] allow -D to be used in --save-rc-stanza mode if -n is not given

This change simplifies the fwknop client usage by allowing the -D argument to
be used as the stanza name if -n is not also specified in --save-rc-stanza
mode.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1370055707,1370055707,32a6d05cdba45ac2f007450df6193ec9d3259548
32a6d05cdba45ac2f007450df6193ec9d3259548,32a6d05c,added HMAC digests section to libfko info doc,"added HMAC digests section to libfko info doc
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1370054826,1370054826,9cbb80d434eec1d90e40f0954fbe6be8cf9f69f1
9cbb80d434eec1d90e40f0954fbe6be8cf9f69f1,9cbb80d4,update man page in client/server directories to the latest,"update man page in client/server directories to the latest
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1370050609,1370050609,b4171fe90cd0198d8fc84e21ab8ddeb52139e5be
b4171fe90cd0198d8fc84e21ab8ddeb52139e5be,b4171fe9,[test suite] minor update to reduce logging noise in valgrind comparison test,"[test suite] minor update to reduce logging noise in valgrind comparison test
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1369968629,1369968629,b5c81468232ca5b171611af3e09fb418298054d1
b5c81468232ca5b171611af3e09fb418298054d1,b5c81468,minor configure.ac typo fix for --help output,"minor configure.ac typo fix for --help output
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1369968133,1369968133,1e775350682b906d4c96e1a1a31f41dd5d578779
1e775350682b906d4c96e1a1a31f41dd5d578779,1e775350,minor documentation updates,"minor documentation updates
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1369967169,1369967169,0504627c2e2fd06ac94c7cdd823f82b22e4354c2
0504627c2e2fd06ac94c7cdd823f82b22e4354c2,0504627c,[client] don't print keys to stdout in --save-rc-stanza --key-gen mode,"[client] don't print keys to stdout in --save-rc-stanza --key-gen mode

This is a minor commit to not print keys to stdout when both --save-rc-stanza
and --key-gen are set on the command line.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1369965791,1369965791,0001b37f44f3e61af8cab32cdc378d84932bacf7
0001b37f44f3e61af8cab32cdc378d84932bacf7,0001b37f,Merge remote-tracking branch 'fjoncourt/save_rc_stanza',"Merge remote-tracking branch 'fjoncourt/save_rc_stanza'

This set of fixes from Franck allows for much better --save-rc-stanza
functionality - new SPA keys can automatically be saved to the fwknoprc
file when --key-gen and --save-rc-stanza are given, keys aren't overwritten
upon updating the arguments for an existing stanza, and more.

Conflicts:
	client/config_init.c
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1369867988,1369867988,"478f86669c62347d0e82f8a3df0211c275a40227,6d9f840ab7599603ba279d7c7abdb630c4728d04"
6d9f840ab7599603ba279d7c7abdb630c4728d04,6d9f840a,The -R command line switch is now handled in fwknoprc as RESOLVE_IP_HTTP variable.,"The -R command line switch is now handled in fwknoprc as RESOLVE_IP_HTTP variable.
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1369829217,1369829217,cf6cb01f671859f1ded102faed885e17c5bcf323
cf6cb01f671859f1ded102faed885e17c5bcf323,cf6cb01f,Fixed ask_overwrite(). Generated keys are now stored in fwknoprc.,"Fixed ask_overwrite(). Generated keys are now stored in fwknoprc.

 * ask_overwrite() : when the user inputs more than one char when prompted,
   a second call to the function does not take the second char anymore.
   We parse all of the chars until we reach an LF char and discard all of them
   except the first one.
   The overwrite is requested only when the user sets 'y', if there is anything
   else we asssume 'N'.

 * When -k is used on the command line along with the --save-rc-stanza, the
   generated keys are also written in the stanza in fwknoprc.
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1369822796,1369822796,82caa9a6a97ea633f15f75bb887168e4d6e14ded
82caa9a6a97ea633f15f75bb887168e4d6e14ded,82caa9a6,The variables are now stored in a hash (variable name and position) rather than,"The variables are now stored in a hash (variable name and position) rather than
an array containing only their name. It is now possible to sort them without
 worrying about their position in the enumeration.

Improve variable naming for a better understanding (var_ndx becomes var_pos).
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1369754076,1369754076,dedc4bc8aa10638b6f928a55e228374cd4d9f14d
dedc4bc8aa10638b6f928a55e228374cd4d9f14d,dedc4bc8,Interim commit to handle bitmask with more than 32 positions.,"Interim commit to handle bitmask with more than 32 positions.
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1369671527,1369671527,cc07d10d733c4ddc542de4726a9a09c67fed2af7
cc07d10d733c4ddc542de4726a9a09c67fed2af7,cc07d10d,Set command line argument bitmask as a 64-bits value to be able to handle more arguments.,"Set command line argument bitmask as a 64-bits value to be able to handle more arguments.

 Interim commit to add the VERBOSE variable to be stored in the fwknoprc file when
 -v is used with --save-rc-stanza. The VERBOSE variable is also read by fwknop
 and the verbosity level is set accordingly.
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1369511761,1369511761,47d235f4feba6ecc32b842a6a28ed7da2329cdd8
478f86669c62347d0e82f8a3df0211c275a40227,478f8666,minor Makefile.am update to set permissions on access.conf.inst and fwknopd.conf.inst files,"minor Makefile.am update to set permissions on access.conf.inst and fwknopd.conf.inst files
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1369362581,1369334920,67f96dc3d4ddee424952ec9dbf62ea24e584dee5
67f96dc3d4ddee424952ec9dbf62ea24e584dee5,67f96dc3,[client] minor fix to set -R mode with a resolve URL is also set,"[client] minor fix to set -R mode with a resolve URL is also set

The command line arg validation function also checks this.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1369361434,1369334777,b9bd984768e1f48ac35a0064098ec0f32b42438c
b9bd984768e1f48ac35a0064098ec0f32b42438c,b9bd9847,[test suite] bug fix on FreeBSD to just run the server for the active/expire sets not equal test,"[test suite] bug fix on FreeBSD to just run the server for the active/expire sets not equal test
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1369360963,1369334669,9a21bc11ba430312e121444d126ad8cc4aab9bb7
9a21bc11ba430312e121444d126ad8cc4aab9bb7,9a21bc11,[server] update access.conf comments to conform to no trailing semicolon or…,"[server] update access.conf comments to conform to no trailing semicolon or colon within the variable name
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1369272119,1369272119,3bc28305c39ec58f36847bc060edc7debca67d17
3bc28305c39ec58f36847bc060edc7debca67d17,3bc28305,minor client man page wording update,"minor client man page wording update
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1369272042,1369272042,47d235f4feba6ecc32b842a6a28ed7da2329cdd8
47d235f4feba6ecc32b842a6a28ed7da2329cdd8,47d235f4,[test suite] minor formatting update to access.conf files to mimic fwknoprc vars…,"[test suite] minor formatting update to access.conf files to mimic fwknoprc vars (no colon or trailing semicolon)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1369188723,1369188723,cfbbac2654fd59f74334976292380deaade1ffe3
cfbbac2654fd59f74334976292380deaade1ffe3,cfbbac26,man page updates - access.conf section now includes variable guidance,"man page updates - access.conf section now includes variable guidance
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1369188613,1369188613,52462e7dbaa8b525f986f43524549ead36e09325
52462e7dbaa8b525f986f43524549ead36e09325,52462e7d,Use {0} initializer for all stack allocated char arrays,"Use {0} initializer for all stack allocated char arrays

Lots of places in the code were already using {0} to initialize stack char
arrays, but memset() was being used as well.  This commit removes all
unnecessary memset() calls against char arrays that are already initialized
via {0} (which sets all members to zero for such arrays).
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1369188015,1369188015,2e2e7fcc0eb9065aa40c5ea915ecb48a99bd9c51
2e2e7fcc0eb9065aa40c5ea915ecb48a99bd9c51,2e2e7fcc,Merge remote-tracking branch 'fjoncourt/save_rc_stanza',"Merge remote-tracking branch 'fjoncourt/save_rc_stanza'

Closes issues #81 and #82 thanks to Franck.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1369101462,1369101462,"fad0ef8690eba98279558b2984cbe72920262804,98e631451f34cff6713b51d0291a3ab626786ba8"
05585cab8a916eb734108fd93f32865b5ae8f8fd,05585cab,Merge remote-tracking branch 'upstream/master',"Merge remote-tracking branch 'upstream/master'
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1369080151,1369080151,"6c59c9ade80d905dbf597917fb55f80214a69631,fad0ef8690eba98279558b2984cbe72920262804"
98e631451f34cff6713b51d0291a3ab626786ba8,98e63145,"Fixed stanza name in log message. We display the stanza we were looking for, not the current one.","Fixed stanza name in log message. We display the stanza we were looking for, not the current one.
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1369079898,1369079898,209b189f202d02134d2523f7479b240ab9863b1a
209b189f202d02134d2523f7479b240ab9863b1a,209b189f,Merge remote-tracking branch 'upstream/master' into save_rc_stanza,"Merge remote-tracking branch 'upstream/master' into save_rc_stanza
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1369040913,1369040913,"5e3d9b6e0bdf661fea02f960b8db841afc48d56f,fad0ef8690eba98279558b2984cbe72920262804"
fad0ef8690eba98279558b2984cbe72920262804,fad0ef86,[test suite] added 'equal keys' files,"[test suite] added 'equal keys' files
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1368994519,1368994519,dc2ff2119caa81a9a3187e95f51ed34544398749
5e3d9b6e0bdf661fea02f960b8db841afc48d56f,5e3d9b6e,Do not assume two rc sections are separated by an empty line. (mrash/fwknop#81),"Do not assume two rc sections are separated by an empty line. (mrash/fwknop#81)
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1368993651,1368993651,dc2ff2119caa81a9a3187e95f51ed34544398749
dc2ff2119caa81a9a3187e95f51ed34544398749,dc2ff211,[client] finished documenting client command line options via the man page,"[client] finished documenting client command line options via the man page
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1368993016,1368993016,72ab0bf5d5b046d28004fea523a03ec6c1f50800
72ab0bf5d5b046d28004fea523a03ec6c1f50800,72ab0bf5,[test suite] added client -f firewall timeout tests,"[test suite] added client -f firewall timeout tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1368991760,1368991760,16f96a3e5391d381048e2ea2331d4ab50a2b12d8
16f96a3e5391d381048e2ea2331d4ab50a2b12d8,16f96a3e,[server] port list memory leak bug fix for OpenBSD/pf and FreeBSD/ipfw firewall…,"[server] port list memory leak bug fix for OpenBSD/pf and FreeBSD/ipfw firewall interface code found by Coverity
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1368988592,1368988592,e31459bb1e4664482b5ccd49d9ff0326d63aabe5
e31459bb1e4664482b5ccd49d9ff0326d63aabe5,e31459bb,updated client and server man page material,"updated client and server man page material
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1368987178,1368987178,0cc5c3495ec30691e5d7e5b65de056e4ab2a7847
0cc5c3495ec30691e5d7e5b65de056e4ab2a7847,0cc5c349,Merge branch 'master' of github.com:mrash/fwknop,"Merge branch 'master' of github.com:mrash/fwknop
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1368982656,1368982656,"0a279ccbfcb0be44e4e82f9ced28641a8d5cc3ef,4e5b96054cf98af86cb5297faa4c668aee16843d"
4e5b96054cf98af86cb5297faa4c668aee16843d,4e5b9605,Merge pull request #80 from fjoncourt/fix-gpl2.0,"Merge pull request #80 from fjoncourt/fix-gpl2.0

[FTBS] Fixed gpl2.0.texi",,,,Michael Rash,michael.rash@gmail.com,Michael Rash,michael.rash@gmail.com,1368982627,1368982627,"96bbf7e61abd9b0238392e79b412e332e3e95783,3e16d6694c07e8e92eaf590cb79b19dd4f729524"
3e16d6694c07e8e92eaf590cb79b19dd4f729524,3e16d669,Fixed gpl2.0.texi to make it build.,"Fixed gpl2.0.texi to make it build.

 The @appendixsubsec entries are substituted by @appendixsec entries.
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1368976475,1368976475,96bbf7e61abd9b0238392e79b412e332e3e95783
6c59c9ade80d905dbf597917fb55f80214a69631,6c59c9ad,Merge remote-tracking branch 'upstream/master',"Merge remote-tracking branch 'upstream/master'
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1368970460,1368970460,"cee5807debf3f49ed520ed8cfe648e9254ac62a1,96bbf7e61abd9b0238392e79b412e332e3e95783"
0a279ccbfcb0be44e4e82f9ced28641a8d5cc3ef,0a279ccb,[client] minor --verbose display update to say source port is 'OS assigned' when not otherwise set,"[client] minor --verbose display update to say source port is 'OS assigned' when not otherwise set
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1368931778,1368931778,96bbf7e61abd9b0238392e79b412e332e3e95783
96bbf7e61abd9b0238392e79b412e332e3e95783,96bbf7e6,[client] bug fix to separate out --named-config vs. --no-save-args command line args,"[client] bug fix to separate out --named-config vs. --no-save-args command line args
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1368930973,1368930973,15b1382160d48b253d951eceadbe14a01034d55b
15b1382160d48b253d951eceadbe14a01034d55b,15b13821,[test suite] slurp openssl HMAC from file into single string (it may be binary data),"[test suite] slurp openssl HMAC from file into single string (it may be binary data)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1368909548,1368909548,61459c65f5a926a2740b067b47206be8c4c04c2c
61459c65f5a926a2740b067b47206be8c4c04c2c,61459c65,added test suite HMAC != enc key conf files,"added test suite HMAC != enc key conf files
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1368893630,1368893630,23a354fced4a32d083f4f854b5feb2ad6747cf18
23a354fced4a32d083f4f854b5feb2ad6747cf18,23a354fc,[client+server] ensure HMAC key and encryption passphrase are not the same,"[client+server] ensure HMAC key and encryption passphrase are not the same
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1368893418,1368893418,731ca0e038ecd9f3e7e4a4a138ef98dc021f37b6
731ca0e038ecd9f3e7e4a4a138ef98dc021f37b6,731ca0e0,[client] added warning in --verbose mode if -s is used instead of -a or -R,"[client] added warning in --verbose mode if -s is used instead of -a or -R
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1368888709,1368888709,c02ec41ca099815c5422ed16c4e339afa604d8c4
c02ec41ca099815c5422ed16c4e339afa604d8c4,c02ec41c,[test suite] minor bug fix to preserve the init file,"[test suite] minor bug fix to preserve the init file
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1368880460,1368880460,ebe1aec54250f5ae8fbacd84254f0b71a0d370c6
cee5807debf3f49ed520ed8cfe648e9254ac62a1,cee5807d,First draft to be able to use stdin as an input for submitting fwknop key.,"First draft to be able to use stdin as an input for submitting fwknop key.

mrash/fwknop#74
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1368867284,1368867284,95615c90e2eb9a6e246709bce79bc7fedd609736
ebe1aec54250f5ae8fbacd84254f0b71a0d370c6,ebe1aec5,continued man page updates in preparation for the 2.5 release,"continued man page updates in preparation for the 2.5 release
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1368846358,1368846358,7cb23c75cca87d497215da27b6a263a694bc0b27
7cb23c75cca87d497215da27b6a263a694bc0b27,7cb23c75,[server] added check to ensure any existing fwknop jump rule is not duplicated at init,"[server] added check to ensure any existing fwknop jump rule is not duplicated at init
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1368844466,1368844466,cabcaf2174b1a2e0c714f8a9ca56ff3ab2ed95d4
cabcaf2174b1a2e0c714f8a9ca56ff3ab2ed95d4,cabcaf21,[server] apply same logging policy for --fw-* modes as --foreground mode,"[server] apply same logging policy for --fw-* modes as --foreground mode
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1368844083,1368844083,45244114f82b4ab1453bbb7b22b7bb75d96b6df0
45244114f82b4ab1453bbb7b22b7bb75d96b6df0,45244114,[client] --key-gen bug fix to print keys to stdout,"[client] --key-gen bug fix to print keys to stdout
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1368838996,1368838996,b6562d3bf379fc5937e73e6c17eb03a7cade32fb
b6562d3bf379fc5937e73e6c17eb03a7cade32fb,b6562d3b,Merge remote-tracking branch 'fjoncourt/master',"Merge remote-tracking branch 'fjoncourt/master'

Closes issues #76 and #60.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1368667877,1368667877,"2c8469e95e219f42c0a206454d6d0919a7447e4c,95615c90e2eb9a6e246709bce79bc7fedd609736"
2c8469e95e219f42c0a206454d6d0919a7447e4c,2c8469e9,[client] man page update for GPG key signing material,"[client] man page update for GPG key signing material
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1368667059,1368667059,a6f9f1d9ec23df5cb1e4f60234602e315f154349
a6f9f1d9ec23df5cb1e4f60234602e315f154349,a6f9f1d9,[client] completed fwknop client man page rc variable documentation,"[client] completed fwknop client man page rc variable documentation
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1368665969,1368665969,366255188adf06b8a9bc05fc554a89232ba6decb
366255188adf06b8a9bc05fc554a89232ba6decb,36625518,HMAC and PBKDF1 ChangeLog updates,"HMAC and PBKDF1 ChangeLog updates
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1368588525,1368588525,e1a7011bf37413fb2d90907a48be80773c2efffd
e1a7011bf37413fb2d90907a48be80773c2efffd,e1a7011b,[docs] fwknop client man page update for HMAC material,"[docs] fwknop client man page update for HMAC material
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1368588123,1368588123,e73d13e14086b00435f0248d8d8a7df0885a771f
95615c90e2eb9a6e246709bce79bc7fedd609736,95615c90,Merge remote-tracking branch 'upstream/master',"Merge remote-tracking branch 'upstream/master'
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1368562519,1368562519,"bb90a8bf7557bce71223ef66119a0dd98eecea91,e73d13e14086b00435f0248d8d8a7df0885a771f"
bb90a8bf7557bce71223ef66119a0dd98eecea91,bb90a8bf,Fixed gcc warnings on openbsd. - mrash/fwknop#60,"Fixed gcc warnings on openbsd. - mrash/fwknop#60
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1368562124,1368562124,9dbb62ae1ef53fccdefa1894d09c422719d5af83
e73d13e14086b00435f0248d8d8a7df0885a771f,e73d13e1,minor write_test_file() path bug fix,"minor write_test_file() path bug fix
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1368501093,1368501093,4e5fb77dd046b99a629aa2da0349b0128fef92f5
4e5fb77dd046b99a629aa2da0349b0128fef92f5,4e5fb77d,Merge remote-tracking branch 'fjoncourt/master',"Merge remote-tracking branch 'fjoncourt/master'

Merged update from Franck - closes issue #71.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1368501026,1368501026,"fb80575209a8276767457b2c5fefaa42ea1aca23,31d94d50b1d841073d6c7160cfb83d7279d907cf"
fb80575209a8276767457b2c5fefaa42ea1aca23,fb805752,[server] minor memory leak bug fix during SPA digest calculation found by Coverity,"[server] minor memory leak bug fix during SPA digest calculation found by Coverity
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1368492734,1368492734,6a2bc3db2718ab06c07c93b208dbd072d0ba5560
6a2bc3db2718ab06c07c93b208dbd072d0ba5560,6a2bc3db,[server] minor memory leak bug fix during access.conf parsing found by Coverity,"[server] minor memory leak bug fix during access.conf parsing found by Coverity
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1368492503,1368492503,8e31f8feb02585e1b110efd6e01228425bff11ce
8e31f8feb02585e1b110efd6e01228425bff11ce,8e31f8fe,[server] varargs cleanup bug fix found by Coverity,"[server] varargs cleanup bug fix found by Coverity
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1368492127,1368492127,d60870740da90c2eca0a8910dd5cd616438ddabd
d60870740da90c2eca0a8910dd5cd616438ddabd,d6087074,[server] fix pointer NULL check after strdup() - found by Coverity,"[server] fix pointer NULL check after strdup() - found by Coverity
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1368492085,1368492085,0c3da4bee4126ab96cabf35f45d2d02751d9e543
0c3da4bee4126ab96cabf35f45d2d02751d9e543,0c3da4be,[server] minor cosmetic (unnecessary NULL checks and one un-triggerable memory…,"[server] minor cosmetic (unnecessary NULL checks and one un-triggerable memory leak) found by Coverity
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1368492029,1368492029,cdd0a5f3f379627cd91ddf2cd597b30d11c5795b
cdd0a5f3f379627cd91ddf2cd597b30d11c5795b,cdd0a5f3,[server] minor memory leak bug fix during access.conf parsing found by Coverity,"[server] minor memory leak bug fix during access.conf parsing found by Coverity
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1368491919,1368491919,c83bc15c5eb9d6597df17cd9b421ab818548b210
9dbb62ae1ef53fccdefa1894d09c422719d5af83,9dbb62ae,Merge remote-tracking branch 'upstream/master',"Merge remote-tracking branch 'upstream/master'
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1368455427,1368455427,"31d94d50b1d841073d6c7160cfb83d7279d907cf,c83bc15c5eb9d6597df17cd9b421ab818548b210"
48a3f7a1797c557aa7babf13c7a2e5188016bb7b,48a3f7a1,added m4/gpgme.m4 file,"added m4/gpgme.m4 file
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1368416924,1368416924,1144284913d78764e22742a45fe0cdaa0cb27fb7
c83bc15c5eb9d6597df17cd9b421ab818548b210,c83bc15c,bumped VERSION file to fwknop-2.5-pre1,"bumped VERSION file to fwknop-2.5-pre1
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1368412933,1368412933,3246c3c6b0a40c380660f4885334c06e48213977
1144284913d78764e22742a45fe0cdaa0cb27fb7,11442849,Merge branch 'master' into gpgme_autoconf_macro,"Merge branch 'master' into gpgme_autoconf_macro
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1368412278,1368412278,"c6b2c0def42765f1124a0b43acdb8e04e8c071a2,3246c3c6b0a40c380660f4885334c06e48213977"
3246c3c6b0a40c380660f4885334c06e48213977,3246c3c6,[test suite] added hmac_get_key_access.conf file,"[test suite] added hmac_get_key_access.conf file
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1368412228,1368412228,09f073d393ea29c9ad22b72491e0cf97da058c1c
c6b2c0def42765f1124a0b43acdb8e04e8c071a2,c6b2c0de,Added gpgme autoconf m4 macro to fix an undefined AM_PATH_GPGME error,"Added gpgme autoconf m4 macro to fix an undefined AM_PATH_GPGME error

For systems that don't have libgpgme installed, the addition of the m4/gpgme.m4
file fixes the following error when running the autogen.sh script:

configure.ac:313: error: possibly undefined macro: AC_DEFINE
      If this token and others are legitimate, please use m4_pattern_allow.
      See the Autoconf documentation.
configure.ac:326: error: possibly undefined macro: AM_PATH_GPGME
configure.ac:329: error: possibly undefined macro: AC_MSG_FAILURE
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1368411916,1368411916,09f073d393ea29c9ad22b72491e0cf97da058c1c
09f073d393ea29c9ad22b72491e0cf97da058c1c,09f073d3,Added blurb on Coverity to the ChangeLog,"Added blurb on Coverity to the ChangeLog
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1368407065,1368407065,838782f19810d38ef2ffe556426faaf6e49d42f5
838782f19810d38ef2ffe556426faaf6e49d42f5,838782f1,[test suite] added fko_destroy() calls to fko-wrapper,"[test suite] added fko_destroy() calls to fko-wrapper
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1368406639,1368406639,1caf6035d9e475f3c98ee97e9c28996c7f5e54d6
1caf6035d9e475f3c98ee97e9c28996c7f5e54d6,1caf6035,[server] fixed potential double-free condition found by Coverity,"[server] fixed potential double-free condition found by Coverity

Within the access loop always call fko_destroy() right up front whenever
ctx != NULL to ensure a clean slate each time through the loop regardless of
what state may have been reached the previous time through the loop.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1368406484,1368406484,c555a35489b830b20f2270b91bace1e42d455e3e
c555a35489b830b20f2270b91bace1e42d455e3e,c555a354,[client] set ctx=NULL after fko_destroy() calls,"[client] set ctx=NULL after fko_destroy() calls
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1368406444,1368406444,d85c2e74ce06ac461bb84dd508f8a5562a0483c8
d85c2e74ce06ac461bb84dd508f8a5562a0483c8,d85c2e74,"[libfko] set ctx=NULL after fko_destroy(), add NULL check for encrypted msg…","[libfko] set ctx=NULL after fko_destroy(), add NULL check for encrypted msg pointer in fko_new_with_data()
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1368406402,1368406402,7b3c854a024c9778b4c16fea075e5a80a53c7ea2
7b3c854a024c9778b4c16fea075e5a80a53c7ea2,7b3c854a,[libfko] added context initialized check to fko_decrypt_spa_data(),"[libfko] added context initialized check to fko_decrypt_spa_data()
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1368406140,1368406140,6d0f970b3441b5980cff69eeb636963558b1e617
6d0f970b3441b5980cff69eeb636963558b1e617,6d0f970b,[libfko] bug fix to apply ctx initialization check before attempting to use…,"[libfko] bug fix to apply ctx initialization check before attempting to use ctx->message_type in fko_set_spa_client_timeout()
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1368385351,1368385351,38395b04c69268004519a54efd3331e6e1c6583d
38395b04c69268004519a54efd3331e6e1c6583d,38395b04,[test suite] add -x to run_valgrind.sh fko-wrapper script,"[test suite] add -x to run_valgrind.sh fko-wrapper script
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1368384199,1368384199,3302dd42207d1aa40a3a90386aec8e6a34169c36
3302dd42207d1aa40a3a90386aec8e6a34169c36,3302dd42,[test suite] added -g to fko_wrapper Makefile for debugging symbols,"[test suite] added -g to fko_wrapper Makefile for debugging symbols
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1368384155,1368384155,a8410d8f2a6a77ae2be76a67f05af80f47927f9d
31d94d50b1d841073d6c7160cfb83d7279d907cf,31d94d50,Added tests to validate the encryption mode for the client.,"Added tests to validate the encryption mode for the client.
Renamed the CBC legacy VI encryption mode by legacy as mentionned in the man page.
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1368372919,1368372919,160c21d6b63f79f12d5166c860aad05cc76aad87
160c21d6b63f79f12d5166c860aad05cc76aad87,160c21d6,Rewrite enc_mode_inttostr() and enc_mode_strtoint().,"Rewrite enc_mode_inttostr() and enc_mode_strtoint().

Make sure both functions works the same way and refer to the same
encryption mode string.

Updated the fwknop usage message to display the encryption mode.
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1368370372,1368370372,8f423e8b89915b0b1c6ae37b9d505d37f2c18315
a8410d8f2a6a77ae2be76a67f05af80f47927f9d,a8410d8f,[test suite] allow valgrind coverage test to run after --test-limit,"[test suite] allow valgrind coverage test to run after --test-limit
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1368293335,1368293335,282b0198ecabc69b1aa9adc9bc839b6a9dea2967
282b0198ecabc69b1aa9adc9bc839b6a9dea2967,282b0198,[libfko] changed 'state' context element to 'int' type to fix a 'extra…,"[libfko] changed 'state' context element to 'int' type to fix a 'extra high-order bits' bug found by Coverity
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1368153785,1368153785,aafc3ac264e9e8b347ba6b3b3b487e94b03fe7ef
aafc3ac264e9e8b347ba6b3b3b487e94b03fe7ef,aafc3ac2,[server] setsockopt() nad fcntl() return value checking (found by Coverity),"[server] setsockopt() nad fcntl() return value checking (found by Coverity)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1368153308,1368153308,72e4edbf6a3b0c4bc361183b94e5495908e1e618
72e4edbf6a3b0c4bc361183b94e5495908e1e618,72e4edbf,[libfko] fixed remaining sizeof() usage bug in SHA256 code found by Coverity,"[libfko] fixed remaining sizeof() usage bug in SHA256 code found by Coverity
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1368152046,1368152046,62edf0910147435290c8fb8bc3d9d78c37ef1758
62edf0910147435290c8fb8bc3d9d78c37ef1758,62edf091,[libfko] fixed remaining buffer constraints in lib/hmac.c code found by Coverity,"[libfko] fixed remaining buffer constraints in lib/hmac.c code found by Coverity
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1368152005,1368152005,add518016c533c06fbdce5eb8a9adb5a903e178f
add518016c533c06fbdce5eb8a9adb5a903e178f,add51801,[client] removed unnecessary array NULL check found by Coverity,"[client] removed unnecessary array NULL check found by Coverity
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1368151838,1368151838,9046acaf22650b2c3f71185d8a1201647c431a7b
9046acaf22650b2c3f71185d8a1201647c431a7b,9046acaf,[libfko] memory leak fixes found by Coverity,"[libfko] memory leak fixes found by Coverity
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1368150973,1368150973,8c09d38941485623a452b4f2c8fd3946482414d0
8c09d38941485623a452b4f2c8fd3946482414d0,8c09d389,various sizeof() usage and type bug fixes found by Coverity,"various sizeof() usage and type bug fixes found by Coverity
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1368148647,1368148647,b92f892ae089679a80cb3ecc0217c5c0b8b700d8
b92f892ae089679a80cb3ecc0217c5c0b8b700d8,b92f892a,[test suite] minor bug fix for printing the number of test buckets to be executed,"[test suite] minor bug fix for printing the number of test buckets to be executed
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1368148305,1368148305,9f9bbcbcdd8a47ee29bf60bb2f2728685bbc7aec
9f9bbcbcdd8a47ee29bf60bb2f2728685bbc7aec,9f9bbcbc,fixed several resource leak conditions found by Coverity,"fixed several resource leak conditions found by Coverity
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1368071735,1368134158,aaa28d4ab3437f3641aedf98074d8325ecec1196
aaa28d4ab3437f3641aedf98074d8325ecec1196,aaa28d4a,[server] double free bug fix in access.conf parsing routine caught by Coverity,"[server] double free bug fix in access.conf parsing routine caught by Coverity
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1368071053,1368071053,3a1efd9321b428fc3dcebab18ee1d3453de4cab0
3a1efd9321b428fc3dcebab18ee1d3453de4cab0,3a1efd93,[server] fixed several (non-exploitable) overflow conditions found by Coverity,"[server] fixed several (non-exploitable) overflow conditions found by Coverity
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1367984134,1368070146,8d980ae68646af35b531713b2d01bbf24e3a9468
8d980ae68646af35b531713b2d01bbf24e3a9468,8d980ae6,remove dead code caught by Coverity,"remove dead code caught by Coverity
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1367982169,1367982169,50f0ee2f7db5d0d2290efa3fee10339318fa023f
50f0ee2f7db5d0d2290efa3fee10339318fa023f,50f0ee2f,[server] bug fix for GPG 'nesting level does not match indentation' issue (discovered by Coverity),"[server] bug fix for GPG 'nesting level does not match indentation' issue (discovered by Coverity)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1367981555,1367981600,e1c6f04ef9658557fbfe99ff0953d206d8f0f0f5
e1c6f04ef9658557fbfe99ff0953d206d8f0f0f5,e1c6f04e,[client] fix missing 'break' in switch statement (discovered by Coverity),"[client] fix missing 'break' in switch statement (discovered by Coverity)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1367977418,1367977418,8f423e8b89915b0b1c6ae37b9d505d37f2c18315
8f423e8b89915b0b1c6ae37b9d505d37f2c18315,8f423e8b,[server] added --pcap-any-direction along with config file support,"[server] added --pcap-any-direction along with config file support

From the config file comments:

This variable controls whether fwknopd is permitted to sniff SPA packets
regardless of whether they are received on the sniffing interface or sent
from the sniffing interface.  In the later case, this can be useful to have
fwknopd sniff SPA packets that are forwarded through a system and destined
for a different network.  If the sniffing interface is the egress interface
for such packets, then this variable will need to be set to ""Y"" in order for
fwknopd to see them.  The default is ""N"" so that fwknopd only looks for SPA
packets that are received on the sniffin

PCAP_ANY_DIRECTION         N;
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1367893439,1367893439,5aac3d978c8eadb81b10a055d176a950994f91ac
5aac3d978c8eadb81b10a055d176a950994f91ac,5aac3d97,minor typo fix,"minor typo fix
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1367893342,1367893342,a9a143a85d54bf4443a1b6c9ef61d8e74cc55da0
a9a143a85d54bf4443a1b6c9ef61d8e74cc55da0,a9a143a8,Merge remote-tracking branch 'upstream/master',"Merge remote-tracking branch 'upstream/master'
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1367833955,1367833955,"d4577ab697414cddb1fdb9d3794249a7cb005ed4,eb143db9a7f540f83ee538aff63f44e151c453dc"
d4577ab697414cddb1fdb9d3794249a7cb005ed4,d4577ab6,Added new tests to the test suite to validate the --save-rc-stanza command line argument.,"Added new tests to the test suite to validate the --save-rc-stanza command line argument.
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1367833756,1367833756,b3cbf1ecfa513647e03f207bf4ba7b16d0ffa2a8
b3cbf1ecfa513647e03f207bf4ba7b16d0ffa2a8,b3cbf1ec,Replaced printf() by log_msg().,"Replaced printf() by log_msg().
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1367827322,1367827322,327257ef5fc7d5d5985c24b302bdccbeeee77259
eb143db9a7f540f83ee538aff63f44e151c453dc,eb143db9,"[client] added --get-hmac-key to mirror --get-key, closes #68","[client] added --get-hmac-key to mirror --get-key, closes #68
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1367805247,1367805247,83493a424c7c0d7e7e927b2384a55ec56b2dadbe
83493a424c7c0d7e7e927b2384a55ec56b2dadbe,83493a42,Merge branch 'master' of github.com:mrash/fwknop,"Merge branch 'master' of github.com:mrash/fwknop
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1367802086,1367802086,"314cc3eb23d9ef58790afe4f75530d8eb1558b14,0363a2099a03a11d9d034381fb0a371f5f10ed92"
314cc3eb23d9ef58790afe4f75530d8eb1558b14,314cc3eb,Merge remote-tracking branch 'origin/win32_fixes',"Merge remote-tracking branch 'origin/win32_fixes'

This fixes issue #69 thanks to Damien.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1367801944,1367801944,"3c3283992c71291b9028121fe90e5381a5b3ef36,63fed301b82b8f92bc9a80fa7167743c2fd0cd54"
0363a2099a03a11d9d034381fb0a371f5f10ed92,0363a209,Regenerated the client and server manpage .in files from the asciidoc sources,"Regenerated the client and server manpage .in files from the asciidoc sources
",,,,Damien S. Stuart,dstuart@dstuart.org,Damien S. Stuart,dstuart@dstuart.org,1367801087,1367801087,5804e15859aee23e9af2fd4bd917c4c5fbc29372
63fed301b82b8f92bc9a80fa7167743c2fd0cd54,63fed301,Merge branch 'win32_fixes' of ssh://github.com/mrash/fwknop into win32_fixes,"Merge branch 'win32_fixes' of ssh://github.com/mrash/fwknop into win32_fixes
",,,,Damien S. Stuart,dstuart@dstuart.org,Damien S. Stuart,dstuart@dstuart.org,1367800622,1367800622,"2c1a911a50982afc417f49bbd7f2c0122f6d6297,c0c0941d5525375e5a5513e1d723c974ff030cf5"
2c1a911a50982afc417f49bbd7f2c0122f6d6297,2c1a911a,Copied the win32 Visual Studio solution and project files to preserve a VS 2008 version.,"Copied the win32 Visual Studio solution and project files to preserve a VS 2008 version.
",,,,Damien S. Stuart,dstuart@dstuart.org,Damien S. Stuart,dstuart@dstuart.org,1367800593,1367800593,15d9c6197b3cc233c906e0901a291a6329297b71
c0c0941d5525375e5a5513e1d723c974ff030cf5,c0c0941d,Tweaked WIN32 conditional for using inet_ntoa instead of inet_ntop to apply only…,"Tweaked WIN32 conditional for using inet_ntoa instead of inet_ntop to apply only to versions below Vista (WINVER <= 0x0600)
",,,,Damien Stuart,dstuart@dstuart.org,Damien Stuart,dstuart@dstuart.org,1367794968,1367794968,b84415c33cbff2f13448c89eb46820b04c63583c
b84415c33cbff2f13448c89eb46820b04c63583c,b84415c3,Use inet_aton on Windows (Older windows versions do not have enet_ntop).,"Use inet_aton on Windows (Older windows versions do not have enet_ntop).
",,,,Damien Stuart,dstuart@dstuart.org,Damien Stuart,dstuart@dstuart.org,1367786238,1367786238,15d9c6197b3cc233c906e0901a291a6329297b71
327257ef5fc7d5d5985c24b302bdccbeeee77259,327257ef,Fixed command line arguments (key-base64-rijndael and key-base64-hmac).,"Fixed command line arguments (key-base64-rijndael and key-base64-hmac).

The cmd_opts structure containing the command line args does not follow the
documentation. This update fix it.
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1367784201,1367784201,ea8a9419ed6f33607e0a73dbe8fd088e9e3574dd
ea8a9419ed6f33607e0a73dbe8fd088e9e3574dd,ea8a9419,Added force-stanza to the client documentation.,"Added force-stanza to the client documentation.
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1367784002,1367784002,f3da6853488109414928beba98fa9a411c3c41ac
f3da6853488109414928beba98fa9a411c3c41ac,f3da6853,Merge remote-tracking branch 'upstream/master',"Merge remote-tracking branch 'upstream/master'
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1367783241,1367783241,"17a105fd8a08e060ec667d825f524751effda522,5804e15859aee23e9af2fd4bd917c4c5fbc29372"
17a105fd8a08e060ec667d825f524751effda522,17a105fd,Added GPG_SIGNER and GPG_RECIPIENT to the list of important variables.,"Added GPG_SIGNER and GPG_RECIPIENT to the list of important variables.
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1367783011,1367783011,b8145f6d7f1d7c545f2f98fce4e754273d3f1984
b8145f6d7f1d7c545f2f98fce4e754273d3f1984,b8145f6d,Added --force-stanza command line arg to avoid prompting the user.,"Added --force-stanza command line arg to avoid prompting the user.
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1367781206,1367781206,9d8d1de60d1aece79ce5c5f700bfc1976bbc7e5e
15d9c6197b3cc233c906e0901a291a6329297b71,15d9c619,Fixes to get hmac_support and 2.5 changes working for the Windows lib and client builds.,"Fixes to get hmac_support and 2.5 changes working for the Windows lib and client builds.
",,,,Damien Stuart,dstuart@dstuart.org,Damien Stuart,dstuart@dstuart.org,1367774420,1367774420,5804e15859aee23e9af2fd4bd917c4c5fbc29372
3c3283992c71291b9028121fe90e5381a5b3ef36,3c328399,(Franck Joncourt) patch to address sprintf() warnings for issue #60,"(Franck Joncourt) patch to address sprintf() warnings for issue #60
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1367691366,1367691366,5804e15859aee23e9af2fd4bd917c4c5fbc29372
9d8d1de60d1aece79ce5c5f700bfc1976bbc7e5e,9d8d1de6,Ask the user whether he wants to overwrite a variable in the updated rc file or not.,"Ask the user whether he wants to overwrite a variable in the updated rc file or not.
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1367679722,1367679722,9f43f7a6ff994d5515469e109c005352b0f17332
5804e15859aee23e9af2fd4bd917c4c5fbc29372,5804e158,Merge remote-tracking branch 'ag4ve/master',"Merge remote-tracking branch 'ag4ve/master'

(Shawn Wilson) This adds better source IP logging for fwknopd log messages.
Closes #70.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1367674887,1367674887,"d61d5b964ea50356aff3474718be9ef1c24a7012,621e7b1c6d4b3033bb1825a7389143d91ae1666c"
9f43f7a6ff994d5515469e109c005352b0f17332,9f43f7a6,Merge remote-tracking branch 'upstream/master',"Merge remote-tracking branch 'upstream/master'
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1367674474,1367674474,"f2175062347a1b300d4b71440fd257d7e0ab4c02,d61d5b964ea50356aff3474718be9ef1c24a7012"
f2175062347a1b300d4b71440fd257d7e0ab4c02,f2175062,Fixed names of function for better understanding.,"Fixed names of function for better understanding.
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1367674383,1367674383,84768dda6fd6828d30e6cf26a4a107a9aaf5fb59
d61d5b964ea50356aff3474718be9ef1c24a7012,d61d5b96,[test suite] added Cygwin client compatibility tests,"[test suite] added Cygwin client compatibility tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1367637444,1367637444,589a68b97bc9c84d4f24dd8015a30901aac087b8
589a68b97bc9c84d4f24dd8015a30901aac087b8,589a68b9,[test suite] additional iptables init/exit 'no flush' tests,"[test suite] additional iptables init/exit 'no flush' tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1367628965,1367628965,df5f2d3ac07d0ed42b7c8989fc7bf653b513b911
df5f2d3ac07d0ed42b7c8989fc7bf653b513b911,df5f2d3a,[test suite] minor update to not count HMAC OpenSSL tests against non-ascii HMAC…,"[test suite] minor update to not count HMAC OpenSSL tests against non-ascii HMAC keys when the hexkey option is not supported
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1367628920,1367628920,5f06cefb0286ee3337767ff321c972af7da908fe
621e7b1c6d4b3033bb1825a7389143d91ae1666c,621e7b1c,Merge branch 'master' of github.com:ag4ve/fwknop,"Merge branch 'master' of github.com:ag4ve/fwknop

Pull in forked upstream
",,,,Shawn Wilson,swilson@korelogic.com,Shawn Wilson,swilson@korelogic.com,1367598529,1367598529,"9dc1d26d6af5f02213a2f1385077c9189fb062d3,c086105eb1b473c68f1d7677320c6564c4478806"
5f06cefb0286ee3337767ff321c972af7da908fe,5f06cefb,[test suite] added check for test script inclusion in Makefile.am,"[test suite] added check for test script inclusion in Makefile.am
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1367584524,1367584524,c086105eb1b473c68f1d7677320c6564c4478806
84768dda6fd6828d30e6cf26a4a107a9aaf5fb59,84768dda,Continued implementing a way to not overwrite KEY.. variables with --save-rc-stanza,"Continued implementing a way to not overwrite KEY.. variables with --save-rc-stanza
mrash/fwknop#67
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1367581772,1367581772,c71ce885be0c5d389aa37bbe2246704d584d575c
c086105eb1b473c68f1d7677320c6564c4478806,c086105e,[server] added tests on Linux systems for the iptables FLUSH_IPT_* vars,"[server] added tests on Linux systems for the iptables FLUSH_IPT_* vars
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1367548191,1367548191,2297dfd8c2c2a953efde72cd3051d21858c167f4
2297dfd8c2c2a953efde72cd3051d21858c167f4,2297dfd8,[server] minor memory leak bug fix for invalid date processing,"[server] minor memory leak bug fix for invalid date processing

Bug fix to ensure to release memory when invalid access stanza dates are set
and fwknopd has to exit.  This leak was caught with the test suite in
--enable-valgrind mode based on the following output:

==31947== 568 bytes in 1 blocks are still reachable in loss record 1 of 1
==31947==    at 0x4C2CD7B: malloc (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==31947==    by 0x52EE42A: __fopen_internal (iofopen.c:73)
==31947==    by 0x1116A2: parse_access_file (access.c:909)
==31947==    by 0x10BAD5: main (fwknopd.c:194)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1367547981,1367547981,56ef34738edd53a2b7abafd7926f03af62b47251
c71ce885be0c5d389aa37bbe2246704d584d575c,c71ce885,First attempt to not ovewrite some configuration variables with --save-rc-stanza.,"First attempt to not ovewrite some configuration variables with --save-rc-stanza.

At this time it only does not overwrite the KEY and HMAC variable without asking the user
what he wants to do.
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1367531908,1367531908,23de2d6b5faf73318e105dc84977b262337ba312
56ef34738edd53a2b7abafd7926f03af62b47251,56ef3473,[test suite] add new test files to Makefile.am,"[test suite] add new test files to Makefile.am
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1367466934,1367521684,0f2487776206ea078693dd558879b1d6935dd6bb
9dc1d26d6af5f02213a2f1385077c9189fb062d3,9dc1d26d,fixed more typos,"fixed more typos
",,,,Shawn Wilson,swilson@korelogic.com,Shawn Wilson,swilson@korelogic.com,1367420388,1367420388,e50d776ff7aa7b7990e8dede1db8684aab5e79c5
e50d776ff7aa7b7990e8dede1db8684aab5e79c5,e50d776f,correct variable name typo,"correct variable name typo
",,,,Shawn Wilson,swilson@korelogic.com,Shawn Wilson,swilson@korelogic.com,1367419333,1367419333,52e35b735d6b534705cf104774052dd495a3f627
52e35b735d6b534705cf104774052dd495a3f627,52e35b73,add ip address to messages where appropriate,"add ip address to messages where appropriate
",,,,Shawn Wilson,swilson@korelogic.com,Shawn Wilson,swilson@korelogic.com,1367418704,1367418704,d93648cf99f0a307f5a9cd18b0620e02d586abcd
23de2d6b5faf73318e105dc84977b262337ba312,23de2d6b,Removed duplicate variable in the test suite (fake_spoof_ip/spoof_ip).,"Removed duplicate variable in the test suite (fake_spoof_ip/spoof_ip).
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1367416321,1367416321,fca497f0d85ac583675797ec35eebc25dfa86be6
fca497f0d85ac583675797ec35eebc25dfa86be6,fca497f0,"New tests for rc file processing (SPA_SOURCE_PORT, FW_TIMEOUT).","New tests for rc file processing (SPA_SOURCE_PORT, FW_TIMEOUT).

Added spa source port variable to dump_transmit_options() and renamed port
to destination port.
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1367414022,1367414957,209c0f16da9ca6bd677fc2378bafb2bd52c5d738
209c0f16da9ca6bd677fc2378bafb2bd52c5d738,209c0f16,Protocol string is set has const char in fko_protocol_t.,"Protocol string is set has const char in fko_protocol_t.
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1367411615,1367411615,d93648cf99f0a307f5a9cd18b0620e02d586abcd
0f2487776206ea078693dd558879b1d6935dd6bb,0f248777,[test suite] minor comment addition so this isn't a zero-byte file,"[test suite] minor comment addition so this isn't a zero-byte file
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1367410871,1367410871,d93648cf99f0a307f5a9cd18b0620e02d586abcd
d93648cf99f0a307f5a9cd18b0620e02d586abcd,d93648cf,Moved/Created proto_intostr() and proto_strtoint() to utils.c.,"Moved/Created proto_intostr() and proto_strtoint() to utils.c.

This allows to update dump_transmit_options() to use the log module to dump data.
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1367353323,1367353323,10a4e1f675096b325e959b1ae8bec7a15aac5ee1
10a4e1f675096b325e959b1ae8bec7a15aac5ee1,10a4e1f6,Updated the TParam typedef to conform to the fko_cli_options_t typedef.,"Updated the TParam typedef to conform to the fko_cli_options_t typedef.
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1367329028,1367329028,2110790a304934633742b39c02a8c8385cbcde73
2110790a304934633742b39c02a8c8385cbcde73,2110790a,Added new rc file processing tests for the SPA_SERVER_PORT.,"Added new rc file processing tests for the SPA_SERVER_PORT.
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1367322898,1367322898,90175250e5683bf75707c8f5330120562cdbc7f4
90175250e5683bf75707c8f5330120562cdbc7f4,90175250,[client] add USE_HMAC handling to parse_rc_param(),"[client] add USE_HMAC handling to parse_rc_param()
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1367288079,1367288079,892ee15ff9e574d78e716f87e89fa822e708a398
892ee15ff9e574d78e716f87e89fa822e708a398,892ee15f,ChangeLog and credits updates for Franck,"ChangeLog and credits updates for Franck
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1367286727,1367286727,df5066447d48f1d09300784b306602866c66abef
df5066447d48f1d09300784b306602866c66abef,df506644,"Started on --save-rc-stanza tests, client bug fix for HMAC verification in --test mode","Started on --save-rc-stanza tests, client bug fix for HMAC verification in --test mode
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1367286201,1367286201,b53699ef9246f905461a56bdb54fd0d342f4e0c5
b53699ef9246f905461a56bdb54fd0d342f4e0c5,b53699ef,Added tests for the SPA_SERVER_PROTO variable from an rc file.,"Added tests for the SPA_SERVER_PROTO variable from an rc file.
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1367268786,1367268786,36202d8c66488be645af8aba80b377550c26e745
36202d8c66488be645af8aba80b377550c26e745,36202d8c,Merge remote-tracking branch 'upstream/master',"Merge remote-tracking branch 'upstream/master'
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1367266878,1367266878,"7a719389ca48cda8f1f3d8ef1faab1a5d8ee52bf,ea5bb6937a79ffb70b307b4bf16ee1c17bc04c1e"
7a719389ca48cda8f1f3d8ef1faab1a5d8ee52bf,7a719389,Integrated the log module in the whol client source code.,"Integrated the log module in the whol client source code.

perror() is also replaced by log_msg()
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1367266709,1367266709,486f0ea52f6375c529f081143e0729e37fa77cb5
ea5bb6937a79ffb70b307b4bf16ee1c17bc04c1e,ea5bb693,"[test suite] add client rc file processing tests (digest only for now, more coming)","[test suite] add client rc file processing tests (digest only for now, more coming)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1367200334,1367200334,b719c06769cb5367fb4998abb3451d2a75bae337
b719c06769cb5367fb4998abb3451d2a75bae337,b719c067,[client] ensure to set HMAC mode by default only when an HMAC key is used,"[client] ensure to set HMAC mode by default only when an HMAC key is used
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1367200276,1367200276,486f0ea52f6375c529f081143e0729e37fa77cb5
486f0ea52f6375c529f081143e0729e37fa77cb5,486f0ea5,[test suite] restore gpg directories after test suite runs,"[test suite] restore gpg directories after test suite runs
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1367116877,1367116877,dd05975217767104092189270f8470cca83df4e2
dd05975217767104092189270f8470cca83df4e2,dd059752,Merge remote-tracking branch 'fjoncourt/master',"Merge remote-tracking branch 'fjoncourt/master'

This merges changes from Franck Joncourt for issues #55 (log module for fwknop)
and #64 (hostname resolution not working for -P icmp spoofing).
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1367115998,1367115998,"12a6e9e93a739494a985620619878a4a7983558c,b04de687ce6e9bcb43cb558dee6b2a5606e4d147"
12a6e9e93a739494a985620619878a4a7983558c,12a6e9e9,Convert most strlcat() calls to use destination bound from sizeof(),"Convert most strlcat() calls to use destination bound from sizeof()

This commit helps to ensure correctness of strlcat() calls in support of fixing
issue #2.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1367109672,1367109672,b3f55bf1aba4ba5f80660223492f66fe2be9f4fe
b04de687ce6e9bcb43cb558dee6b2a5606e4d147,b04de687,Fixed hostname resolution while spoof ip is used.,"Fixed hostname resolution while spoof ip is used.

mrash/fwknop#64
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1367098300,1367098300,0bf0d8f8766dbe4c55b8c789e8b167977d85b25c
0bf0d8f8766dbe4c55b8c789e8b167977d85b25c,0bf0d8f8,Merge remote-tracking branch 'upstream/master',"Merge remote-tracking branch 'upstream/master'
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1367095107,1367095107,"6063679c6da2179acd058945f1620b7780b112e7,0ec547e04d5bfda5558051eab719e8e7e4f88fcf"
6063679c6da2179acd058945f1620b7780b112e7,6063679c,Continue implementing the log_msg module.,"Continue implementing the log_msg module.
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1367093980,1367093980,2396193e06558016357451ae9c97f43e913d4079
b3f55bf1aba4ba5f80660223492f66fe2be9f4fe,b3f55bf1,Convert most strlcpy() calls to use destination bound from sizeof(),"Convert most strlcpy() calls to use destination bound from sizeof()

This commit helps to ensure correctness of strlcpy() calls in support of fixing
issue #2.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1367089170,1367089691,6b095d948d6c4a84ed3d3aaa8158436b1c0d442e
6b095d948d6c4a84ed3d3aaa8158436b1c0d442e,6b095d94,[test suite] minor openssl verification update to print base64 decode flag value,"[test suite] minor openssl verification update to print base64 decode flag value
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1367081810,1367081810,eb727e1271ad09eee12c7e12499434cc00158d8e
eb727e1271ad09eee12c7e12499434cc00158d8e,eb727e12,removed roadmap.org file in favor of using github milestones,"removed roadmap.org file in favor of using github milestones
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1367027786,1367027786,6036619b1c7c094224cce7f86a21e0c64b0e5ee9
6036619b1c7c094224cce7f86a21e0c64b0e5ee9,6036619b,removed todo.org file in favor of using github issues,"removed todo.org file in favor of using github issues
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1367027269,1367027269,0ec547e04d5bfda5558051eab719e8e7e4f88fcf
2396193e06558016357451ae9c97f43e913d4079,2396193e,"Replaced all references to *fprintf(stderr,* by log_msg() in config_init.c","Replaced all references to *fprintf(stderr,* by log_msg() in config_init.c
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1366989365,1366989365,65d0517a9c9fe7905a240f0c483082950fbbcd52
65d0517a9c9fe7905a240f0c483082950fbbcd52,65d0517a,Inverted log level enumeration,"Inverted log level enumeration
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1366985888,1366985888,bb70a9752f93e843ad7f859c3cd899f10f938f91
bb70a9752f93e843ad7f859c3cd899f10f938f91,bb70a975,Ajout du module log_msg pour le client,"Ajout du module log_msg pour le client
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1366978105,1366978105,bf889f7b6e0b9c6b2970574f1d3af38af3857c4e
0ec547e04d5bfda5558051eab719e8e7e4f88fcf,0ec547e0,[server] another minor CLANG static analyzer fix,"[server] another minor CLANG static analyzer fix
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1366939922,1366939922,a6e8919728998f4aa2490d8e7b3342e2d27f10fd
a6e8919728998f4aa2490d8e7b3342e2d27f10fd,a6e89197,[server] fix minor CLANG static analyzer bugs,"[server] fix minor CLANG static analyzer bugs

These are simple logic fixes that would not have impacted run time to address
the following warnings generated by the CLANG static analyzer:

incoming_spa.c:433:17: warning: Value stored to 'attempted_decrypt' is never read
                attempted_decrypt = 1;
                ^                   ~
incoming_spa.c:647:13: warning: Value stored to 'acc' is never read
            acc = acc->next;
            ^     ~~~~~~~~~
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1366939777,1366939777,5e82adbf3fb45487fa749eb3abe4b5f876d39ae9
bf889f7b6e0b9c6b2970574f1d3af38af3857c4e,bf889f7b,Used args enumeration for both the update_rc() and add_rc_param().,"Used args enumeration for both the update_rc() and add_rc_param().

Updated fwknop client to refer to the fwknop args enumeration rather
than the config variable names directly. This should make easier to
handle future changes of the variable name.

New function to validate a string matches a YES pattern in the configuration
file : is_yes_str().

The parse_rc_param() only returns at the end of the function, unless a fatal
error has been encountered.
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1366923782,1366923782,5e82adbf3fb45487fa749eb3abe4b5f876d39ae9
5e82adbf3fb45487fa749eb3abe4b5f876d39ae9,5e82adbf,"[test suite] added GPG password required HMAC tests, added --disable-valgrind argument","[test suite] added GPG password required HMAC tests, added --disable-valgrind argument
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1366768601,1366768601,4ea683678b7dd9975d5b048046ab4e6e5450f064
4ea683678b7dd9975d5b048046ab4e6e5450f064,4ea68367,[test suite] added gpg_no_pw_hmac_access.conf file,"[test suite] added gpg_no_pw_hmac_access.conf file
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1366678772,1366678772,f02cc0ddd251321daa1cb63f683356d5931bded2
f02cc0ddd251321daa1cb63f683356d5931bded2,f02cc0dd,"Added HMAC support to GPG encryption modes, closes #58","Added HMAC support to GPG encryption modes, closes #58
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1366677959,1366677959,2f72960e0fb91b1e257a24461f30263f3b9c0f7a
2f72960e0fb91b1e257a24461f30263f3b9c0f7a,2f72960e,[test suite] clean command tmp files before and after each test,"[test suite] clean command tmp files before and after each test
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1366593195,1366593195,08add2fd48e23a259fd6a80ee765fa3668711201
08add2fd48e23a259fd6a80ee765fa3668711201,08add2fd,[server] minor function prototype convention update for create_rule(),"[server] minor function prototype convention update for create_rule()
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1366591722,1366591722,6c1b755beae3133aab427f8242403e04bfde247f
6c1b755beae3133aab427f8242403e04bfde247f,6c1b755b,[test suite] removed unnecessary comment lines from test config files,"[test suite] removed unnecessary comment lines from test config files
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1366486286,1366486286,f0036f7f22a315571fd4ba10102de2f3db4a5f4f
f0036f7f22a315571fd4ba10102de2f3db4a5f4f,f0036f7f,"[client] set HMAC mode whenever any HMAC option is given, add --key-hmac arg","[client] set HMAC mode whenever any HMAC option is given, add --key-hmac arg
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1366470724,1366470724,387b6e40d3a4fc5cf8b5d69b959a3a5af31b6abb
387b6e40d3a4fc5cf8b5d69b959a3a5af31b6abb,387b6e40,[test suite] updated non-based64 keys in non-base64 key files,"[test suite] updated non-based64 keys in non-base64 key files
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1366470588,1366470588,e447ef57c0f2d70d3f8d0eda80c43aeeb0a8bb4a
e447ef57c0f2d70d3f8d0eda80c43aeeb0a8bb4a,e447ef57,[test suite] bug fix to properly extract 'KEY' variable for Rijndael key information,"[test suite] bug fix to properly extract 'KEY' variable for Rijndael key information
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1366470293,1366470293,9a366c2d677ee28c4c5db096f2f1f377b3cf2a7a
9a366c2d677ee28c4c5db096f2f1f377b3cf2a7a,9a366c2d,[test suite] consolidated client/server interaction result variables into…,"[test suite] consolidated client/server interaction result variables into client_server_interaction()
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1366414995,1366414995,f010d88016f570e26e19bf32e3ff9494262cf436
f010d88016f570e26e19bf32e3ff9494262cf436,f010d880,removed trailing semicolon from KEY value,"removed trailing semicolon from KEY value
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1366414926,1366414926,d356d07bb8c57aec240168c1c433116eb47b15dc
d356d07bb8c57aec240168c1c433116eb47b15dc,d356d07b,minor typo fix in ChangeLog file,"minor typo fix in ChangeLog file
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1366337838,1366337838,39115c6dde3019c54b31f3b31533bbc5e80ccb23
39115c6dde3019c54b31f3b31533bbc5e80ccb23,39115c6d,added Ruhsam Bernhard to the credits file,"added Ruhsam Bernhard to the credits file
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1366334100,1366334100,77c876c1108a2be36d7a6a6fc152d32a4396b3b8
77c876c1108a2be36d7a6a6fc152d32a4396b3b8,77c876c1,credits and changelog updates,"credits and changelog updates
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1366332817,1366332817,a61939c005e2b09d6800e2171f607c9d1948f022
a61939c005e2b09d6800e2171f607c9d1948f022,a61939c0,[test suite] Reorganize client/server interactions to be more rigorous,"[test suite] Reorganize client/server interactions to be more rigorous

This is a significant commit that alters how the test suite interacts with the
fwknop client and server by looking for indications that SPA packets are
actually received.  This is done by first waiting for 'main event loop' in
fwknopd log output to ensure that fwknopd is ready to receive packets, sending
the SPA packet(s), and then watching for for 'SPA Packet from IP' in fwknopd
output.  This is an improvement over the previous strategy that was only based
on timeout values since it works identically regardless of whether fwknop is
being run under valgrind or when the test suite is run on an embedded system
with very limited resources.  Another check is run for fwknopd receiving the
SIGTERM signal to shutdown via 'fwknopd -K', and that failing, the test suite
manually kills the process (though this should be rarely needed).

The above strategy is the result of discussions with George Herlin who proposed
the verification-based approach to test suite operations.

Other things this commit changes is the ability to detect whether OpenSSL
supports the 'hexkey:<key>' style specification for HMAC keys (an older version
of FreeBSD doesn't support this) and falls back to the '-hmac <key>' method if
not.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1366257051,1366292123,b17cb08ddc9707771f7a67ae55d8f7a51f990d88
b17cb08ddc9707771f7a67ae55d8f7a51f990d88,b17cb08d,fixed two type mismatch compilation warnings for the perl FKO extension,"fixed two type mismatch compilation warnings for the perl FKO extension
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1366255674,1366255674,d785dcbe6264ddf37ef709ff01551d813ec21851
d785dcbe6264ddf37ef709ff01551d813ec21851,d785dcbe,[test suite] added tests/python_fko.pl for python tests,"[test suite] added tests/python_fko.pl for python tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1366077739,1366077739,cbf751e8ddd513ed953d2f8fd64864e6c3211d98
cbf751e8ddd513ed953d2f8fd64864e6c3211d98,cbf751e8,[test suite] check for fwknopd ready to receive packets,"[test suite] check for fwknopd ready to receive packets

This commit was inspired through conversations with George Herlin.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1365817847,1365817847,87fc50bb317573511af09e25b1b39009fc9b6f43
87fc50bb317573511af09e25b1b39009fc9b6f43,87fc50bb,Merge remote-tracking branch 'fjoncourt/hmac_support' into hmac_support,"Merge remote-tracking branch 'fjoncourt/hmac_support' into hmac_support

This commit from Franck Joncourt closes #43
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1365815780,1365815780,"c112cb4811f435091466556aa5a11a812d0263c5,fbd38d805b2fca970369c16fe3cd936272288165"
fbd38d805b2fca970369c16fe3cd936272288165,fbd38d80,Added some else statements and their comments.,"Added some else statements and their comments.
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1365770906,1365770906,d988f95a46994de722424c63faebb4537315becd
d988f95a46994de722424c63faebb4537315becd,d988f95a,Fixed test-fwknop.pl to remove any references to my test files.,"Fixed test-fwknop.pl to remove any references to my test files.
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1365680218,1365680218,9faa625d956ac0a9da881d008055840d7ba2713f
9faa625d956ac0a9da881d008055840d7ba2713f,9faa625d,Removed tests.,"Removed tests.
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1365678516,1365678516,fd767a1f47937c64c60a2a79066d23a0b34a827f
c112cb4811f435091466556aa5a11a812d0263c5,c112cb48,[test suite] get hmac iptables duplicated and sha512 long key tests to pass,"[test suite] get hmac iptables duplicated and sha512 long key tests to pass
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1365651118,1365651118,378305a8ab2732a812e3de9a50967088f1daf71a
fd767a1f47937c64c60a2a79066d23a0b34a827f,fd767a1f,Resolve ip address in all of tha nat modes (mrash/fwknop#43).,"Resolve ip address in all of tha nat modes (mrash/fwknop#43).
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1365602766,1365602766,8f3e6a4ed104527e14dcc124fc8940e7730d1dc4
8f3e6a4ed104527e14dcc124fc8940e7730d1dc4,8f3e6a4e,Merge remote-tracking branch 'upstream/hmac_support' into hmac_support,"Merge remote-tracking branch 'upstream/hmac_support' into hmac_support
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1365599574,1365599574,"ed2d6ec8eaa3624e79697acc653ab59ef3845dd5,05ced0a5143b0296b480c1c4e834e494880ca615"
378305a8ab2732a812e3de9a50967088f1daf71a,378305a8,[test suite] added perl FKO Rijndael key test with embedded NULL char,"[test suite] added perl FKO Rijndael key test with embedded NULL char
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1365562134,1365562134,b45a1b07ad2210443a84b0dcf959a03e3712e358
b45a1b07ad2210443a84b0dcf959a03e3712e358,b45a1b07,minor var naming/spacing update,"minor var naming/spacing update
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1365557312,1365557312,05ced0a5143b0296b480c1c4e834e494880ca615
05ced0a5143b0296b480c1c4e834e494880ca615,05ced0a5,add HMAC_KEY variable support to access.conf (alternative to HMAC_KEY_BASE64),"add HMAC_KEY variable support to access.conf (alternative to HMAC_KEY_BASE64)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1365473646,1365473646,748715acf83c8baee7d3d37295306c59fd7e00f7
748715acf83c8baee7d3d37295306c59fd7e00f7,748715ac,[test suite] added python->C HMAC test,"[test suite] added python->C HMAC test
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1365468314,1365468314,57773993e4de17823084cd3fe93d122a0607d687
57773993e4de17823084cd3fe93d122a0607d687,57773993,"[test suite] don't remove output/ directory in --list mode, closes #53","[test suite] don't remove output/ directory in --list mode, closes #53
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1365382655,1365382655,cccab3c22bba7466f498a061d5f9d0493d76daef
cccab3c22bba7466f498a061d5f9d0493d76daef,cccab3c2,"[test suite] restore --diff mode, fixes #52","[test suite] restore --diff mode, fixes #52
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1365366513,1365366513,a59b5acc991e8e097005f9636f9f36275385ff29
a59b5acc991e8e097005f9636f9f36275385ff29,a59b5acc,Merge patch from Franck in support of issue #43,"Merge patch from Franck in support of issue #43
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1365361869,1365361869,"4f9fbe4549258c4e1e80e4236f24ca875a7f4dbd,8f667c17acc1dd95bf2596ecb87998db09f95834"
4f9fbe4549258c4e1e80e4236f24ca875a7f4dbd,4f9fbe45,[test suite] NAT name resolution tests,"[test suite] NAT name resolution tests

This commit adds tests for NAT name resolution in support of issue #43.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1365356022,1365356022,fcac5ca413df89e2e766e3a78554ada1564bfaed
ed2d6ec8eaa3624e79697acc653ab59ef3845dd5,ed2d6ec8,Added tests to the test suite in order to check the update.,"Added tests to the test suite in order to check the update.
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1365354038,1365354038,8f667c17acc1dd95bf2596ecb87998db09f95834
8f667c17acc1dd95bf2596ecb87998db09f95834,8f667c17,Fixed Nat mode not resolving hostname to IP's.,"Fixed Nat mode not resolving hostname to IP's.

Linked mrash/fwknop#43
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1365281999,1365281999,11ba15383227e763377fcd5cb4b2f31f880010a0
fcac5ca413df89e2e766e3a78554ada1564bfaed,fcac5ca4,[test suite] minor encryption key variable name update,"[test suite] minor encryption key variable name update
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1364871765,1364903297,98d5b6d8a02bc03d01dbf849f088db224f6e6145
98d5b6d8a02bc03d01dbf849f088db224f6e6145,98d5b6d8,added 'legacy' initialization vector text to man pages,"added 'legacy' initialization vector text to man pages
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1364871705,1364903240,9ee21aae127d351d14ff81c981729e3d82f2b9a9
9ee21aae127d351d14ff81c981729e3d82f2b9a9,9ee21aae,Merge branch 'hmac_support' of ssh://192.168.10.1/home/mbr/git/bare_repos/fwknop into hmac_support,"Merge branch 'hmac_support' of ssh://192.168.10.1/home/mbr/git/bare_repos/fwknop into hmac_support
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1364604330,1364604330,"6b845cce432fe61e3cccbbd850048a921b983626,fb18b778d191316bf78c962d9478c605b31f3757"
fb18b778d191316bf78c962d9478c605b31f3757,fb18b778,added test/fko-python.py test script,"added test/fko-python.py test script
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1364604288,1364604288,08c9cc0938d6cad9e059a920e9a4bcbecae810b9
08c9cc0938d6cad9e059a920e9a4bcbecae810b9,08c9cc09,HMAC function rename for consistency,"HMAC function rename for consistency

Make sure that HMAC function names conform to previously established get_*,
set_* naming convention.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1364604164,1364604164,d6b4a2a1c3f52853cd959817c93511f6c2070db1
d6b4a2a1c3f52853cd959817c93511f6c2070db1,d6b4a2a1,added fuzzing tests for long Rijndael and HMAC keys,"added fuzzing tests for long Rijndael and HMAC keys
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1364517732,1364517732,6ecf6514c9ec47fd3d3cc9aae0c626ec16d33e85
6ecf6514c9ec47fd3d3cc9aae0c626ec16d33e85,6ecf6514,Enforce Rijndael and HMAC key length maximum sizes,"Enforce Rijndael and HMAC key length maximum sizes

This commit fixes a couple of overflow conditions for Rijndael and HMAC keys
that are larger than anticipated maximums.  In the case of Rijndael, PKCS#5 1.5
is supported up to key sizes of 32 bytes or smaller (and maintains compatibility
with OpenSSL, and future versions will support PKCS#5 2.0 (PBKDF2) while allowing
for larger key sizes.  HMAC keys may be up to 128 bytes even for digest
algorithms such as SHA256 that have block sizes that are smaller than this.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1364173458,1364173458,08ab1cf8e1ebb0217e060a67226357a02b982c33
08ab1cf8e1ebb0217e060a67226357a02b982c33,08ab1cf8,remove execute bit,"remove execute bit
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1364043382,1364043382,6ca996a1731562ce2aca07d97757b6a5a3f2e437
6b845cce432fe61e3cccbbd850048a921b983626,6b845cce,remove execute bit,"remove execute bit
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1364043228,1364043228,6ca996a1731562ce2aca07d97757b6a5a3f2e437
6ca996a1731562ce2aca07d97757b6a5a3f2e437,6ca996a1,[test suite] minor spacing update,"[test suite] minor spacing update
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1364006050,1364006050,112dc6959e58f5f34961c261a0eba2a635369c77
112dc6959e58f5f34961c261a0eba2a635369c77,112dc695,Merge remote-tracking branch 'fjoncourt/hmac_support' into hmac_support,"Merge remote-tracking branch 'fjoncourt/hmac_support' into hmac_support
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1363917485,1363917485,"42cfc58e20db72b7bdcff848e0e6a9838028e923,11ba15383227e763377fcd5cb4b2f31f880010a0"
42cfc58e20db72b7bdcff848e0e6a9838028e923,42cfc58e,[perl FKO] add HMAC support along with test suite HMAC verification (closes #16),"[perl FKO] add HMAC support along with test suite HMAC verification (closes #16)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1363917318,1363917318,d677e18e2527be218aadfae96d7cbcd75d0c68d2
d677e18e2527be218aadfae96d7cbcd75d0c68d2,d677e18e,minor ChangeLog wording update for HMAC section,"minor ChangeLog wording update for HMAC section
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1363916918,1363916918,49c956dafc423bc7a2440e53589748a3c1287598
11ba15383227e763377fcd5cb4b2f31f880010a0,11ba1538,Merge remote-tracking branch 'upstream/hmac_support' into hmac_support,"Merge remote-tracking branch 'upstream/hmac_support' into hmac_support
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1363815225,1363815225,"4b6318138746b851dc07bf00556f5d99364cceac,49c956dafc423bc7a2440e53589748a3c1287598"
4b6318138746b851dc07bf00556f5d99364cceac,4b631813,Updated fwknop documentation.,"Updated fwknop documentation.
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1363815118,1363815118,b6bd8a8e8cf426c8da97b9a8409e27225c48bd65
b6bd8a8e8cf426c8da97b9a8409e27225c48bd65,b6bd8a8e,Fixed issue when trying to save options for a new stanza.,"Fixed issue when trying to save options for a new stanza.
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1363811932,1363811932,d8090a81430ec7b91d7aa4572ea4b6d0ee56c2cd
49c956dafc423bc7a2440e53589748a3c1287598,49c956da,[test suite] added two basic tests for installation and operations of the python fko extension,"[test suite] added two basic tests for installation and operations of the python fko extension
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1363742616,1363742616,b92fcce648ba64ffcb54a8e6c3586c3b6965dc3c
b92fcce648ba64ffcb54a8e6c3586c3b6965dc3c,b92fcce6,[python extension] minor function name updates,"[python extension] minor function name updates
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1363742552,1363742552,8c3cab02699926d4df9a1e71eed9e25102bed90c
8c3cab02699926d4df9a1e71eed9e25102bed90c,8c3cab02,[python extension] update key_gen() parse tuple format arg to handle hmac_type integer,"[python extension] update key_gen() parse tuple format arg to handle hmac_type integer
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1363742145,1363742145,e4689892ef152674e25c647ad0665539bf34e852
e4689892ef152674e25c647ad0665539bf34e852,e4689892,[client] minor http resolve update to include URL in error output,"[client] minor http resolve update to include URL in error output
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1363741751,1363741751,ab40e300226484bb445680daad2e57dfa099b6ea
ab40e300226484bb445680daad2e57dfa099b6ea,ab40e300,minor typo fix,"minor typo fix
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1363657740,1363657740,d8090a81430ec7b91d7aa4572ea4b6d0ee56c2cd
d8090a81430ec7b91d7aa4572ea4b6d0ee56c2cd,d8090a81,Allowed an fwknoprc stanza (-n) to be overriden by arguments from the command line.,"Allowed an fwknoprc stanza (-n) to be overriden by arguments from the command line.
Added a sanity check to make sure the -n option is used with the --save-rc-stanza option.
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1363640791,1363640791,817a719a9c4e8de4992b3136abcac6caa2eee47b
817a719a9c4e8de4992b3136abcac6caa2eee47b,817a719a,[python module] update fko_new_with_data() call to include hmac_type,"[python module] update fko_new_with_data() call to include hmac_type
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1363575828,1363575828,92af5b53beff297dffa06280f557a208d1f49c05
92af5b53beff297dffa06280f557a208d1f49c05,92af5b53,Merge remote-tracking branch 'fjoncourt/python_binding' into hmac_support,"Merge remote-tracking branch 'fjoncourt/python_binding' into hmac_support
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1363575777,1363575777,"247edec004eabd81fab9eed5cb06a7e5d9a554a8,d299f1de665bb8b0e0443637d873cdddcae57df6"
247edec004eabd81fab9eed5cb06a7e5d9a554a8,247edec0,minor hmac prototype update to add const qualifier,"minor hmac prototype update to add const qualifier
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1363574909,1363574909,066e90d955e98b20c260626a8921348e82dde125
066e90d955e98b20c260626a8921348e82dde125,066e90d9,[test suite] added hmac_force_nat_access.conf file to Makefile.am,"[test suite] added hmac_force_nat_access.conf file to Makefile.am
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1363574572,1363574572,c7b5611fa4947f4d0dd0086b140e6390d0db6d43
c7b5611fa4947f4d0dd0086b140e6390d0db6d43,c7b5611f,Merge remote-tracking branch 'fjoncourt/hmac_support' into hmac_support,"Merge remote-tracking branch 'fjoncourt/hmac_support' into hmac_support

Significant merge from Franck Joncourt to add the ability to save command line
args to ~/.fwknoprc stanzas.  This merge is in support of #4.

Conflicts:
	lib/fko_util.c
	lib/fko_util.h
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1363570463,1363570463,"7e784df3870373f055a2f0f8d818829501bcb1c0,b9046df64de2472fa59a318a99f86b6ef2eaa78e"
d299f1de665bb8b0e0443637d873cdddcae57df6,d299f1de,Add ne wdirective to setup.py in order to be able to build the python binding,"Add ne wdirective to setup.py in order to be able to build the python binding
without having libfko installed on the system.
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1363518187,1363518187,aa36f3ffee347c67218be36d5cf851be8b46cffc
7e784df3870373f055a2f0f8d818829501bcb1c0,7e784df3,[server] allow long Rijndael command messages,"[server] allow long Rijndael command messages

This change allows SPA clients to include long messages in command mode and
generally allows decryption operations to dictate success/failure instead of
SPA packet length to gate decryption attempts.  Closes #40.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1363459395,1363459395,1de5e370e1f4b1464bfcd94c7ff4c76bbc1922bc
1de5e370e1f4b1464bfcd94c7ff4c76bbc1922bc,1de5e370,[test suite] added 'server_conf' hash key verification,"[test suite] added 'server_conf' hash key verification
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1363459208,1363459208,4bdb71315a049e072f95e3426fe9c149ca763586
4bdb71315a049e072f95e3426fe9c149ca763586,4bdb7131,[client] --nat-rand-port bug fix,"[client] --nat-rand-port bug fix

Bug fix for --nat-rand-port mode to ensure that the port to be
NAT'd is properly defined so that the fwknopd server will NAT
connnections to this port instead of applying the NAT operation to the
port that is to be accessed via -A.  This change also prints the
randomly assigned port to stdout regardless of whether --verbose mode is
used (since it not then the user will have no idea which port is
actually going to be NAT'd on the fwknopd side).
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1363459100,1363459100,253ccb7cea76d4b6f381998b7c00c785674b138f
253ccb7cea76d4b6f381998b7c00c785674b138f,253ccb7c,added encryption type/mode and message type string representations for FKO context diplay output,"added encryption type/mode and message type string representations for FKO context diplay output
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1363314404,1363314404,aa36f3ffee347c67218be36d5cf851be8b46cffc
b9046df64de2472fa59a318a99f86b6ef2eaa78e,b9046df6,Remove useless comment.,"Remove useless comment.
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1363297176,1363297176,212075094cf2b5380e85af34145917921639423d
212075094cf2b5380e85af34145917921639423d,21207509,Added the possibility to parse only sedction in a fwknoprc file and,"Added the possibility to parse only sedction in a fwknoprc file and
not only the whole file - more.
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1363295797,1363295797,366536055fd18600c879f4147b4612ce2f056d97
366536055fd18600c879f4147b4612ce2f056d97,36653605,Added the possibility to parse only sedction in a fwknoprc file and not only the whole file,"Added the possibility to parse only sedction in a fwknoprc file and not only the whole file
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1363155230,1363155230,977ee18c3f75966de0be52cce54eace40c0185ef
aa36f3ffee347c67218be36d5cf851be8b46cffc,aa36f3ff,bug fix to remove hmac_sha512_long_key_access.conf file (doesn't exist) from Makefile.am,"bug fix to remove hmac_sha512_long_key_access.conf file (doesn't exist) from Makefile.am
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1363145153,1363145153,3ef3ab29c87f307d10dccf2d9857dd4aacc687de
3ef3ab29c87f307d10dccf2d9857dd4aacc687de,3ef3ab29,[test suite] 'key_file' hash key update for HMAC SHA384 test,"[test suite] 'key_file' hash key update for HMAC SHA384 test
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1363144812,1363144812,0b9f25362e231e4a072fdfddd60ad673107e1b47
0b9f25362e231e4a072fdfddd60ad673107e1b47,0b9f2536,[test suite] minor bug fix for HMAC SHA384 default key test rc file path,"[test suite] minor bug fix for HMAC SHA384 default key test rc file path
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1363144209,1363144209,9e32cdd6d92555aff99653cba67b1518f2c7d310
9e32cdd6d92555aff99653cba67b1518f2c7d310,9e32cdd6,[test suite] added files to Makefile.am and added a test to verify this,"[test suite] added files to Makefile.am and added a test to verify this
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1363143037,1363143037,55d188ed1f6a04d3c89ce0df8ddb768247a77e7f
55d188ed1f6a04d3c89ce0df8ddb768247a77e7f,55d188ed,[test suite] added HMAC key tests,"[test suite] added HMAC key tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1363141123,1363141123,fe22423a44f09c41d1e7452c216d07a6a8f4c020
fe22423a44f09c41d1e7452c216d07a6a8f4c020,fe22423a,[libfko] bug fix to maintain OpenSSL compatibility for HMAC keys longer than associated block size,"[libfko] bug fix to maintain OpenSSL compatibility for HMAC keys longer than associated block size
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1363141061,1363141061,402a545cb29b04420cb17c722f103bd27c316a4d
402a545cb29b04420cb17c722f103bd27c316a4d,402a545c,convert standard hmac access.conf file for HMAC SHA512 to use key size of 128 bytes,"convert standard hmac access.conf file for HMAC SHA512 to use key size of 128 bytes
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1363057976,1363057976,bf6cc6c6059ca1759c8724432c57d3e19ab068ff
bf6cc6c6059ca1759c8724432c57d3e19ab068ff,bf6cc6c6,--key-gen bug fix to allow --key-len and --hmac-key-len values to apply to generated key lengths,"--key-gen bug fix to allow --key-len and --hmac-key-len values to apply to generated key lengths
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1363057327,1363057327,02d0255a7cc8de78b82398b88bccba12c43152a4
02d0255a7cc8de78b82398b88bccba12c43152a4,02d0255a,update base64 key char arrays to use MAX_B64_KEY_LEN macro,"update base64 key char arrays to use MAX_B64_KEY_LEN macro
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1363056900,1363056900,6478d2b892850960e0c68bd5e0d8bd25896c775d
6478d2b892850960e0c68bd5e0d8bd25896c775d,6478d2b8,minor fix to remove extraneous memset() call,"minor fix to remove extraneous memset() call
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1363056850,1363056850,70c17be91603b2236d4366a1181466f8e5d99546
70c17be91603b2236d4366a1181466f8e5d99546,70c17be9,added MAX_B64_KEY_LEN for full length SHA512 keys,"added MAX_B64_KEY_LEN for full length SHA512 keys
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1363056602,1363056602,4ef2a1ec57e33f36eec2fb44e70597990fc34902
4ef2a1ec57e33f36eec2fb44e70597990fc34902,4ef2a1ec,fix fko_new_with_data() call to include the hmac type,"fix fko_new_with_data() call to include the hmac type
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1363056068,1363056068,6e7a56067bcdce14bfdd2a4a8dd4955fc225dd29
6e7a56067bcdce14bfdd2a4a8dd4955fc225dd29,6e7a5606,[perl FKO module] add hmac_type to fko_new_with_data() calls,"[perl FKO module] add hmac_type to fko_new_with_data() calls
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1363050800,1363050800,343bd449d4d826668a816fe3b840582b401fa545
343bd449d4d826668a816fe3b840582b401fa545,343bd449,HMAC MD5 bug fix to ensure to set the MD5 block length to 64,"HMAC MD5 bug fix to ensure to set the MD5 block length to 64
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1362967179,1362967179,bd2af22691da42dc65db89946ef0876632db5734
bd2af22691da42dc65db89946ef0876632db5734,bd2af226,[test suite] set HMAC_DIGEST_TYPE to md5 for HMAC MD5 test,"[test suite] set HMAC_DIGEST_TYPE to md5 for HMAC MD5 test
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1362967132,1362967132,3598fc7d7d6af540c5e75c23ac20649e833060dd
3598fc7d7d6af540c5e75c23ac20649e833060dd,3598fc7d,added missing hmac_md5() function to hmac.h,"added missing hmac_md5() function to hmac.h
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1362956179,1362956179,7274f6724eb46bd74315db64a3f3a21e8722f4f4
7274f6724eb46bd74315db64a3f3a21e8722f4f4,7274f672,Merge branch 'hmac_support' of github.com:mrash/fwknop into hmac_support,"Merge branch 'hmac_support' of github.com:mrash/fwknop into hmac_support
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1362953561,1362953561,"dc0ce294777763c5211bdd241a31ee6a4bc2d045,19cf0d51fde2db386637537dd1c4c8b42dda084b"
19cf0d51fde2db386637537dd1c4c8b42dda084b,19cf0d51,Merge branch 'hmac_support' of github.com:mrash/fwknop into hmac_support,"Merge branch 'hmac_support' of github.com:mrash/fwknop into hmac_support
",,,,Damien Stuart,dstuart@dstuart.org,Damien Stuart,dstuart@dstuart.org,1362950259,1362950259,"744e002779158911a0e4b9fb6bf53f7fafce4f2c,0529d235958364de42c3d806ce02da2e52f36a17"
744e002779158911a0e4b9fb6bf53f7fafce4f2c,744e0027,Removed tmp lib and include dirs from the python module setup.py file.,"Removed tmp lib and include dirs from the python module setup.py file.
",,,,Damien Stuart,dstuart@dstuart.org,Damien Stuart,dstuart@dstuart.org,1362950239,1362950239,6fa3be393c02dfd9725690a84900f519bfa7659f
dc0ce294777763c5211bdd241a31ee6a4bc2d045,dc0ce294,bug fix to anticipate OpenSSL HMAC output that spans multiple lines (as in SHA512),"bug fix to anticipate OpenSSL HMAC output that spans multiple lines (as in SHA512)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1362947854,1362947854,c5b5cba72968bc39e76f80a4f47063640ef9e92a
c5b5cba72968bc39e76f80a4f47063640ef9e92a,c5b5cba7,Added HMAC MD5 support (need test suite validation still),"Added HMAC MD5 support (need test suite validation still)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1362947406,1362947406,0529d235958364de42c3d806ce02da2e52f36a17
977ee18c3f75966de0be52cce54eace40c0185ef,977ee18c,New function bool_to_yesno.,"New function bool_to_yesno.
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1362945319,1362945319,8a2bc732b76b5a265cc38890e0c0eee1a1170ce6
0529d235958364de42c3d806ce02da2e52f36a17,0529d235,remove minor debugging statement,"remove minor debugging statement
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1362942814,1362942814,6882ac57ec9bfc945d29304df11fe60dc70b8d5a
6882ac57ec9bfc945d29304df11fe60dc70b8d5a,6882ac57,add HMAC-SHA1 support,"add HMAC-SHA1 support
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1362941799,1362941799,7821e83dfc818b69ffe8ad867d9de42729ccd308
7821e83dfc818b69ffe8ad867d9de42729ccd308,7821e83d,Merge branch 'hmac_support' of github.com:mrash/fwknop into hmac_support,"Merge branch 'hmac_support' of github.com:mrash/fwknop into hmac_support

Conflicts:
	client/fwknop.c
	lib/fko_hmac.c
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1362940327,1362940327,"22dde8eb351fb2ad01e0f6d532c787a19e1e44ae,6fa3be393c02dfd9725690a84900f519bfa7659f"
22dde8eb351fb2ad01e0f6d532c787a19e1e44ae,22dde8eb,SPA with HMAC SHA256 and SHA384 now works,"SPA with HMAC SHA256 and SHA384 now works

This is a fairly significant commit that lays the groundwork for getting
selectable HMAC modes working for both the client and server.  One libfko API
change was required so that the hmac_type is passed into fko_new_with_data().
This allows the server to set the hmac_type via access.conf stanzas.  The
effort in this commit will be extended to allow HMAC MD5, SHA1, and SHA512
also function properly.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1362939965,1362939965,6f45b2c3b15c40ab57e503cb148d6e9781cae240
6fa3be393c02dfd9725690a84900f519bfa7659f,6fa3be39,Renamed fko_set_hmac_type to fko_set_spa_hmac_type. Incorporated  libfko changes…,"Renamed fko_set_hmac_type to fko_set_spa_hmac_type. Incorporated  libfko changes and additions to the fko python module code.
",,,,Damien Stuart,dstuart@dstuart.org,Damien Stuart,dstuart@dstuart.org,1362936084,1362936084,1a39047b925666bc90436ea72b090a29790710d3
8a2bc732b76b5a265cc38890e0c0eee1a1170ce6,8a2bc732,Fixed data format for some arguments in fwknoprc when they are saved.,"Fixed data format for some arguments in fwknoprc when they are saved.
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1362935828,1362935828,c5163fcc24a1ef22c4540044aaacc9c9063741ff
6f45b2c3b15c40ab57e503cb148d6e9781cae240,6f45b2c3,"added HMAC SHA384 and SHA512 support, bug fix to allow shorter HMAC key lengths…","added HMAC SHA384 and SHA512 support, bug fix to allow shorter HMAC key lengths than associated digest block size
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1362889628,1362889628,f9fa3c2b6d2df719a826771d3935f535799eade4
f9fa3c2b6d2df719a826771d3935f535799eade4,f9fa3c2b,[test suite] derive HMAC digest type from client display context output,"[test suite] derive HMAC digest type from client display context output
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1362889559,1362889559,6741cfc22b6f4bb174aa7c8160da0882ea90bf29
6741cfc22b6f4bb174aa7c8160da0882ea90bf29,6741cfc2,convert HMAC functions to static where possible,"convert HMAC functions to static where possible
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1362865662,1362865688,3ff39dfab48c587005781027589a8a8605b34ca5
3ff39dfab48c587005781027589a8a8605b34ca5,3ff39dfa,[test suite] minor variable conversion to 'our' vars,"[test suite] minor variable conversion to 'our' vars
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1362865292,1362865292,1a39047b925666bc90436ea72b090a29790710d3
c5163fcc24a1ef22c4540044aaacc9c9063741ff,c5163fcc,Added new parameters HMAC_DIGEST_TYPE to the save capability.,"Added new parameters HMAC_DIGEST_TYPE to the save capability.
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1362829145,1362829145,c2ef7f224ad067251b5c6b4790a2465be943139f
c2ef7f224ad067251b5c6b4790a2465be943139f,c2ef7f22,Moved static functions from the client to the fko_util.c file.,"Moved static functions from the client to the fko_util.c file.
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1362827837,1362827837,469f9a5f395ec56dc23e7ef14561abb38fbb7a43
469f9a5f395ec56dc23e7ef14561abb38fbb7a43,469f9a5f,Merge remote-tracking branch 'upstream/hmac_support' into hmac_support,"Merge remote-tracking branch 'upstream/hmac_support' into hmac_support

Conflicts:
	client/cmd_opts.h
	client/config_init.c
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1362826485,1362826485,"053db37c0dd711ff7c189fb84f498af859cb7a4c,1a39047b925666bc90436ea72b090a29790710d3"
1a39047b925666bc90436ea72b090a29790710d3,1a39047b,ensure to close access.conf file ptr when an error condition is found and exit()…,"ensure to close access.conf file ptr when an error condition is found and exit() is going to be called
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1362798739,1362798739,8b5cf3446fe33dba185d6399c510a76f2243eed7
8b5cf3446fe33dba185d6399c510a76f2243eed7,8b5cf344,[test suite] minor bug fix for command line definition for invalid HMAC test,"[test suite] minor bug fix for command line definition for invalid HMAC test
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1362798311,1362798311,d13eba7d133bfdc03ffe8e59a752c6e20db1cb23
d13eba7d133bfdc03ffe8e59a752c6e20db1cb23,d13eba7d,[test suite] minor category/subcategory update for fuzzing tests,"[test suite] minor category/subcategory update for fuzzing tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1362797299,1362797299,7fe5c55fcfc8e90207fc6e0ef9e29e9d50a6d420
7fe5c55fcfc8e90207fc6e0ef9e29e9d50a6d420,7fe5c55f,[test suite] added various hmac verification conf files,"[test suite] added various hmac verification conf files
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1362795045,1362795045,d4362b7b3858fefe066b52f9dcdaa026dca4b802
d4362b7b3858fefe066b52f9dcdaa026dca4b802,d4362b7b,[test suite] import test definitions from tests/*.pl files,"[test suite] import test definitions from tests/*.pl files
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1362794991,1362794991,44d05a691668b49804555694166f11cf033465ba
44d05a691668b49804555694166f11cf033465ba,44d05a69,interim commit for supporting multiple HMAC digest types (# 45),"interim commit for supporting multiple HMAC digest types (# 45)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1362716088,1362716088,39ca73a245e40f93f144a55be91f53821e75269a
39ca73a245e40f93f144a55be91f53821e75269a,39ca73a2,[test suite] added OpenSSL HMAC verification (closes #39),"[test suite] added OpenSSL HMAC verification (closes #39)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1362544186,1362544186,a09392b08debce847f71fa1a87b084d858050bd0
053db37c0dd711ff7c189fb84f498af859cb7a4c,053db37c,Added more command line switches in order for the user to be able to specify the…,"Added more command line switches in order for the user to be able to specify the Rijndael, Rijndael base64 and HMAC key.
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1362513698,1362513698,38a803fb71d463a3e20227f03d7cff64f85e578b
a09392b08debce847f71fa1a87b084d858050bd0,a09392b0,[test suite] better reporting of test title matching for valgrind coverage test,"[test suite] better reporting of test title matching for valgrind coverage test
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1362351362,1362351362,5c182c1722ff328515b06505d075c8b6792bba1b
5c182c1722ff328515b06505d075c8b6792bba1b,5c182c17,[test suite] added HMAC dual usage test,"[test suite] added HMAC dual usage test
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1362345706,1362345706,e064e39284102908bfd478fe120fb0b5b85279c5
e064e39284102908bfd478fe120fb0b5b85279c5,e064e392,Merge branch 'hmac_header_fixes' into hmac_support,"Merge branch 'hmac_header_fixes' into hmac_support
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1362339381,1362339381,"374c573c89309c31e875dc1d6738f63d459554ce,1dc47f80d8e33e8d38473870efb2611728d2a22b"
1dc47f80d8e33e8d38473870efb2611728d2a22b,1dc47f80,Fix byte order warning,"Fix byte order warning

This commit fixes a byte order warning for both sha1.c and md5.c like so:

sha1.c:127:6: warning: #warning Undetermined or unsupported Byte Order... We will try LITTLE_ENDIAN [-Wcpp]

Also removed a couple of header includes that appear not be needed.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1362338948,1362338948,b86e48dd66c3e7a6160cf932639418d1c2325cd3
38a803fb71d463a3e20227f03d7cff64f85e578b,38a803fb,"* Added KEY, KEY_BASE64 and HMAC_KEY_BASE64 definitions to the save capability.","* Added KEY, KEY_BASE64 and HMAC_KEY_BASE64 definitions to the save capability.
* Allowed section to be found during an update of fwknoprc even if there are somes spaces before the stanza.
* Allowed the user to strike the ENTER key to overwrite the section as it will be done with the 'Y' char.
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1362332491,1362332491,e38fb835d0622125f514561c9c34f52f1ff54cd7
374c573c89309c31e875dc1d6738f63d459554ce,374c573c,Merge branch 'hmac_header_fixes' into hmac_support,"Merge branch 'hmac_header_fixes' into hmac_support
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1362288939,1362288939,"d94513ee00d64f1686cda7eb5f6a2eb3825776ec,b86e48dd66c3e7a6160cf932639418d1c2325cd3"
b86e48dd66c3e7a6160cf932639418d1c2325cd3,b86e48dd,remove a couple of unnecessary header includes,"remove a couple of unnecessary header includes
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1362284186,1362284186,d27c3e3b09410101f88db05bdf05dc02fc0403a5
d27c3e3b09410101f88db05bdf05dc02fc0403a5,d27c3e3b,Merge branch 'hmac_header_fixes' of github.com:mrash/fwknop into hmac_header_fixes,"Merge branch 'hmac_header_fixes' of github.com:mrash/fwknop into hmac_header_fixes
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1362282075,1362282075,"8731f02005f50a52482211128a5dd0bb050bfeb4,f9e1ae4859ac850ede8e980bb96d64189eb7fefe"
d94513ee00d64f1686cda7eb5f6a2eb3825776ec,d94513ee,[test suite] started adding HMAC equivalent tests for all existing tests,"[test suite] started adding HMAC equivalent tests for all existing tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1362281906,1362281906,58ba7717e61d1471b86cc4ac070f871ff4f02d15
f9e1ae4859ac850ede8e980bb96d64189eb7fefe,f9e1ae48,Merge my working branch 'hmac_support' into hmac_header_fixes,"Merge my working branch 'hmac_support' into hmac_header_fixes
",,,,Damien Stuart,dstuart@dstuart.org,Damien Stuart,dstuart@dstuart.org,1362262970,1362262970,"73b1931bd874c9c4315825dfc913bf39139f3085,c1baa7e12f3663ebecb481fe51b8ae92255cebb0"
c1baa7e12f3663ebecb481fe51b8ae92255cebb0,c1baa7e1,Merge branch 'hmac_support' of github.com:mrash/fwknop into hmac_support,"Merge branch 'hmac_support' of github.com:mrash/fwknop into hmac_support
",,,,Damien Stuart,dstuart@dstuart.org,Damien Stuart,dstuart@dstuart.org,1362262135,1362262135,"6ecf81b16e601b92f67487cee2ef4c303f733b2e,839cc416039ca10d42f36071587d4b1ad3bd1fbe"
6ecf81b16e601b92f67487cee2ef4c303f733b2e,6ecf81b1,First round if refactoring to clean up header dependencies.,"First round if refactoring to clean up header dependencies.
",,,,Damien Stuart,dstuart@dstuart.org,Damien Stuart,dstuart@dstuart.org,1362261800,1362261800,9c1b1d531d28dc32cbf7935e4a59d629ad2ac38c
58ba7717e61d1471b86cc4ac070f871ff4f02d15,58ba7717,[test suite] minor category renaming,"[test suite] minor category renaming
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1362251627,1362251627,1de684ab167543f14fcf3046086d5b9aacba90d2
1de684ab167543f14fcf3046086d5b9aacba90d2,1de684ab,[test suite] minor spacing fix for hmac_access.conf file,"[test suite] minor spacing fix for hmac_access.conf file
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1362240919,1362240919,e4b6f566192aaebd927046c663f572e1b97d8da4
e4b6f566192aaebd927046c663f572e1b97d8da4,e4b6f566,[test suite] minor valgrind coverage dir import status message,"[test suite] minor valgrind coverage dir import status message
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1362240648,1362240648,a00de31f5a73750eee6a46ceb50d300f2432f528
a00de31f5a73750eee6a46ceb50d300f2432f528,a00de31f,[test suite] use find_command() for valgrind path,"[test suite] use find_command() for valgrind path
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1362239223,1362239223,1e01d59c918b7d6e015e9874981109c09ec8aedc
1e01d59c918b7d6e015e9874981109c09ec8aedc,1e01d59c,[test suite] added elapsed time display,"[test suite] added elapsed time display
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1362237485,1362237485,839cc416039ca10d42f36071587d4b1ad3bd1fbe
8731f02005f50a52482211128a5dd0bb050bfeb4,8731f020,Merge branch 'hmac_support' into hmac_header_fixes,"Merge branch 'hmac_support' into hmac_header_fixes
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1362195319,1362195319,"73b1931bd874c9c4315825dfc913bf39139f3085,839cc416039ca10d42f36071587d4b1ad3bd1fbe"
839cc416039ca10d42f36071587d4b1ad3bd1fbe,839cc416,remove unused vars for pf/ipfw/ipf firewalls until NAT is supported for them,"remove unused vars for pf/ipfw/ipf firewalls until NAT is supported for them
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1362193882,1362193882,bf94e79a3b85ae1f662b580822dd3d99e2b803fc
bf94e79a3b85ae1f662b580822dd3d99e2b803fc,bf94e79a,merged bf990821ffcb44aba4c82a476e0309b49837ebb7 for #20,"merged bf990821ffcb44aba4c82a476e0309b49837ebb7 for #20
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1362193088,1362193088,"22316b796cc38824bf699898b6148719204b54f5,bf990821ffcb44aba4c82a476e0309b49837ebb7"
73b1931bd874c9c4315825dfc913bf39139f3085,73b1931b,minor clean up for get_keys() base64 decoded key length,"minor clean up for get_keys() base64 decoded key length
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1362108304,1362108304,ffcb77552b44833765020a0c04f5232343c02146
ffcb77552b44833765020a0c04f5232343c02146,ffcb7755,Remove lib/fko.h dependency on rijndael.h,"Remove lib/fko.h dependency on rijndael.h
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1362106063,1362106063,22316b796cc38824bf699898b6148719204b54f5
22316b796cc38824bf699898b6148719204b54f5,22316b79,added test/fko-wrapper/ files for the test suite,"added test/fko-wrapper/ files for the test suite
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1362105773,1362105773,db7f3e2b3c53c27f64663fff5c926238cc7bdea6
e38fb835d0622125f514561c9c34f52f1ff54cd7,e38fb835,Added save capability for a specific stanza in fwknoprc.,"Added save capability for a specific stanza in fwknoprc.
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1362088388,1362088388,bdb32cf634760bb22d376ea371a0be6951ce0612
9c1b1d531d28dc32cbf7935e4a59d629ad2ac38c,9c1b1d53,Merging fixes_for_2.0.4 into hmac_support,"Merging fixes_for_2.0.4 into hmac_support
",,,,Damien Stuart,dstuart@dstuart.org,Damien Stuart,dstuart@dstuart.org,1361846769,1361846769,"bdb32cf634760bb22d376ea371a0be6951ce0612,bf990821ffcb44aba4c82a476e0309b49837ebb7"
db7f3e2b3c53c27f64663fff5c926238cc7bdea6,db7f3e2b,Added fko_set_spa_encryption_mode() multi-call test to fko-wrapper,"Added fko_set_spa_encryption_mode() multi-call test to fko-wrapper
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1361829012,1361829012,2f1768fcc4c287a3a26d844fafec9197d8ae1db8
bf990821ffcb44aba4c82a476e0309b49837ebb7,bf990821,Fixed broken configure options for forcing a particular firewall type and path.,"Fixed broken configure options for forcing a particular firewall type and path.
",,,,Damien Stuart,dstuart@dstuart.org,Damien Stuart,dstuart@dstuart.org,1361747353,1361747353,ecc9a62a23faa3688c5b63849e4f12109beffef5
2f1768fcc4c287a3a26d844fafec9197d8ae1db8,2f1768fc,minor CREDITS file formatting update,"minor CREDITS file formatting update
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1361584308,1361584308,bdb32cf634760bb22d376ea371a0be6951ce0612
bdb32cf634760bb22d376ea371a0be6951ce0612,bdb32cf6,added decryption tests to fko-wrapper,"added decryption tests to fko-wrapper
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1361504860,1361504860,6c2b657bfe6991224c665bc4c8e93fdcad8262b7
6c2b657bfe6991224c665bc4c8e93fdcad8262b7,6c2b657b,[libfko] free dynamically allocated resources for multiple libfko fcn calls,"[libfko] free dynamically allocated resources for multiple libfko fcn calls
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1361504673,1361504673,2b54cb94f540d2db9d8cd4db37e61ed893f1bffb
2b54cb94f540d2db9d8cd4db37e61ed893f1bffb,2b54cb94,memory leak bug fix for fko_new() to allow multiple calls without requiring…,"memory leak bug fix for fko_new() to allow multiple calls without requiring external fko_destroy() call
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1361450193,1361453789,74fe3c633049b53bdb92f2d65ed589a05accf9c4
74fe3c633049b53bdb92f2d65ed589a05accf9c4,74fe3c63,added fko-wrapper memory validation test,"added fko-wrapper memory validation test
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1361450153,1361453717,3ce7a77df35eb2277a71767deb1dcc22cc8886d8
3ce7a77df35eb2277a71767deb1dcc22cc8886d8,3ce7a77d,added global function call number var for fko-wrapper,"added global function call number var for fko-wrapper
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1361450032,1361453676,52f40fea3cc0a84a0db9dad853b8abbc5bdd78cb
52f40fea3cc0a84a0db9dad853b8abbc5bdd78cb,52f40fea,added 'clean' stanza for fko-wrapper Makefile,"added 'clean' stanza for fko-wrapper Makefile
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1361449975,1361453616,0ae954cb1769f9b064a84440f5d518457db57da3
0ae954cb1769f9b064a84440f5d518457db57da3,0ae954cb,completed fko_wrapper Rijndael encryption usage,"completed fko_wrapper Rijndael encryption usage
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1361419600,1361419600,cae795f6fdea27ada3f94e6a23d4e4eb530ea814
cae795f6fdea27ada3f94e6a23d4e4eb530ea814,cae795f6,allow encryption routines to be called multiple times for the same context…,"allow encryption routines to be called multiple times for the same context (deallocate memory from previous calls)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1361418926,1361418926,5b00d1756f590c5003bc2a027faeb3110eaa836c
5b00d1756f590c5003bc2a027faeb3110eaa836c,5b00d175,set fko_ctx_t opaque pointers to NULL,"set fko_ctx_t opaque pointers to NULL
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1361413209,1361413209,c70ad5f12f4684389a895aaf7ec3cf8ef6be5f7b
c70ad5f12f4684389a895aaf7ec3cf8ef6be5f7b,c70ad5f1,added fko-wrapper Makefile,"added fko-wrapper Makefile
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1361412347,1361412347,e4a5b79750faa14224671e8242028e1eaa501b52
e4a5b79750faa14224671e8242028e1eaa501b52,e4a5b797,Added fko-wrapper that the test suite will be able to use for valgrind operations,"Added fko-wrapper that the test suite will be able to use for valgrind operations

The fko_wrapper.c code is designed to call libfko functions multiple times in
order to allow valgrind to test re-execution conditions.  This ensures that
libfko code frees memory from previous calls before leaking memory.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1361412046,1361412046,33e1c19bb265df2f4b956447e016e3cf4226a8fc
33e1c19bb265df2f4b956447e016e3cf4226a8fc,33e1c19b,"Make sure valgrind is stopped after each test in --enable-valgrind mode, closes #38","Make sure valgrind is stopped after each test in --enable-valgrind mode, closes #38

This commit uses pgrep + killall (if available) to ensure that valgrind is not
running after each test.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1361411140,1361411140,a413c6cf94afd1fcd0000f03f75ecd2a904220a9
a413c6cf94afd1fcd0000f03f75ecd2a904220a9,a413c6cf,"Continue atoi() replacement with strtol() wrapper, closes issue #21","Continue atoi() replacement with strtol() wrapper, closes issue #21

This commit completes the conversion to the strtol() wrapper function in order
to remove all atoi() calls.  In addition, variable max values are enforced
using more broadly defined RCHK_* values.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1361333461,1361333461,6a475bbe5407b076a3c1425009efbeb93427618e
6a475bbe5407b076a3c1425009efbeb93427618e,6a475bbe,Continued atoi() replacement with strtol() wrapper (issue #21),"Continued atoi() replacement with strtol() wrapper (issue #21)

This commit replaces a few additional atoi() calls with the strtol() wrapper
function, and also fixes a bug where access SOURCE IP/mask combinations would
not be accepted when the string length was a long as something like
'123.123.123.123/255.255.255.255'.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1361244164,1361244164,3f05f81ac68d0845983b4470410f200495e3a401
3f05f81ac68d0845983b4470410f200495e3a401,3f05f81a,memory leak bug fix in fko_set_rand_value(),"memory leak bug fix in fko_set_rand_value()

Bug fix for the following error caught by the test suite (in the [Rijndael SPA]
[client+server] random SPA port (tcp/22 ssh) test):

==24257== 17 bytes in 1 blocks are definitely lost in loss record 1 of 1
==24257==    at 0x4C2B3F8: malloc (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==24257==    by 0x4E38B9B: fko_set_rand_value (fko_rand_value.c:114)
==24257==    by 0x4E37FE0: fko_new (fko_funcs.c:75)
==24257==    by 0x10AE52: main (fwknop.c:113)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1361235290,1361235290,1afc8db96a0e2cd8abdf2cd5994ab3ab385a4e73
1afc8db96a0e2cd8abdf2cd5994ab3ab385a4e73,1afc8db9,Added strtol_wrapper() libfko utility function for atoi() replacement (#21),"Added strtol_wrapper() libfko utility function for atoi() replacement (#21)

This commit replaces most atoi() calls (which don't report errors) with a strtol()
wrapper function for stronger string -> integer conversion validation.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1361233973,1361233973,934e6760537b1438358dc5b12ae81543d2104843
934e6760537b1438358dc5b12ae81543d2104843,934e6760,minor cleanup to put --enable-all flags in one place,"minor cleanup to put --enable-all flags in one place
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1361233368,1361233368,500a395cb6577e2d17ff9e23b6de19c9665635a6
500a395cb6577e2d17ff9e23b6de19c9665635a6,500a395c,apply const to pf and ipfw firewall function prototypes,"apply const to pf and ipfw firewall function prototypes
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1361155396,1361155396,0b4cbbedfb2a6588243e6a71b354e42f08c257ff
0b4cbbedfb2a6588243e6a71b354e42f08c257ff,0b4cbbed,added fwknoprc* files,"added fwknoprc* files
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1361155083,1361155083,7735e8ce7a7e4c82718b743bcc3de60c08394eb6
7735e8ce7a7e4c82718b743bcc3de60c08394eb6,7735e8ce,minor comment typ fix,"minor comment typ fix
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1361120568,1361120568,ff285961e806c06376802e49cedff3b9b087497a
ff285961e806c06376802e49cedff3b9b087497a,ff285961,Added --save-args-file and --no-save-args text to fwknop man page,"Added --save-args-file and --no-save-args text to fwknop man page
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1360933129,1360933129,aab3ba3b0cca99fdbd97efd4219990a76d04d7ce
aab3ba3b0cca99fdbd97efd4219990a76d04d7ce,aab3ba3b,added --save-args-file and corresponding tests to the fwknop client,"added --save-args-file and corresponding tests to the fwknop client
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1360900214,1360900214,280dbbfe103fb52661dcc228d3db47cb031dae85
280dbbfe103fb52661dcc228d3db47cb031dae85,280dbbfe,added test for client --save-packet <file> argument,"added test for client --save-packet <file> argument
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1360729568,1360729568,ce18de4f841c522e4fcb73dcb04b404d2b2642ad
ce18de4f841c522e4fcb73dcb04b404d2b2642ad,ce18de4f,make libfko pointers constant where possible,"make libfko pointers constant where possible
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1360726779,1360726779,4daedde364c0c938e813fb0f5bc05c7ca3a0f0f0
4daedde364c0c938e813fb0f5bc05c7ca3a0f0f0,4daedde3,updated untested function list for Linux systems,"updated untested function list for Linux systems
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1360725496,1360725496,67c09c8a1f50dc1fa87cf7e28998579e7ff59136
67c09c8a1f50dc1fa87cf7e28998579e7ff59136,67c09c8a,Added test-coverage/README file,"Added test-coverage/README file
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1360724922,1360724922,f14fb4cb766f26f9984fb5019ed177b35fe18757
f14fb4cb766f26f9984fb5019ed177b35fe18757,f14fb4cb,use same test execution strategy for --enable-profile-coverage-check as --enable-valgrind,"use same test execution strategy for --enable-profile-coverage-check as --enable-valgrind
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1360724795,1360724795,98ed91a36f5c7278c9a4c0a2fd8d8527dce907b7
98ed91a36f5c7278c9a4c0a2fd8d8527dce907b7,98ed91a3,updated ownership determination to use the test suite owner instead of the configure script,"updated ownership determination to use the test suite owner instead of the configure script
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1360642672,1360642672,67f92e7647911083d8bc7553c19fcf630235be77
67f92e7647911083d8bc7553c19fcf630235be77,67f92e76,added the roadmap.org file,"added the roadmap.org file
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1360526673,1360526673,381487569c4ba0ad5c90e58c9a532977a15acced
381487569c4ba0ad5c90e58c9a532977a15acced,38148756,added the roadmap.org file to define the upcoming fwknop road map,"added the roadmap.org file to define the upcoming fwknop road map
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1360526466,1360526466,b820bbbe4b5fedeb88e7798cfdddec722936c34c
b820bbbe4b5fedeb88e7798cfdddec722936c34c,b820bbbe,Minor memory leak bug fix in --rotate-digest-cache mode,"Minor memory leak bug fix in --rotate-digest-cache mode

This commit fixes a minor memory leak for the digest cache file path in
--rotate-digest-cache mode in the replay_cache_init() function.  The leak was
caught by valgrind, and a new test was added to the test suite for it.  Here
is the valgrind warning:

==29021== 21 bytes in 1 blocks are definitely lost in loss record 2 of 2
==29021==    at 0x4C2B3F8: malloc (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==29021==    by 0x1103AA: replay_cache_init (replay_cache.c:96)
==29021==    by 0x10BB8C: main (fwknopd.c:254)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1360526264,1360526264,7face3eec9bbfa8a2df7b96cf078a418cb940e95
7face3eec9bbfa8a2df7b96cf078a418cb940e95,7face3ee,ensure matching test file comparison for valgrind test,"ensure matching test file comparison for valgrind test
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1359862637,1359862637,7bfaee9aef7893b08c7cdcbb9af7ae424ff4fbf5
7bfaee9aef7893b08c7cdcbb9af7ae424ff4fbf5,7bfaee9a,Make valgrind test fail for new flagged functions,"Make valgrind test fail for new flagged functions

In --enable-valgrind mode, this commit adds the ability to compare current test
result output with any previous test suite execution.  Whenever valgrind flags
a new function or if an existing flagged function has a greater number of
calls, then the final valgrind test will fail.  This allows a greater level of
valgrind validation to take place for new code in an automated fashion.  For
example, if a change to a piece of code introduces a memory handling problem of
the sort that valgrind can detect, then the final test will fail like so:

 # ./test-fwknop.pl --include ""complete cycle.*HMAC"" --enable-valgrind --test-limit 1

 [+] Starting the fwknop test suite...

     args: --include complete cycle.*HMAC --enable-valgrind --test-limit 1

     Saved results from previous run to: output.last/

 [Rijndael SPA] [client+server] complete cycle + HMAC (tcp/22 ssh)...pass (1)
 [valgrind output] [flagged functions] ..............................fail (2)

 [+] 1/1/2 tests passed/failed/executed

The newly flagged functions will be written to the corresponding test file:

 # cat output/2.test

 [+] TEST: [valgrind output] [flagged functions]~
 [-] 1.test (client) '[+] TEST: [Rijndael SPA] [client+server] complete cycle + HMAC (tcp/22 ssh)' --> NEW valgrind flagged function: main
 [-] 1.test (client) '[+] TEST: [Rijndael SPA] [client+server] complete cycle + HMAC (tcp/22 ssh)' --> NEW valgrind flagged function: fko_spa_data_final
 [-] 1.test (client) '[+] TEST: [Rijndael SPA] [client+server] complete cycle + HMAC (tcp/22 ssh)' --> NEW valgrind flagged function: strdup
 [-] 1.test (client) '[+] TEST: [Rijndael SPA] [client+server] complete cycle + HMAC (tcp/22 ssh)' --> NEW valgrind flagged function: fko_new
 [-] 1.test (client) '[+] TEST: [Rijndael SPA] [client+server] complete cycle + HMAC (tcp/22 ssh)' --> NEW valgrind flagged function: fko_encrypt_spa_data
 [-] 1.test (client) '[+] TEST: [Rijndael SPA] [client+server] complete cycle + HMAC (tcp/22 ssh)' --> NEW valgrind flagged function: fko_encode_spa_data
 [-] 1.test (client) '[+] TEST: [Rijndael SPA] [client+server] complete cycle + HMAC (tcp/22 ssh)' --> NEW valgrind flagged function: fko_calculate_hmac
 [-] 1.test (client) '[+] TEST: [Rijndael SPA] [client+server] complete cycle + HMAC (tcp/22 ssh)' --> NEW valgrind flagged function: fko_set_username
 [-] 1.test (client) '[+] TEST: [Rijndael SPA] [client+server] complete cycle + HMAC (tcp/22 ssh)' --> NEW valgrind flagged function: fko_set_rand_value
 [-] 1.test (client) '[+] TEST: [Rijndael SPA] [client+server] complete cycle + HMAC (tcp/22 ssh)' --> NEW valgrind flagged function: fko_set_spa_message
 [-] 1.test (client) '[+] TEST: [Rijndael SPA] [client+server] complete cycle + HMAC (tcp/22 ssh)' --> NEW valgrind flagged function: set_digest
 [-] 1.test New and/or greater number of valgrind flagged function calls
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1359860805,1359860805,4824b74d93f3b44a9b233c7bd474c1f0ceaa2ea4
4824b74d93f3b44a9b233c7bd474c1f0ceaa2ea4,4824b74d,bug fix for iptables duplicate rules test to account for rules that may have a different time stamp,"bug fix for iptables duplicate rules test to account for rules that may have a different time stamp
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1359688761,1359688761,6d233a9427622352775a2d59d9b29800eb3a8e3e
6d233a9427622352775a2d59d9b29800eb3a8e3e,6d233a94,make sure test message strings are unique across all tests,"make sure test message strings are unique across all tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1359685204,1359685204,c31c924a4541700e6a1a1eb9bd6ce82e1f9e7651
c31c924a4541700e6a1a1eb9bd6ce82e1f9e7651,c31c924a,minor spacing fix,"minor spacing fix
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1359598424,1359598424,13018a5c42dfd50345bbd34cbd6e14857086b50e
13018a5c42dfd50345bbd34cbd6e14857086b50e,13018a5c,Merge pull request #19 from fjoncourt/hmac_support,"Merge pull request #19 from fjoncourt/hmac_support

Fixed gcc warning for the md5 driver.",,,,Michael Rash,michael.rash@gmail.com,Michael Rash,michael.rash@gmail.com,1359597890,1359597890,"fa56f951b422cb42c9be99234df24d0b9c51403b,fcf9f43c5ba0e11214d31c515854543c21d7bd63"
fa56f951b422cb42c9be99234df24d0b9c51403b,fa56f951,[test suite] bug fix for 'set_legacy_iv' mode in perl_fko_module_complete_cycle(),"[test suite] bug fix for 'set_legacy_iv' mode in perl_fko_module_complete_cycle()
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1359514658,1359514658,f1793a61d6d26378f9be5d662a81d02596d41bc6
f1793a61d6d26378f9be5d662a81d02596d41bc6,f1793a61,Merge remote-tracking branch 'fjoncourt/hmac_support' into hmac_support,"Merge remote-tracking branch 'fjoncourt/hmac_support' into hmac_support

Applied fix from Franck Joncourt for the 'warning: dereferencing type-punned
pointer will break strict-aliasing rules [-Wstrict-aliasing]' error in the
MD5 digest code.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1359514335,1359514335,"efe6e9f23b32c5376b9696ffd60cb78b683bf761,1a8520d659c6488be5eff6c8bad30bf7f01614d3"
fcf9f43c5ba0e11214d31c515854543c21d7bd63,fcf9f43c,Fixed gcc warnings for the sha2 driver.,"Fixed gcc warnings for the sha2 driver.
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1359406077,1359406077,1a8520d659c6488be5eff6c8bad30bf7f01614d3
efe6e9f23b32c5376b9696ffd60cb78b683bf761,efe6e9f2,more legacy IV mode tests with the perl FKO module,"more legacy IV mode tests with the perl FKO module
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1359343372,1359343372,4cb139c6744f1c92fe03561c8007eb00c4ddb8ca
4cb139c6744f1c92fe03561c8007eb00c4ddb8ca,4cb139c6,added fuzzing test counters with summary output,"added fuzzing test counters with summary output
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1359337068,1359337068,2ecb278d8ee3e922647066254d8195afca3e0db4
2ecb278d8ee3e922647066254d8195afca3e0db4,2ecb278d,added legacy IV tests for perl FKO client -> C server,"added legacy IV tests for perl FKO client -> C server
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1359314305,1359314305,0109d64e545f5c2d124c2aff4e5691b46fb3ace3
0109d64e545f5c2d124c2aff4e5691b46fb3ace3,0109d64e,added encryption_mode() support to perl FKO module,"added encryption_mode() support to perl FKO module
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1359313406,1359313406,b537c9e451a6b7e97bcf63a76d18b3246a622222
b537c9e451a6b7e97bcf63a76d18b3246a622222,b537c9e4,ensure test/conf/ files are included,"ensure test/conf/ files are included
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1359311426,1359311426,e7eb02f82df2949c1a9092745b771fa8ffaf6723
e7eb02f82df2949c1a9092745b771fa8ffaf6723,e7eb02f8,"Maintain backwards compatibility with old ""zero padding"" code","Maintain backwards compatibility with old ""zero padding"" code

[libfko] Added the ability to maintain backwards compatibility with the
now deprecated ""zero padding"" strategy in AES mode that was a hold over
from the old perl fwknop implementation.  This enables the backwards
compatiblity tests to continue to pass in the test suite.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1359310709,1359310709,8a5b700c3007239c81a069b390f0dfc5ce1d8552
8a5b700c3007239c81a069b390f0dfc5ce1d8552,8a5b700c,openssl tests to use '-pass file:' method for setting passphrase,"openssl tests to use '-pass file:' method for setting passphrase
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1359302060,1359302060,98c16005da147e4885abb6e95ea3e3ce0d207468
98c16005da147e4885abb6e95ea3e3ce0d207468,98c16005,memset() AES buffers to zero,"memset() AES buffers to zero
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1359301987,1359301987,1618dc2a7c2f8c0c5b4808225e579f23778e4b68
1618dc2a7c2f8c0c5b4808225e579f23778e4b68,1618dc2a,minor typo spelling fix,"minor typo spelling fix
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1359251156,1359251156,1d35c33d5214345118836146713b8c6fff8d211d
1a8520d659c6488be5eff6c8bad30bf7f01614d3,1a8520d6,Fixed gcc warning for the md5 driver.,"Fixed gcc warning for the md5 driver.

md5.c: In function 'MD5Final':
md5.c:166:5: warning: dereferencing type-punned pointer will break strict-aliasing rules [-Wstrict-aliasing]
md5.c:167:5: warning: dereferencing type-punned pointer will break strict-aliasing rules [-Wstrict-aliasing]

Debian Gnu/Linux on i386 build against 2.0.4 :

https://buildd.debian.org/status/fetch.php?pkg=fwknop&arch=i386&ver=2.0.4-1&stamp=1358610541
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1359235398,1359235398,fbbcae3a0db81336f45b45e3c4698a79f113c393
1d35c33d5214345118836146713b8c6fff8d211d,1d35c33d,[test suite] added --enable-openssl-checks,"[test suite] added --enable-openssl-checks

Added --enable-openssl-checks to send all SPA packets encrypted via libfko
through the OpenSSL library to ensure that the libfko usage of AES is always
compatible with OpenSSL.  This ensures that the fwknop usage of AES is properly
implemented as verified by the OpenSSL library, which is a frequently audited
high profile crypto engine.  If a vulnerability is discovered in OpenSSL and a
change is made, then the --enable-openssl-checks mode will allow the test suite
to discover this in a automated fashion for fwknop.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1359168264,1359168264,e6e695bc2efe09634cda917ba33eb296302fc2b5
e6e695bc2efe09634cda917ba33eb296302fc2b5,e6e695bc,minor todo.org updates,"minor todo.org updates
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1358912860,1358912860,fbbcae3a0db81336f45b45e3c4698a79f113c393
fbbcae3a0db81336f45b45e3c4698a79f113c393,fbbcae3a,[libfko] Don't trundate > 16 byte Rijndael keys,"[libfko] Don't trundate > 16 byte Rijndael keys

Significant bug fix to honor the full encryption key length for
user-supplied Rijndael keys > 16 bytes long.  Previous to this bug fix,
only the first 16 bytes of a key were actually used in the encryption/
decryption process even if the supplied key was longer.  The result was
a weakening of expected security for users that had keys > 16 bytes,
although this is probably not too common.  Note that ""passphrase"" is
perhaps technically a better word for ""user-supplied key"" in this
context since Rijndael in CBC mode derives a real encryption/decryption
key from the passphrase through a series of applications of md5 against
the passphrase and a random salt.  This issue was reported by Michael T.
Dean.  Closes issue #18 on github.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1358911254,1358911254,fde5ec8ed99a37717af756618c7fb36ed62a4b69
fde5ec8ed99a37717af756618c7fb36ed62a4b69,fde5ec8e,minor todo.org updates,"minor todo.org updates
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1358739809,1358739809,7d82b3ef30b57240d81af443a973be7a92269dbc
7d82b3ef30b57240d81af443a973be7a92269dbc,7d82b3ef,minor ChangeLog and todo.org updates for the coming HMAC feature,"minor ChangeLog and todo.org updates for the coming HMAC feature
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1358737289,1358737289,6c72e7a90849b847fc03bea038a83397340d3d50
6c72e7a90849b847fc03bea038a83397340d3d50,6c72e7a9,added test for b0a4c045e6862e4359fe6530934f456a2e61703d (ensure iptables rules not duplicated),"added test for b0a4c045e6862e4359fe6530934f456a2e61703d (ensure iptables rules not duplicated)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1358725894,1358725894,fd41308ce55db47ddc7ae54237a55a283526437e
fd41308ce55db47ddc7ae54237a55a283526437e,fd41308c,added info for Franck's latest contribution,"added info for Franck's latest contribution
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1358713915,1358713915,b0a4c045e6862e4359fe6530934f456a2e61703d
b0a4c045e6862e4359fe6530934f456a2e61703d,b0a4c045,Merge remote-tracking branch 'fjoncourt/master' into hmac_support,"Merge remote-tracking branch 'fjoncourt/master' into hmac_support

This merges in code from Franck Joncourt to ensure that duplicate iptables
rules are not created for SPA packets that are themselves different but arrive
at the same time and that request exactly the same access.  This is done by
using the 'iptables -C' functionality to determine whether a duplicate rule
already exists before adding a new one.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1358713367,1358713367,"160a9e5565ffdec56e528a4412bbf0cbcef7963a,0fda88cfcac4d99bcb3d0f1e20d405ae1e5b6d9d"
160a9e5565ffdec56e528a4412bbf0cbcef7963a,160a9e55,perl FKO module HMAC compatibility,"perl FKO module HMAC compatibility
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1358710047,1358710047,47f20ea30cc07b1a4b2b3aff6da259b7320f0782
47f20ea30cc07b1a4b2b3aff6da259b7320f0782,47f20ea3,merged in the fixes_for_2.0.4 branch,"merged in the fixes_for_2.0.4 branch
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1358638612,1358638612,fc4825b3310f9a9675ea18fea870904628ae59e8
fc4825b3310f9a9675ea18fea870904628ae59e8,fc4825b3,added backwards compatibility test for 2.0.4 client->server,"added backwards compatibility test for 2.0.4 client->server
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1358637449,1358637449,437a05dac66e05e875431d1a705ad19c2a4eac54
437a05dac66e05e875431d1a705ad19c2a4eac54,437a05da,interim commit towards FKO compatibility with HMAC code,"interim commit towards FKO compatibility with HMAC code
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1358630854,1358630854,307cb84323c0dd699ff2e30e5cee07da933bc352
307cb84323c0dd699ff2e30e5cee07da933bc352,307cb843,port strlen bugfix,"port strlen bugfix
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1358565092,1358565092,47ea800889f272fc1d64f85da81659a4aa49b273
47ea800889f272fc1d64f85da81659a4aa49b273,47ea8008,merged in fwknop-2.0.4 changes,"merged in fwknop-2.0.4 changes
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1358551485,1358547916,"55fa4841f24f13c1db84fa76a02d106298c057ec,10c19063df27f0bc60f86bc1c3498be498f3a0d3"
0fda88cfcac4d99bcb3d0f1e20d405ae1e5b6d9d,0fda88cf,* Avoid duplicate rules with the same timestamp.,"* Avoid duplicate rules with the same timestamp.
",,,,Franck Joncourt,franck@debian.org,Franck Joncourt,franck@debian.org,1358455573,1358455573,10c19063df27f0bc60f86bc1c3498be498f3a0d3
ecc9a62a23faa3688c5b63849e4f12109beffef5,ecc9a62a,Add AM_CPPFLAGS to common/Makefile.am,"Add AM_CPPFLAGS to common/Makefile.am
",,,,Damien Stuart,dstuart@dstuart.org,Damien Stuart,dstuart@dstuart.org,1358134114,1358134114,b7b4e857be15c2f34ada9d63c988fc3d4debcc6f
b7b4e857be15c2f34ada9d63c988fc3d4debcc6f,b7b4e857,Change to how strlcpy and strlcat are handled,"Change to how strlcpy and strlcat are handled

Put strlcpy and strlcat object files back in the source group in lib.
Moved libfko_util.a to the common directory (though sources remain in
lib).  Client and server code looks to common dir for libfko-util.
This fixes issue with strlcpy showing as undefined symbol when perl FKO
module is loaded.
",,,,Damien Stuart,dstuart@dstuart.org,Damien Stuart,dstuart@dstuart.org,1358133390,1358133390,10c19063df27f0bc60f86bc1c3498be498f3a0d3
10c19063df27f0bc60f86bc1c3498be498f3a0d3,10c19063,Fixed parallel build issue,"Fixed parallel build issue

Added explicit dependency directives to Makefile.am to address errors
when running a parallel build.
",,,,Damien Stuart,dstuart@dstuart.org,Damien Stuart,dstuart@dstuart.org,1356276510,1356276510,516b75f41c738b9e88fa836d93600d6bb23d4f2e
516b75f41c738b9e88fa836d93600d6bb23d4f2e,516b75f4,removed openbsd/pkg/ directory,"removed openbsd/pkg/ directory
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1355450987,1355450987,0d19065ecc4c4f1a34c85b27302c98bc2e6adfe7
0d19065ecc4c4f1a34c85b27302c98bc2e6adfe7,0d19065e,added fwknop-2.0.4 OpenBSD port from Vlad Glagolev,"added fwknop-2.0.4 OpenBSD port from Vlad Glagolev
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1355450873,1355450873,0e89efb40e3bd94c2a871f54289e35672ab29371
0e89efb40e3bd94c2a871f54289e35672ab29371,0e89efb4,moved openbsd/* to openbsd/fwknop-2.0.3/ now that Vlad Glagolev has contributed…,"moved openbsd/* to openbsd/fwknop-2.0.3/ now that Vlad Glagolev has contributed an fwknop-2.0.4 OpenBSD port
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1355450731,1355450731,92b648a08f1d98de4bafa6651eb119a3d72c0603
92b648a08f1d98de4bafa6651eb119a3d72c0603,92b648a0,updated ChangeLog.git file for fwknop-2.0.4 changes,"updated ChangeLog.git file for fwknop-2.0.4 changes
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1355086559,1355086559,c9f5e495bb754213180d2039499b47d1f0f36c8d
c9f5e495bb754213180d2039499b47d1f0f36c8d,c9f5e495,bumped libfko and libfko-devel to 1.0.0,"bumped libfko and libfko-devel to 1.0.0
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1355084986,1355084986,3c11b262433c46bad873191ffd5b5e1be953714f
3c11b262433c46bad873191ffd5b5e1be953714f,3c11b262,todo.org fwknop-2.0.4 released,"todo.org fwknop-2.0.4 released
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1355084943,1355084943,e4751f9f5e26f0a93dcc47b9f7f77f273407d741
e4751f9f5e26f0a93dcc47b9f7f77f273407d741,e4751f9f,fixed fwknop-2.0.4 release date,"fixed fwknop-2.0.4 release date
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1355084856,1355084856,59fe04787b81d49aacde5ced63c55b42bd40b2c0
59fe04787b81d49aacde5ced63c55b42bd40b2c0,59fe0478,[test suite] minor 're-run make' bug fix for perl FKO module installation,"[test suite] minor 're-run make' bug fix for perl FKO module installation
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1355084714,1355084714,5f598bbf7f7ed8af8c2b60cd272922f6889aac81
5f598bbf7f7ed8af8c2b60cd272922f6889aac81,5f598bbf,Added Les Aker's changes: Look for glibtoolize if libtoolize is not available…,"Added Les Aker's changes: Look for glibtoolize if libtoolize is not available (for Macs).  Added USE_GPG_AGENT option for .fwknoprc
",,,,Damien Stuart,dstuart@dstuart.org,Damien Stuart,dstuart@dstuart.org,1355074243,1355074243,8078b0ec1f1362246537956beb57ce0597dcbc99
8078b0ec1f1362246537956beb57ce0597dcbc99,8078b0ec,Commented out Devel::Checklib since this is most likely for CPAN anyway,"Commented out Devel::Checklib since this is most likely for CPAN anyway

There were portability issues on FreeBSD when Devel::Checklib was in use, but
this can be added back in for a CPAN version of the perl FKO module.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1355066930,1355066930,a673406ebdb9910adf69887e0d28dd9382df9b3c
a673406ebdb9910adf69887e0d28dd9382df9b3c,a673406e,[test suite] updated fuzzing tests to allow usernames with '.' chars,"[test suite] updated fuzzing tests to allow usernames with '.' chars
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1355018297,1355018297,51a545dbaf7bc960556bf2e269592a879fd87bda
51a545dbaf7bc960556bf2e269592a879fd87bda,51a545db,Merge branch 'master' of github.com:mrash/fwknop,"Merge branch 'master' of github.com:mrash/fwknop
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1355001990,1355001990,"05d4299de1668b8486af47eec3e04243a1af9551,10f2d295be41e9237d25436572f17feaf01b15e6"
10f2d295be41e9237d25436572f17feaf01b15e6,10f2d295,Have libfko link strlxxx objects directly instead of libfko_util.,"Have libfko link strlxxx objects directly instead of libfko_util.
",,,,Damien Stuart,dstuart@dstuart.org,Damien Stuart,dstuart@dstuart.org,1354999240,1354999240,39410044c50eb9d7e472aaa201debd37ef2bc188
05d4299de1668b8486af47eec3e04243a1af9551,05d4299d,made compilation warning check case-insensitive,"made compilation warning check case-insensitive
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1354910007,1354910007,88c66f647fe7690dc10f0f9aa185ca1126e4be24
39410044c50eb9d7e472aaa201debd37ef2bc188,39410044,"Set new libfko version.  Client: allow dot (.) in validate_username, and display…","Set new libfko version.  Client: allow dot (.) in validate_username, and display version and exit without creating an fko context.
",,,,Damien Stuart,dstuart@dstuart.org,Damien Stuart,dstuart@dstuart.org,1354898311,1354898311,88c66f647fe7690dc10f0f9aa185ca1126e4be24
88c66f647fe7690dc10f0f9aa185ca1126e4be24,88c66f64,"Revert ""added got_allow_ip() wrapper around have_allow_ip() to fix an exported…","Revert ""added got_allow_ip() wrapper around have_allow_ip() to fix an exported symbol issue noticed by Franck""

This reverts commit e57cfa2e235261b960986ecae0c7e86307159529.  This is done
because libfko now restricts the symbols it exports to only those functions
that should be visible when making use of the library - internal libfko
functions should not be exported.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1354592739,1354592739,7df9edc1db9a695bc2bacf860f6fa870839b37e1
7df9edc1db9a695bc2bacf860f6fa870839b37e1,7df9edc1,Merge branch 'master' of github.com:mrash/fwknop,"Merge branch 'master' of github.com:mrash/fwknop
",,,,Damien Stuart,dstuart@dstuart.org,Damien Stuart,dstuart@dstuart.org,1354460388,1354460388,"bcea440b873aebb56325ca0d3981dcc37b107faa,e57cfa2e235261b960986ecae0c7e86307159529"
bcea440b873aebb56325ca0d3981dcc37b107faa,bcea440b,Limited exported symbols in libfko to only the public (fko_) functions. Moved…,"Limited exported symbols in libfko to only the public (fko_) functions. Moved strlcat/cpy to a separate libfko_util lib.
",,,,Damien Stuart,dstuart@dstuart.org,Damien Stuart,dstuart@dstuart.org,1354460217,1354460217,e3c4c045c6f609551af9fa4c6fc354d3661017cc
e57cfa2e235261b960986ecae0c7e86307159529,e57cfa2e,added got_allow_ip() wrapper around have_allow_ip() to fix an exported symbol…,"added got_allow_ip() wrapper around have_allow_ip() to fix an exported symbol issue noticed by Franck
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1354419955,1354419955,e3c4c045c6f609551af9fa4c6fc354d3661017cc
e3c4c045c6f609551af9fa4c6fc354d3661017cc,e3c4c045,"Changes to address header references, platform support, error messages, and the…","Changes to address header references, platform support, error messages, and the perl module test suite.

Rearranged headers to reduce duplication and remove local header
references from fko.h.
Removed references to headers that did not need to be explicitly set.
Moved the MAX_PROTO_STR_LEN and MAX_PORT_STR_LEN definitions to the
fko_limits.h file.
Fixed bug where invalid nat_access or command messages were returning
FKO_ERROR_INVALID_SPA_ACCESS_MSG error code instead of the one
appropriate to the message type.
Fixed bad nat_access_msg test in Perl module test suite (caught by new
validation code).
",,,,Damien Stuart,dstuart@dstuart.org,Damien Stuart,dstuart@dstuart.org,1354378001,1354378001,1ec9f4ae94a76365a0293f50fe1b8475a2d57dcd
1ec9f4ae94a76365a0293f50fe1b8475a2d57dcd,1ec9f4ae,Re-tweaks for accommodating the windows build and systems that do not have strnlen,"Re-tweaks for accommodating the windows build and systems that do not have strnlen
",,,,Damien Stuart,dstuart@dstuart.org,Damien Stuart,dstuart@dstuart.org,1354336824,1354336824,eaba5813f349fed37664e5832c58f1e1404b7406
eaba5813f349fed37664e5832c58f1e1404b7406,eaba5813,Bug fix for perl FKO compilation,"Bug fix for perl FKO compilation

This commit removes lib/ includes of common/ header files that was breaking
the perl FKO module compilation.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1354160347,1354160347,04e0c9b560f6dcb4136e47fec1120d61628b860e
04e0c9b560f6dcb4136e47fec1120d61628b860e,04e0c9b5,[server] Ignore pcap non-blocking setting in --pcap-file mode,"[server] Ignore pcap non-blocking setting in --pcap-file mode

When setting --pcap-file mode from the command line some versions of libpcap
do not appear to allow non-blocking mode to be set and throw the following
error:

[*] Error setting pcap nonblocking to 0:

This commit ignores the non-blocking setting in --pcap-file mode.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1354074895,1354074895,0337ae9fb66e6d33207d189856f4cf2fc0dffaa3
0337ae9fb66e6d33207d189856f4cf2fc0dffaa3,0337ae9f,Merge branch 'master' of github.com:mrash/fwknop,"Merge branch 'master' of github.com:mrash/fwknop
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1353638623,1353638623,"4cb5add328c655ad5261ab3b5107bea51168b815,524d69af239939c2faf5d0b09d735c40803b5716"
524d69af239939c2faf5d0b09d735c40803b5716,524d69af,Merge branch 'master' of github.com:mrash/fwknop,"Merge branch 'master' of github.com:mrash/fwknop

Conflicts:
	configure.ac
",,,,Damien Stuart,dstuart@dstuart.org,Damien Stuart,dstuart@dstuart.org,1353555193,1353555193,"5873df753ab4f4bac47385d0e07e73cbfb19194b,11124b1f9fc99a9a89a89fd3b5c5de71d4815927"
5873df753ab4f4bac47385d0e07e73cbfb19194b,5873df75,Tweaks to fix autoconf-related portability issues and autogen.sh reliability,"Tweaks to fix autoconf-related portability issues and autogen.sh reliability
",,,,Damien Stuart,dstuart@dstuart.org,Damien Stuart,dstuart@dstuart.org,1353554199,1353555054,fe8ac9800458e1ddabacc73f007bc86c9fbca212
11124b1f9fc99a9a89a89fd3b5c5de71d4815927,11124b1f,Tweaks to fix autoconf-related portability issues and autogen.sh reliability,"Tweaks to fix autoconf-related portability issues and autogen.sh reliability
",,,,Damien Stuart,dstuart@dstuart.org,Damien Stuart,dstuart@dstuart.org,1353554199,1353554199,fe8ac9800458e1ddabacc73f007bc86c9fbca212
4cb5add328c655ad5261ab3b5107bea51168b815,4cb5add3,revert 7db2d1e796bba7af393e2d5c40db65b95fcee066 (--disable-gpg arg) since…,"revert 7db2d1e796bba7af393e2d5c40db65b95fcee066 (--disable-gpg arg) since --without-gpgme works properly
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1353552556,1353552556,fe8ac9800458e1ddabacc73f007bc86c9fbca212
fe8ac9800458e1ddabacc73f007bc86c9fbca212,fe8ac980,bug fix for firewall rule deletion check in backwards compatibility tests on FreeBSD and OpenBSD,"bug fix for firewall rule deletion check in backwards compatibility tests on FreeBSD and OpenBSD
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1353551366,1353551366,bda539ebb4105cabb2d0f2f0c7bc5abb8af55d35
bda539ebb4105cabb2d0f2f0c7bc5abb8af55d35,bda539eb,removed duplicate android_access.conf file introduced in a local mrash commit,"removed duplicate android_access.conf file introduced in a local mrash commit
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1353418126,1353418126,7e583ed5a22b3ddefb6f7c3f9b4358fc3421ec8c
7e583ed5a22b3ddefb6f7c3f9b4358fc3421ec8c,7e583ed5,Merge branch 'master' of github.com:mrash/fwknop,"Merge branch 'master' of github.com:mrash/fwknop
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1353418053,1353418053,"049e1e958f3a3362e64699f0466de386d199ec26,1daa1c6795b37685f7485787355ccfa7b5edd24c"
1daa1c6795b37685f7485787355ccfa7b5edd24c,1daa1c67,Now commiting only the change to Makefile.am this time,"Now commiting only the change to Makefile.am this time
",,,,Damien Stuart,dstuart@dstuart.org,Damien Stuart,dstuart@dstuart.org,1353345760,1353345760,617305504a9a54cd841ff5e1e8f84de7bb3995e6
617305504a9a54cd841ff5e1e8f84de7bb3995e6,61730550,"Revert ""Tweaks to EXTRA_DIST.  Added one missing and removed one invalid entry…","Revert ""Tweaks to EXTRA_DIST.  Added one missing and removed one invalid entry under the test directory.""

This reverts commit 556ca2c146a598cddada4dd8cdf3f9b12f32f202.
",,,,Damien Stuart,dstuart@dstuart.org,Damien Stuart,dstuart@dstuart.org,1353345552,1353345552,f544a4aeb52439a0cd74a19364659bc9d0116c5a
f544a4aeb52439a0cd74a19364659bc9d0116c5a,f544a4ae,Added the --icmp-xxxx arg descriptions to the fwknop usage message.,"Added the --icmp-xxxx arg descriptions to the fwknop usage message.
",,,,Damien Stuart,dstuart@dstuart.org,Damien Stuart,dstuart@dstuart.org,1353336514,1353336514,556ca2c146a598cddada4dd8cdf3f9b12f32f202
556ca2c146a598cddada4dd8cdf3f9b12f32f202,556ca2c1,Tweaks to EXTRA_DIST.  Added one missing and removed one invalid entry under the test directory.,"Tweaks to EXTRA_DIST.  Added one missing and removed one invalid entry under the test directory.
",,,,Damien Stuart,dstuart@dstuart.org,Damien Stuart,dstuart@dstuart.org,1353335415,1353335415,f499e3090011176cefdae74387e28e7f105ce37f
f499e3090011176cefdae74387e28e7f105ce37f,f499e309,Tweaks to fix issues with building the lib and client under Windows. Added…,"Tweaks to fix issues with building the lib and client under Windows. Added .fwknop.last support on Windows.  Bumped the lib version to 0.0.4. Fixed bug in username detection code.  Removed -Werror from AM_INIT_AUTOMAKE which prevented setting of CPPFLAG for the lib build in some circumstances.
",,,,Damien Stuart,dstuart@dstuart.org,Damien Stuart,dstuart@dstuart.org,1353301150,1353332594,9921e72d7051a159387420f94f22239e527ce42c
049e1e958f3a3362e64699f0466de386d199ec26,049e1e95,[test suite] added android_access.conf file for Android SPA test,"[test suite] added android_access.conf file for Android SPA test
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1353179199,1353179199,5a2150e070aebfdd2cea5faeef685b393aba38f6
5a2150e070aebfdd2cea5faeef685b393aba38f6,5a2150e0,[test suite] minor update to not look for lib/.libs/ in --enable-recompile mode,"[test suite] minor update to not look for lib/.libs/ in --enable-recompile mode
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1353036989,1353036989,9921e72d7051a159387420f94f22239e527ce42c
9921e72d7051a159387420f94f22239e527ce42c,9921e72d,[test suite] backwards compatibility tests,"[test suite] backwards compatibility tests

Added a few backwards compatibility tests for versions of fwknop going back to
2.0, and also added a compatibility test for an SPA packet produced by Android
4.2.1.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1353032171,1353032171,31c3100d7f6dc3161ef4958714b99c42f0bb0051
31c3100d7f6dc3161ef4958714b99c42f0bb0051,31c3100d,minor gcc warnings todo note for OpenBSD,"minor gcc warnings todo note for OpenBSD
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1352954789,1352954789,517f4470281a2486aa4117647e772d3b80e126c7
517f4470281a2486aa4117647e772d3b80e126c7,517f4470,bumped version to 2.0.4,"bumped version to 2.0.4
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1352954743,1352954743,38d4b5cc881c6b8278b48bede30429b870538f4d
38d4b5cc881c6b8278b48bede30429b870538f4d,38d4b5cc,minor marking text update around fuzzing packet count,"minor marking text update around fuzzing packet count
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1352859509,1352859509,02790628d4534197758b5e67b039a3ff125e90d2
02790628d4534197758b5e67b039a3ff125e90d2,02790628,additional SPA validation check to ensure no non-ascii printable chars in decoded message,"additional SPA validation check to ensure no non-ascii printable chars in decoded message
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1352859387,1352859387,70afd9c2d448d84fe28874ed0a7d98a7ba6c59d2
70afd9c2d448d84fe28874ed0a7d98a7ba6c59d2,70afd9c2,minor spacing fix,"minor spacing fix
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1352859161,1352859161,bc58b3a15f251a2065877d25e687dee215fad3e8
bc58b3a15f251a2065877d25e687dee215fad3e8,bc58b3a1,Added chain_exists() check to fwknopd SPA rule creation,"Added chain_exists() check to fwknopd SPA rule creation

Added chain_exists() check to SPA rule creation so that if any
of the fwknop chains are deleted out from under fwknopd they will be
recreated on the fly.  This mitigates scenarios where fwknopd might be
started before a system level firewall policy is applied due to init
script ordering, or if an iptables policy is re-applied without
restarting fwknopd.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1352774906,1352774906,c0349a20a3f5de7173f68de84a85faeb668cfcd5
c0349a20a3f5de7173f68de84a85faeb668cfcd5,c0349a20,added fuzzing packet count to FKO server fuzzing test,"added fuzzing packet count to FKO server fuzzing test
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1352511763,1352511763,c354afb3b4acfe8f271306d01db0b29c78aea6f8
c354afb3b4acfe8f271306d01db0b29c78aea6f8,c354afb3,minor todo reorganization,"minor todo reorganization
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1352511728,1352511728,2a3cd1abfe83f313242728753a3722a02219aa41
2a3cd1abfe83f313242728753a3722a02219aa41,2a3cd1ab,Merge branch 'master' of github.com:mrash/fwknop,"Merge branch 'master' of github.com:mrash/fwknop
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1352431533,1352431533,"03b222dddab5c6c3101e8e61da7c1d36497e98a3,5ddf5afec6c691d96406144611c0a3ce16b40284"
03b222dddab5c6c3101e8e61da7c1d36497e98a3,03b222dd,[client] (Franck Joncourt) Fixed Ctrl-C problem where SPA packets were sent anyway,"[client] (Franck Joncourt) Fixed Ctrl-C problem where SPA packets were sent anyway

[client] (Franck Joncourt) Contributed a patch to allow the fwknop
client to be stopped during the password entry prompt with Ctrl-C before
any SPA packet is sent on the wire.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1352431324,1352431324,9f9910c3179e2c7a633259c0e53587ae1dac9378
9f9910c3179e2c7a633259c0e53587ae1dac9378,9f9910c3,added blurb about Android-4.1.2,"added blurb about Android-4.1.2
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1352430563,1352430563,16c8be2d839f742666feb776188cb18818453858
16c8be2d839f742666feb776188cb18818453858,16c8be2d,minor README update for proper 4.1.2 version of Android,"minor README update for proper 4.1.2 version of Android
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1352430436,1352430436,585beba951de0f20635b67d032829e532cf8d22b
585beba951de0f20635b67d032829e532cf8d22b,585beba9,added updated properties files for Android-4.1.2,"added updated properties files for Android-4.1.2
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1352430385,1352430385,4dd65c57611a92412cb5bdecf8a9ccea5d3ff64c
4dd65c57611a92412cb5bdecf8a9ccea5d3ff64c,4dd65c57,minor bug fix to leverage fko_errstr() returned error string properly,"minor bug fix to leverage fko_errstr() returned error string properly
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1352428938,1352428938,e57156e57df17ac50a1ab3de1bdb33697682fd2b
e57156e57df17ac50a1ab3de1bdb33697682fd2b,e57156e5,added fko header files for the Android client,"added fko header files for the Android client
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1352428761,1352428761,66ad134708e3648eb90e4b9256e7b42e3b673a13
66ad134708e3648eb90e4b9256e7b42e3b673a13,66ad1347,[server] Added '--pcap-file <file>' option,"[server] Added '--pcap-file <file>' option

Added a new '--pcap-file <file>' option to allow pcap files to
be processed directly by fwknopd instead of sniffing an interface.  This
feature is mostly intended for debugging purposes.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1352428403,1352428403,7afe5b28b7cc1c560bd10e73f51b302ae96ac08e
7afe5b28b7cc1c560bd10e73f51b302ae96ac08e,7afe5b28,minor update to use explicit FKO_SUCCESS value in if() result check,"minor update to use explicit FKO_SUCCESS value in if() result check
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1352426625,1352426625,2ae14491224d3297046fa8a21e229e65b79203fa
2ae14491224d3297046fa8a21e229e65b79203fa,2ae14491,allow '_' chars in usernames provided to libfko,"allow '_' chars in usernames provided to libfko
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1352426564,1352426564,36630694fd66f8a2f55336c9d32c0f51022a0714
5ddf5afec6c691d96406144611c0a3ce16b40284,5ddf5afe,Ignore trailing whitespace on .fwknoprc directives,"Ignore trailing whitespace on .fwknoprc directives
",,,,Damien Stuart,dstuart@dstuart.org,Damien Stuart,dstuart@dstuart.org,1352421706,1352421706,36630694fd66f8a2f55336c9d32c0f51022a0714
36630694fd66f8a2f55336c9d32c0f51022a0714,36630694,Additional todo tasks,"Additional todo tasks
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1352165943,1352165943,575e6961642dad2076fc74315f25a6860a5d2a57
575e6961642dad2076fc74315f25a6860a5d2a57,575e6961,[test suite] added pinentry check for gpg tests that have keys that require associated passphrases,"[test suite] added pinentry check for gpg tests that have keys that require associated passphrases
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1352165914,1352165914,5c1979e16a8c1a403e88b94743697d9ba3fe0a0b
5c1979e16a8c1a403e88b94743697d9ba3fe0a0b,5c1979e1,Added test suite config file: disable_aging_nat_fwknopd.conf,"Added test suite config file: disable_aging_nat_fwknopd.conf
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1352085232,1352085232,231be81f5bfc1dab10e1e82ee58a611bd06ded0b
231be81f5bfc1dab10e1e82ee58a611bd06ded0b,231be81f,bug fix to include multi-gpg ID no password test,"bug fix to include multi-gpg ID no password test
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1351998684,1351998684,df2bb3e3fd813cba2f9c46723411b0a805b06c70
df2bb3e3fd813cba2f9c46723411b0a805b06c70,df2bb3e3,Merge branch 'master' of github.com:mrash/fwknop,"Merge branch 'master' of github.com:mrash/fwknop
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1351983656,1351983656,"dbf6dc884676971a13042edad59d61e6925c0f21,66467e94492e85e80b09bd2edae3252e5a144453"
66467e94492e85e80b09bd2edae3252e5a144453,66467e94,Merge pull request #11 from tomyuk/master,"Merge pull request #11 from tomyuk/master

add missing include files to lib/Makefile.am",,,,Michael Rash,michael.rash@gmail.com,Michael Rash,michael.rash@gmail.com,1351983657,1351983657,"28b2787001a572397b0199a307447b37c64b49e9,daa692caf7bbcc0e5f3b755733a7bd89c57aa8f2"
dbf6dc884676971a13042edad59d61e6925c0f21,dbf6dc88,--enable-recompile try raw make if sudo make fails,"--enable-recompile try raw make if sudo make fails
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1351980552,1351980552,5218e52f9abb05b6d31f5ecaee3dc95d440aec3c
5218e52f9abb05b6d31f5ecaee3dc95d440aec3c,5218e52f,added run-test-suite.sh LD_LIBRARY_PATH wrapper,"added run-test-suite.sh LD_LIBRARY_PATH wrapper
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1351975826,1351975826,28b2787001a572397b0199a307447b37c64b49e9
daa692caf7bbcc0e5f3b755733a7bd89c57aa8f2,daa692ca,Added missing include files,"Added missing include files
",,,,Tomoyuki Kano,tomo@appletz.jp,Tomoyuki Kano,tomo@appletz.jp,1351937290,1351937290,cf783e075e124ae74a4c20b035902d58df58d6f5
cf783e075e124ae74a4c20b035902d58df58d6f5,cf783e07,add missing include files to lib/Makefile.am,"add missing include files to lib/Makefile.am
",,,,Tomoyuki Kano,tomo@appletz.jp,Tomoyuki Kano,tomo@appletz.jp,1351937028,1351937028,28b2787001a572397b0199a307447b37c64b49e9
28b2787001a572397b0199a307447b37c64b49e9,28b27870,bug fix to include cmd_access.conf in Makefile.am,"bug fix to include cmd_access.conf in Makefile.am
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1351904843,1351904843,7db2d1e796bba7af393e2d5c40db65b95fcee066
7db2d1e796bba7af393e2d5c40db65b95fcee066,7db2d1e7,[client+server] Added --disable-gpg to the autoconf config,"[client+server] Added --disable-gpg to the autoconf config

Added --disable-gpg to the autoconf ./configure script
via configure.ac.  This makes it easy to not have fwknop/fwknopd
link against libgpgme even if it is installed on the local system.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1351733875,1351733875,8ee9999cbd5b97d9b773f9cbcb84c33ab3c689de
8ee9999cbd5b97d9b773f9cbcb84c33ab3c689de,8ee9999c,added fuzzing patches from the test/fuzzing/patches/ directory,"added fuzzing patches from the test/fuzzing/patches/ directory
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1351651176,1351651176,f488a8d75d94fdd484e31971c187bd593dc15cc6
f488a8d75d94fdd484e31971c187bd593dc15cc6,f488a8d7,added '-Wformat -Wformat-security' to compile args - no associated warnings in current code,"added '-Wformat -Wformat-security' to compile args - no associated warnings in current code
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1351649020,1351649020,e103bdf4b005d2a6ef36e9ec67a422dee0cb8bf0
e103bdf4b005d2a6ef36e9ec67a422dee0cb8bf0,e103bdf4,Updated build CFLAGS and LDFLAGS for PIE support similar to Debian hardening-includes,"Updated build CFLAGS and LDFLAGS for PIE support similar to Debian hardening-includes

The Debian hardening-includes package sets CFLAGS and LDFLAGS as follows for PIE support:

_HARDENED_PIE_CFLAGS  := -fPIE
_HARDENED_PIE_LDFLAGS := -fPIE -pie

The configure.ac file has been updated to conform to the above.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1351647621,1351647621,8c3a67377e479fd41b7e540c7d909a8f00973f79
8c3a67377e479fd41b7e540c7d909a8f00973f79,8c3a6737,[test suite] bug fix to ensure binary existence check in build security tests,"[test suite] bug fix to ensure binary existence check in build security tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1351646610,1351646610,aa74fa3eeddac5906e042ed0cc73a12caac9f1a8
aa74fa3eeddac5906e042ed0cc73a12caac9f1a8,aa74fa3e,minor fuzzing README update,"minor fuzzing README update
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1351481469,1351481469,cefac6275b4dce8390e6719e451950f4ac0522cc
cefac6275b4dce8390e6719e451950f4ac0522cc,cefac627,added non digit rand val fuzzing encoding tests,"added non digit rand val fuzzing encoding tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1351392328,1351392328,dced7c6a775c0478501ff969e9ba3aeae4343021
dced7c6a775c0478501ff969e9ba3aeae4343021,dced7c6a,added fuzzing encoding strip eq return packets,"added fuzzing encoding strip eq return packets
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1351391692,1351391692,4b25e1e24270ac6c26796cfe07c0d0eec41fda0f
4b25e1e24270ac6c26796cfe07c0d0eec41fda0f,4b25e1e2,added encoding_append_b64_modified_byte equals sign fuzzing encoding tests,"added encoding_append_b64_modified_byte equals sign fuzzing encoding tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1351391313,1351391313,807dd315e55615f5ade91feb6d53d0b517a74268
807dd315e55615f5ade91feb6d53d0b517a74268,807dd315,added encoding_append_b64_modified_byte fuzzing encoding tests,"added encoding_append_b64_modified_byte fuzzing encoding tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1351390060,1351390060,03255a55479a8f8b1ed1ba23f4fddc0cd3d642da
03255a55479a8f8b1ed1ba23f4fddc0cd3d642da,03255a55,added non-base64 char to access msg for fuzzing encoding tests,"added non-base64 char to access msg for fuzzing encoding tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1351307621,1351307621,f3c9f49a67be17948bbb89f3b17581ac793be91f
f3c9f49a67be17948bbb89f3b17581ac793be91f,f3c9f49a,added fuzzing encoding packets (extra colon 3),"added fuzzing encoding packets (extra colon 3)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1351307255,1351307255,e89338c4316e2fa207c10f5a83cc984459346e22
e89338c4316e2fa207c10f5a83cc984459346e22,e89338c4,added fuzzing encoding packets (extra colon 2),"added fuzzing encoding packets (extra colon 2)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1351307169,1351307169,69ed7ee6357780cfbb5b2715ff63cf4d2a4b5c62
69ed7ee6357780cfbb5b2715ff63cf4d2a4b5c62,69ed7ee6,added fuzzing encoding packets (extra colon 1),"added fuzzing encoding packets (extra colon 1)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1351302428,1351302428,37048f359dc556177360be7f7dd4d51810eb9251
37048f359dc556177360be7f7dd4d51810eb9251,37048f35,added in new test/fuzzing/patches/ files,"added in new test/fuzzing/patches/ files
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1351302204,1351302204,830996b3ac7723daed3c196378e45aab54ea9612
830996b3ac7723daed3c196378e45aab54ea9612,830996b3,added non-base64 encoding fuzzing packets,"added non-base64 encoding fuzzing packets
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1351281129,1351281129,ac38f8d9938146775bb336f5a8b7680492b81102
ac38f8d9938146775bb336f5a8b7680492b81102,ac38f8d9,[libfko] bug fix to check b64_decode() return value,"[libfko] bug fix to check b64_decode() return value

Bug fix to check b64_decode() return value to ensure that
non-base64 encoded data is never used.  Even though other validation
routines checked decoded results, it is important to discard invalid
data as early as possible.  Note too that such invalid data would only
be provided to b64_decode() after proper decryption, so the client must
provide authentic SPA data.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1351280168,1351280168,60083cc272d05db77303971845b013aa59eb0ed2
60083cc272d05db77303971845b013aa59eb0ed2,60083cc2,added rm colon5 fuzzing packets,"added rm colon5 fuzzing packets
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1351217567,1351217567,3ae583813c2bb61d7b04c8e601f88ce2cc8f7550
3ae583813c2bb61d7b04c8e601f88ce2cc8f7550,3ae58381,added fuzzing encoding test that removes colon #5,"added fuzzing encoding test that removes colon #5
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1351217049,1351217049,91596f4450c55622072a31178f2631ea6d8f25e4
91596f4450c55622072a31178f2631ea6d8f25e4,91596f44,added fuzzing encoding test that removes colon #4,"added fuzzing encoding test that removes colon #4
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1351216872,1351216872,ef635d57e3059aee507fe04bf1e8d294f6829c49
ef635d57e3059aee507fe04bf1e8d294f6829c49,ef635d57,added test/fuzzing/patches/encoding_rm_colon1.patch file,"added test/fuzzing/patches/encoding_rm_colon1.patch file
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1351216660,1351216660,165e618bade067b9bda6b188fab12ec602b1a470
165e618bade067b9bda6b188fab12ec602b1a470,165e618b,Added fuzzing encoding tests that remove the 2nd and 3rd colons,"Added fuzzing encoding tests that remove the 2nd and 3rd colons
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1351216501,1351216501,f6b0d23c1ca401846d53eb069a6344a194b2c91b
f6b0d23c1ca401846d53eb069a6344a194b2c91b,f6b0d23c,Added fuzzing spa packet generation for invalid encodings,"Added fuzzing spa packet generation for invalid encodings

This commit adds the ability to generate SPA packets that are valid except for
the last encoding step before encryption.  This is independent of supplying
invalid data for SPA packet fields.  To invoke the test suite in this mode,
do something like:

 # ./test-fwknop.pl --enable-perl-module-pkt-gen  --fuzzing-test-tag ""encoded_colon1_missing""  --fuzzing-class encoding

This assumes that lib/fko_encode.c has been patched to subvert the encoding
step itself before encryption.  In this case, the first colon after the random
value is removed.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1351215472,1351215472,b3889289b39409119d6da96441f21fcf3f868bbb
b3889289b39409119d6da96441f21fcf3f868bbb,b3889289,added non-base64 user character fuzzing SPA packets,"added non-base64 user character fuzzing SPA packets
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1351140122,1351140122,d16643affa9579135e99c7eaf374bc58f78455e7
d16643affa9579135e99c7eaf374bc58f78455e7,d16643af,added extra_timestamp_digit fuzzing SPA packets,"added extra_timestamp_digit fuzzing SPA packets
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1351139341,1351139341,e8312c26b9012bc99e22ccf9e19e1629903d3c75
e8312c26b9012bc99e22ccf9e19e1629903d3c75,e8312c26,added colon_1_to_a fuzzing SPA packets,"added colon_1_to_a fuzzing SPA packets
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1351139059,1351139059,de512e7d8f2bf763ba9258222300900e380621c1
de512e7d8f2bf763ba9258222300900e380621c1,de512e7d,added fuzzing/README file,"added fuzzing/README file
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1351138855,1351138855,6a649e26e71ecf1a413b8bed218d160cd6fd191e
6a649e26e71ecf1a413b8bed218d160cd6fd191e,6a649e26,easier SPA fuzzing packet generation and importing,"easier SPA fuzzing packet generation and importing
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1351138808,1351138808,627035fb22ac375d19cdde3b132f2d7fa85fcbe7
627035fb22ac375d19cdde3b132f2d7fa85fcbe7,627035fb,Patch from Franck Joncourt for setting permissions via open(),"Patch from Franck Joncourt for setting permissions via open()

[client+server] Applied patch from Franck Joncourt to remove unnecessary
chmod() call when creating client rc file and server replay cache file.
The permissions are now set appropriately via open(), and at the same
time this patch fixes a potential race condition since the previous code
used fopen() followed by chmod().
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1351043276,1351043276,52d023ec60a37e07f8de678fe46b2275375c1b60
52d023ec60a37e07f8de678fe46b2275375c1b60,52d023ec,added validate_username() call to SPA packet encoding routine,"added validate_username() call to SPA packet encoding routine
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1350952279,1350952291,23eefbdefad378892f2abe89bdd16c73d092f6ea
23eefbdefad378892f2abe89bdd16c73d092f6ea,23eefbde,added MIPS compilation bug for todo.org tracking,"added MIPS compilation bug for todo.org tracking
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1350952242,1350952242,691d9503ee79ca3abdff5eb0083a148791e111a8
691d9503ee79ca3abdff5eb0083a148791e111a8,691d9503,added test/fuzzing/ directory for fuzzing data and patches,"added test/fuzzing/ directory for fuzzing data and patches
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1350699264,1350699264,95001b7da8f06ee14662b3fc7a4c3516fa15f8dc
95001b7da8f06ee14662b3fc7a4c3516fa15f8dc,95001b7d,minor ChangeLog updates,"minor ChangeLog updates
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1350699087,1350699087,54297086baac78292415a66d81db4681888924cc
54297086baac78292415a66d81db4681888924cc,54297086,fixed --enable-recompile argument for OpenBSD,"fixed --enable-recompile argument for OpenBSD
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1350616202,1350616202,3eaa7dcb5f375b9cda4e509def5e0f4d3e497853
3eaa7dcb5f375b9cda4e509def5e0f4d3e497853,3eaa7dcb,added libfko validate_username() for decrypted SPA data,"added libfko validate_username() for decrypted SPA data
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1350615714,1350615714,692e336880e22aef35204705b49b3be39853123f
692e336880e22aef35204705b49b3be39853123f,692e3368,added 'Rejected' messages to test output for bogus SPA packet perl FKO tests,"added 'Rejected' messages to test output for bogus SPA packet perl FKO tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1350613488,1350613488,d5c3fc4b1c3f333f7f85bf9ef7fb0d29f0558ca9
d5c3fc4b1c3f333f7f85bf9ef7fb0d29f0558ca9,d5c3fc4b,removed non-SPA packet lines,"removed non-SPA packet lines
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1350613451,1350613451,cc58adc7fc505273d08bea805154084b8e34aa90
cc58adc7fc505273d08bea805154084b8e34aa90,cc58adc7,added bogus_spa_packets file for perl FKO fuzzing tests,"added bogus_spa_packets file for perl FKO fuzzing tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1350612518,1350612518,b218977c61b60f6c0f2d63af4ab4747be61cc0eb
b218977c61b60f6c0f2d63af4ab4747be61cc0eb,b218977c,continued validation code driven by perl FKO module,"continued validation code driven by perl FKO module
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1350437023,1350437023,e0d86f9a336f5b203106c1e24c2151f7001b7d49
e0d86f9a336f5b203106c1e24c2151f7001b7d49,e0d86f9a,[libfko] validation of NAT access strings,"[libfko] validation of NAT access strings

Added validation of NAT access strings in the various NAT modes in libfko.
This applies to both the client and server, and test suite support was added
as well.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1350348743,1350348743,bf22778ada205da8bafde8347cd25e3a95f22b9e
bf22778ada205da8bafde8347cd25e3a95f22b9e,bf22778a,added perl FKO module client timeout test,"added perl FKO module client timeout test
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1350151718,1350151718,1910cd1ecf1cf5da308818dcf5432aa9c4588b51
1910cd1ecf1cf5da308818dcf5432aa9c4588b51,1910cd1e,additional perl FKO module access message test strings,"additional perl FKO module access message test strings
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1350142703,1350142703,e24cfd014d8314c56c7d034e4acb6664bbe01168
e24cfd014d8314c56c7d034e4acb6664bbe01168,e24cfd01,added perl FKO module cmd mode tests,"added perl FKO module cmd mode tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1350142291,1350142291,5112704ed92b0d86734bc7ca713c77f1de9ba915
5112704ed92b0d86734bc7ca713c77f1de9ba915,5112704e,started on fuzzing tests with the perl FKO module,"started on fuzzing tests with the perl FKO module
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1350100334,1350100334,402c7033d50be4b8faa430002f42ebf894539a6d
402c7033d50be4b8faa430002f42ebf894539a6d,402c7033,force usernames to be alpha numeric chars and dashes,"force usernames to be alpha numeric chars and dashes
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1350100288,1350100288,c047dca50d05cfe52b6b31d11c8b237643af4e62
c047dca50d05cfe52b6b31d11c8b237643af4e62,c047dca5,minor todo.org update to set icmp type/code task to completed,"minor todo.org update to set icmp type/code task to completed
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1350013816,1350013816,e4751d1c20796f95ca20a07abf49094d55b36160
e4751d1c20796f95ca20a07abf49094d55b36160,e4751d1c,added icmp type/code blurb,"added icmp type/code blurb
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1350013204,1350013204,67f5d1f1e9aea0c45c2da118c07c16a4bc70dae6
67f5d1f1e9aea0c45c2da118c07c16a4bc70dae6,67f5d1f1,Applied perl FKO module libfko path patch from Franck Joncourt,"Applied perl FKO module libfko path patch from Franck Joncourt

Applied patch from Franck Joncourt to have the perl FKO module link
against libfko in the local directory (if it exists) so that it doesn't
have to have libfko completely installed in /usr/lib/.  This allows the
test suite to run FKO tests without installing libfko.

Added the ability to the test suite to compile, install, and run some
basic tests against the perl FKO module.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1350013010,1350013010,6f356a96844214da616ad3b3a994d4d37cd9ed77
6f356a96844214da616ad3b3a994d4d37cd9ed77,6f356a96,Added Sean Greven for his FreeBSD port,"Added Sean Greven for his FreeBSD port
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1349748393,1349748393,d0189b6b7e7c57b7bd08a264246c624033dc69c3
d0189b6b7e7c57b7bd08a264246c624033dc69c3,d0189b6b,minor addition of newline before each chain list in --fw-list mode,"minor addition of newline before each chain list in --fw-list mode
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1349637113,1349637113,845f81804f47c7fe7addc6e673bbdb4f77467b80
845f81804f47c7fe7addc6e673bbdb4f77467b80,845f8180,added test/conf/tcp_server_fwknopd.conf file,"added test/conf/tcp_server_fwknopd.conf file
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1349467923,1349467923,66741b3d81ab8afa6e2c8a98a66efa2bfb22604d
66741b3d81ab8afa6e2c8a98a66efa2bfb22604d,66741b3d,Added a test for SPA over TCP,"Added a test for SPA over TCP
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1349399155,1349399155,ecce80b92bd201fc02a40506128911bfadf8e81b
ecce80b92bd201fc02a40506128911bfadf8e81b,ecce80b9,"[client] for spoofed SPA packets over ICMP, switche back to sending over echo reply","[client] for spoofed SPA packets over ICMP, switche back to sending over echo reply
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1349399122,1349399122,aceb501eca940b005b80b719b5bb718625ea38af
aceb501eca940b005b80b719b5bb718625ea38af,aceb501e,minor replay warning msg fix to not include newlines (better for syslog),"minor replay warning msg fix to not include newlines (better for syslog)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1349319486,1349319486,229a36625b24c01d5883d65586dff7670c467064
229a36625b24c01d5883d65586dff7670c467064,229a3662,Better IP spoofing support (udpraw and icmp),"Better IP spoofing support (udpraw and icmp)

- [client] Added '-P udpraw' to allow the client to send SPA packets over
  UDP with a spoofed source IP address.  This is in addition to the
  original 'tcpraw' and 'icmp' protocols that also support a spoofed
  source IP.
- [server] Bug fix to accept SPA packets over ICMP if the fwknop client
  is executed with '-P icmp' and the user has the required privileges.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1349319370,1349319370,bb1743d25dc8145252b0e8a90d81766a957dc45a
bb1743d25dc8145252b0e8a90d81766a957dc45a,bb1743d2,[server] Switched upstart config to use 'expect' section,"[server] Switched upstart config to use 'expect' section

This change allows fwknopd to write syslog messages to traditional syslog files
while running under upstart.  Not forking into the background resulted in
messages meant for syslog were captured under /var/log/upstart/fwknop.log.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1349234535,1349234535,1828f51b90a925a296d72406f0b8dfb1cfe7e7b1
1828f51b90a925a296d72406f0b8dfb1cfe7e7b1,1828f51b,[server] GPG_ALLOW_NO_PW + no KEY bug fix,"[server] GPG_ALLOW_NO_PW + no KEY bug fix

Bug fix to allow GPG_ALLOW_NO_PW to result in not also having to specify a
Rijndael key.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1349234447,1349234447,2aff47c7a24fdf7733b0b1c520dbbbf1896067d7
2aff47c7a24fdf7733b0b1c520dbbbf1896067d7,2aff47c7,minor fwknopd man page fixes,"minor fwknopd man page fixes
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1349146185,1349146185,1f4ca20f762881bcbc6202e6b4f20ef4a802799a
1f4ca20f762881bcbc6202e6b4f20ef4a802799a,1f4ca20f,[server] upstart config change to start on network device up,"[server] upstart config change to start on network device up

For the upstart config make sure only start fwknopd after a non-loopback
network interface is brought up.  Also added a commented post-start script
to send an email whenever fwknopd is (re)started.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1348970284,1348970284,e37409c25092dfe3938dbbf813d19b3d74597f08
e37409c25092dfe3938dbbf813d19b3d74597f08,e37409c2,Added blurb about the new upstart config,"Added blurb about the new upstart config
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1348797714,1348797714,f7472bec0fd6c270d1dd9e08bdc9f9188c8a5f84
f7472bec0fd6c270d1dd9e08bdc9f9188c8a5f84,f7472bec,Added upstart config for Ubuntu systems,"Added upstart config for Ubuntu systems

fwknop can be easily managed with upstart with the addition of this config.
Here is an example:

 # service fwknop start
 fwknop start/running, process 4269
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1348797518,1348797518,91e7b210544375c03753ff4cdd43fe2032247294
91e7b210544375c03753ff4cdd43fe2032247294,91e7b210,added log output for the sniffing interface,"added log output for the sniffing interface
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1348797459,1348797459,4c852c133b767dfc95f9d103a5f137050037e9da
4c852c133b767dfc95f9d103a5f137050037e9da,4c852c13,[todo] client/server tests,"[todo] client/server tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1348539333,1348539333,61021e0f23e795a0442c1a1f599d32c3437e2a2b
61021e0f23e795a0442c1a1f599d32c3437e2a2b,61021e0f,minor print status update in --Anonymize mode,"minor print status update in --Anonymize mode
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1348539301,1348539301,96609e280c1d1e99f9d29bd646e7ae16f20035a0
96609e280c1d1e99f9d29bd646e7ae16f20035a0,96609e28,added mbr@cipherdyne.org to bug email list,"added mbr@cipherdyne.org to bug email list
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1348536821,1348536821,05eb19738a5363cdcc97c431eb84a1f1db8dbbee
05eb19738a5363cdcc97c431eb84a1f1db8dbbee,05eb1973,added the OpenBSD port from Vlad,"added the OpenBSD port from Vlad
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1347585943,1347585943,2b09f048f7d0a05633ef82edb9c663a754f6452a
2b09f048f7d0a05633ef82edb9c663a754f6452a,2b09f048,(Vlad Glagolev) Submitted an OpenBSD port for fwknop-2.0.3,"(Vlad Glagolev) Submitted an OpenBSD port for fwknop-2.0.3

(Vlad Glagolev) Submitted an OpenBSD port for fwknop-2.0.3, and this has
been checked in under extras/openbsd/.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1347585894,1347585894,f8374c8aefe7a3cf4fcc8763267b139a3504cd66
f8374c8aefe7a3cf4fcc8763267b139a3504cd66,f8374c8a,[server] (Vlad Glagolev) Submitted a patch to fix command exec mode,"[server] (Vlad Glagolev) Submitted a patch to fix command exec mode

(Vlad Glagolev) Submitted a patch to fix command exec mode
under SPA message type validity test.  Support for command exec mode was
also added to the test suite.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1347414866,1347414866,591416e23bc9e93c83e832bbf504837e7b24be88
591416e23bc9e93c83e832bbf504837e7b24be88,591416e2,[server] bug fix in --disable-file-cache mode,"[server] bug fix in --disable-file-cache mode

Applied patch from Vlad Glagolev to fix ndbm/gdbm usage when --disable-file-cache
is used for the autoconf configure script.  This functionality was broken in
be4193d734850fe60f14a26b547525ea0b9ce1e9 through improper handling of #define
macros from --disable-file-cache.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1347328068,1347328068,7bd0da29c42768ca5a8f48a8d1813c12dff363d4
7bd0da29c42768ca5a8f48a8d1813c12dff363d4,7bd0da29,minor spelling typo fixes,"minor spelling typo fixes
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1346810688,1346810688,c560dc503a27d88e700ebb57be45da14c6b92fc6
c560dc503a27d88e700ebb57be45da14c6b92fc6,c560dc50,minor spelling typo fixes,"minor spelling typo fixes
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1346809650,1346809650,25edd17aca0450844f89971ef1bcd3bb7aa231bc
25edd17aca0450844f89971ef1bcd3bb7aa231bc,25edd17a,diff update for fwknop-2.0.3 release,"diff update for fwknop-2.0.3 release
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1346807689,1346807689,40ac28df21fab384f1389607eed78f6d35159206
55fa4841f24f13c1db84fa76a02d106298c057ec,55fa4841,another merge from master,"another merge from master
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1346725964,1346725964,"5daaca01ea30bec306cdd96085e4efc8e384d082,40ac28df21fab384f1389607eed78f6d35159206"
40ac28df21fab384f1389607eed78f6d35159206,40ac28df,bump version to 2.0.3,"bump version to 2.0.3
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1346725428,1346725428,8d26cc90ee76ba95d58ee18d90431a9883a2a89a
8d26cc90ee76ba95d58ee18d90431a9883a2a89a,8d26cc90,include file compilation fix for OpenBSD relative to inet_aton() IP verification,"include file compilation fix for OpenBSD relative to inet_aton() IP verification
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1346725139,1346725139,b05d229bb15cb77a17a28a146b8b0dc61afa4aa9
b05d229bb15cb77a17a28a146b8b0dc61afa4aa9,b05d229b,sprintf() -> snprintf() calls,"sprintf() -> snprintf() calls
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1346677775,1346677775,e2c0ac4821773eb335e36ad6cd35830b8d97c75a
e2c0ac4821773eb335e36ad6cd35830b8d97c75a,e2c0ac48,[server] Strong access.conf validation,"[server] Strong access.conf validation

Fernando Arnaboldi from IOActive found several conditions in
which the server did not properly throw out maliciously constructed
variables in the access.conf file.  This has been fixed along with new
fuzzing tests in the test suite.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1346646106,1346646106,263fa01f2af1d336961df320f1c7a9ea84ddac9a
263fa01f2af1d336961df320f1c7a9ea84ddac9a,263fa01f,added inet_aton() call for IP strong IP validation (credit: Fernando Arnaboldi),"added inet_aton() call for IP strong IP validation (credit: Fernando Arnaboldi)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1346646092,1346646092,ffe4d3b162bbfea143704461aab4244cc4acdfcf
ffe4d3b162bbfea143704461aab4244cc4acdfcf,ffe4d3b1,minor spacing update to make merges into hmac_master easier,"minor spacing update to make merges into hmac_master easier
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1346615634,1346615634,86b403dadb90c30deb51b3530e8ebbb791531615
86b403dadb90c30deb51b3530e8ebbb791531615,86b403da,fixed potential buffer overflow discovered by Fernando Arnaboldi of IOActive,"fixed potential buffer overflow discovered by Fernando Arnaboldi of IOActive
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1346557023,1346557023,e3a78a175c664ee51de1fb8086deb96a1d017ac3
e3a78a175c664ee51de1fb8086deb96a1d017ac3,e3a78a17,verify_file_perms_ownership() to just return if the file doesn't exist,"verify_file_perms_ownership() to just return if the file doesn't exist
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1346550952,1346550952,1548cbafc886af802b639913bb10e6a746222478
1548cbafc886af802b639913bb10e6a746222478,1548cbaf,get MAX_PORT_STR_LEN constant from fko_message.h,"get MAX_PORT_STR_LEN constant from fko_message.h
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1346468705,1346468705,dafcfbc488f1e713ef6cfa9e86571a2b14e649d8
dafcfbc488f1e713ef6cfa9e86571a2b14e649d8,dafcfbc4,bug fix to make sure to verify file permissions/ownership on files that actually exist,"bug fix to make sure to verify file permissions/ownership on files that actually exist
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1346468445,1346468445,b567514a6c722886fef5044a44abfc1514eff032
b567514a6c722886fef5044a44abfc1514eff032,b567514a,Added fko_context.h file to lib/Makefile.am,"Added fko_context.h file to lib/Makefile.am
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1346468384,1346468384,d7393318189ace0a154823b359eb746aa0b36d94
5daaca01ea30bec306cdd96085e4efc8e384d082,5daaca01,merged master 2.0.3 changes,"merged master 2.0.3 changes
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1346463835,1346463835,"b643848e057eb72085c9bc690a30fe434944437f,d7393318189ace0a154823b359eb746aa0b36d94"
d7393318189ace0a154823b359eb746aa0b36d94,d7393318,implemented a couple of minor stronger bounds checks,"implemented a couple of minor stronger bounds checks
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1346384334,1346384334,2584521c67952855ba20c7c61b701a34ba57615c
2584521c67952855ba20c7c61b701a34ba57615c,2584521c,Run verify_file_perms_ownership() on fwknop.pid only if it exists,"Run verify_file_perms_ownership() on fwknop.pid only if it exists

Two bugs are fixed with this commit: verify permissions/ownership on the
fwknop.pid file only if it exists, and ensure to ru-run stat() on any directory
component if we're creating a directory.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1346377433,1346377433,406e33ccc0836796a53c88f7fe118d292adf0a25
406e33ccc0836796a53c88f7fe118d292adf0a25,406e33cc,minor comment update,"minor comment update
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1346377387,1346377387,4832312e6de8401ac6fdbe63014ef7f186cf33cb
4832312e6de8401ac6fdbe63014ef7f186cf33cb,4832312e,added filesystem permissions test,"added filesystem permissions test
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1346296376,1346296376,a60f05ad44e824f6230b22f8976399340cb535dc
a60f05ad44e824f6230b22f8976399340cb535dc,a60f05ad,file permissions and client buffer overflow fix,"file permissions and client buffer overflow fix

- [client+server] Fernando Arnaboldi from IOActive found that strict
filesystem permissions for various fwknop files are not verified.  Added
warnings whenever permissions are not strict enough, and ensured that
files created by the fwknop client and server are only set to user
read/write.
- [client] Fernando Arnaboldi from IOActive found a local buffer overflow
in --last processing with a maliciously constructed ~/.fwknop.run file.
This has been fixed with proper validation of .fwknop.run arguments.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1346293303,1346293303,186a424353a2e795e69f399f079a901e7dc8f24b
186a424353a2e795e69f399f079a901e7dc8f24b,186a4243,Added Ctrl-C and --disable-gpg notes,"Added Ctrl-C and --disable-gpg notes
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1346203737,1346203737,098ae417fe91aefe501e9268aacd228374d0906d
098ae417fe91aefe501e9268aacd228374d0906d,098ae417,migrated TODO tasks to the todo.org file,"migrated TODO tasks to the todo.org file
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1346121027,1346121027,89dfa2c1fb06776646f99f722f21d47620f66695
89dfa2c1fb06776646f99f722f21d47620f66695,89dfa2c1,minor ChangeLog update for the RPM build change,"minor ChangeLog update for the RPM build change
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1346116802,1346116802,c5b229c5c87657197b0c814ff22127d870b55753
c5b229c5c87657197b0c814ff22127d870b55753,c5b229c5,Added $DESTDIR prefix in uninstall-local and install-exec-hook to fix RPM builds,"Added $DESTDIR prefix in uninstall-local and install-exec-hook to fix RPM builds
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1346116619,1346116660,e8386dbe6c959365da5c08396e09c27901faed56
e8386dbe6c959365da5c08396e09c27901faed56,e8386dbe,added encryption mode flags for each access stanza,"added encryption mode flags for each access stanza
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1346010444,1346010444,557cd6615b9cab21a9208390f5af070c66fd257d
557cd6615b9cab21a9208390f5af070c66fd257d,557cd661,consolidatd fuzzing functions within a single 'fuzzer' function,"consolidatd fuzzing functions within a single 'fuzzer' function
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1346010414,1346010414,f4c16bc47fc24a96b63105556b62d61c1ba7d799
f4c16bc47fc24a96b63105556b62d61c1ba7d799,f4c16bc4,[server] Stronger IP validation based on a bug found by Fernando Arnaboldi from IOActive,"[server] Stronger IP validation based on a bug found by Fernando Arnaboldi from IOActive

This commit fixes a condition in which the server did not properly validate
allow IP addresses from malicious authenticated clients.  This has been fixed
with stronger allow IP validation.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1345950535,1345950535,d46ba1c027a11e45821ba897a4928819bccc8f22
d46ba1c027a11e45821ba897a4928819bccc8f22,d46ba1c0,"(Fernando Arnaboldi, IOActive) Found and fixed several DoS/code execution vulns…","(Fernando Arnaboldi, IOActive) Found and fixed several DoS/code execution vulns for authenticated clients

- [server] Fernando Arnaboldi from IOActive found several DoS/code
execution vulnerabilities for malicious fwknop clients that manage to
get past the authentication stage (so a such a client must be in
possession of a valid access.conf encryption key).  These vulnerbilities
manifested themselves in the handling of malformed access requests, and
both the fwknopd server code along with libfko now perform stronger input
validation of access request data.  These vulnerabilities affect
pre-2.0.3 fwknop releases.
- [test suite] Added a new fuzzing capability to ensure proper server-side
input validation.  Fuzzing data is constructed with modified fwknop
client code that is designed to emulate malicious behavior.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1345860739,1345860739,b0bf7f369918989bae364730c8952258aac693c6
b643848e057eb72085c9bc690a30fe434944437f,b643848e,added --hmac-mode to spa-entropy.pl,"added --hmac-mode to spa-entropy.pl
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1345429624,1345429624,e80a6de5f7dda2fbe0c0f9e4e1df2e951921511b
e80a6de5f7dda2fbe0c0f9e4e1df2e951921511b,e80a6de5,"Memory leak bug fix discovered through the ""altered HMAC test""","Memory leak bug fix discovered through the ""altered HMAC test""

This commit fixes a memory leak caught with valgrind in the ""altered HMAC
test"":

 [+] fwknop functions (unique view):
-        9 : ???
-        4 : main
-        4 : pcap_capture
-        2 : incoming_spa
-        2 : fko_new_with_data
-        2 : fko_verify_hmac
+        7 : ???
+        2 : pcap_capture
+        2 : main
         1 : pcap_compile
-        1 : strdup
-        1 : fko_calculate_hmac
-        1 : add_salted_str

 [+] fwknop functions (with call line numbers):
-        9 : ??? (in /usr/lib/x86_64-linux-gnu/libpcap.so.1.1.1)
-        4 : main (fwknopd.c:299)
-        2 : fko_new_with_data (fko_funcs.c:220)
-        2 : pcap_capture (pcap_capture.c:226)
-        2 : incoming_spa (incoming_spa.c:378)
-        1 : add_salted_str (cipher_funcs.c:298)
-        1 : strdup (strdup.c:43)
-        1 : fko_verify_hmac (fko_hmac.c:78)
-        1 : fko_verify_hmac (fko_hmac.c:92)
-        1 : pcap_capture (pcap_capture.c:105)
+        7 : ??? (in /usr/lib/x86_64-linux-gnu/libpcap.so.1.1.1)
+        2 : main (fwknopd.c:299)
         1 : pcap_compile (in /usr/lib/x86_64-linux-gnu/libpcap.so.1.1.1)
         1 : pcap_capture (pcap_capture.c:97)
-        1 : fko_calculate_hmac (fko_hmac.c:169)
+        1 : pcap_capture (pcap_capture.c:105)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1345387410,1345387410,6199180c6971e08fdb52242deaed127c8d4af92c
b0bf7f369918989bae364730c8952258aac693c6,b0bf7f36,minor paren's syntax bug fix,"minor paren's syntax bug fix
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1345321834,1345321834,6de386b93704fe11786f4696b2badba4bc15c66b
6199180c6971e08fdb52242deaed127c8d4af92c,6199180c,minor paren's syntax bug fix,"minor paren's syntax bug fix
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1345321748,1345321748,6392e5891e626393e553eb032405424f5311be21
6392e5891e626393e553eb032405424f5311be21,6392e589,Merge branch 'master' into hmac_support,"Merge branch 'master' into hmac_support
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1345321566,1345321566,"8d6bc052952b9b99f4d0898038df78c946aef64b,6de386b93704fe11786f4696b2badba4bc15c66b"
6de386b93704fe11786f4696b2badba4bc15c66b,6de386b9,updated ChangeLog.git file for the fwknop-2.0.2 release,"updated ChangeLog.git file for the fwknop-2.0.2 release
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1345317005,1345317005,f7e84da340a8f154edc27bcac9bb576bf35c220b
f7e84da340a8f154edc27bcac9bb576bf35c220b,f7e84da3,fwknop-2.0.2 release,"fwknop-2.0.2 release
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1345316584,1345316584,38feb8d7b953ad1b2e4e2ff23d6b8113a6b1bcff
8d6bc052952b9b99f4d0898038df78c946aef64b,8d6bc052,merged from master,"merged from master
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1345252792,1345252792,"47795d41e29feabe4824b7436d376cd71b56e406,38feb8d7b953ad1b2e4e2ff23d6b8113a6b1bcff"
38feb8d7b953ad1b2e4e2ff23d6b8113a6b1bcff,38feb8d7,Better --resolve-url handling,"Better --resolve-url handling

Chop any trailing '/' char, be more careful about handling incoming large HTTP
responses, print the HTTP request and response in --verbose --verbose mode.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1345251744,1345251744,760162a40a0796b25a9dba1e00e2e171d3505986
760162a40a0796b25a9dba1e00e2e171d3505986,760162a4,ipfw active/expire test bug fix (atoi() for config vars),"ipfw active/expire test bug fix (atoi() for config vars)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1345170609,1345170609,2c55773bdbcf473fac1cec6a4c0765a9b38a9db2
2c55773bdbcf473fac1cec6a4c0765a9b38a9db2,2c55773b,added test/conf/ipfw_active_expire_equal_fwknopd.conf file,"added test/conf/ipfw_active_expire_equal_fwknopd.conf file
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1345169979,1345169979,3afd1aa762f1aa66bef9cdf875aea4b8bb23e567
3afd1aa762f1aa66bef9cdf875aea4b8bb23e567,3afd1aa7,[server] ipfw active/expire sets cannot be the same,"[server] ipfw active/expire sets cannot be the same
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1345169796,1345169796,fda5759b2b045aaa96ee1fa6d14fb3c17fe0fd01
fda5759b2b045aaa96ee1fa6d14fb3c17fe0fd01,fda5759b,todo.org notes update,"todo.org notes update
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1345166291,1345166291,3af8e4c51769495a702a28bd630abf37162ada6c
3af8e4c51769495a702a28bd630abf37162ada6c,3af8e4c5,[client] Added cipherdyne.com backup check in -R mode.,"[client] Added cipherdyne.com backup check in -R mode.

Added backup check against a cipherdyne.com 'myip' cgi instance in -R mode if
the normal check against cipherdyne.org fails.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1345085369,1345085369,a646a024d98f660f32991baa532bcbae1eceec60
a646a024d98f660f32991baa532bcbae1eceec60,a646a024,added 'Pragma: no-cache' header,"added 'Pragma: no-cache' header
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1345085209,1345085209,419fbafa0442caa1e9bd071bf4b178082fcc4a54
419fbafa0442caa1e9bd071bf4b178082fcc4a54,419fbafa,added extras/myip/myip.c,"added extras/myip/myip.c
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1344999144,1344999144,37950df66f40e04cb428519f313f4697a198de45
37950df66f40e04cb428519f313f4697a198de45,37950df6,bumped version to fwknop-2.0.2-pre3,"bumped version to fwknop-2.0.2-pre3
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1344998102,1344998102,c272339707229fa23d65e303d2ef7b163d855ec6
c272339707229fa23d65e303d2ef7b163d855ec6,c2723397,todo.org notes update,"todo.org notes update
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1344998043,1344998043,7ae45ecad109ebf9dc21c2d8a966e05b6c5c5b78
7ae45ecad109ebf9dc21c2d8a966e05b6c5c5b78,7ae45eca,Added GPG_ALLOW_NO_PW to the fwknopd man page,"Added GPG_ALLOW_NO_PW to the fwknopd man page
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1344997863,1344997863,66187a22af035425ded6df60dbf9f50cdab53938
66187a22af035425ded6df60dbf9f50cdab53938,66187a22,minor defensive fko_destroy() calls in two error condition blocks,"minor defensive fko_destroy() calls in two error condition blocks
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1344997294,1344997294,dfe6679c5750b577ae3e923ecbd140d935628864
dfe6679c5750b577ae3e923ecbd140d935628864,dfe6679c,Added the extras/myip/ directory for client IP resolution code,"Added the extras/myip/ directory for client IP resolution code

The myip.c file is deployed at http://www.cipherdyne.org/cgi-bin/myip
for fwknop client IP resolution.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1344995460,1344995460,385396b845c87997ce5b3506ae9e56c0184007a6
385396b845c87997ce5b3506ae9e56c0184007a6,385396b8,Added --enable-distcheck for 'make distcheck' verification,"Added --enable-distcheck for 'make distcheck' verification
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1344912809,1344912809,863838d0ba54c666150d98c643c7cc0456404e18
863838d0ba54c666150d98c643c7cc0456404e18,863838d0,[server] Preserve any existing config files in /etc/fwknop/,"[server] Preserve any existing config files in /etc/fwknop/

Updated the 'make install' step to not overwrite any existing config files in
/etc/fwknop/ and instead install new copies from the source tree at
/etc/fwknop/fwknopd.conf.inst and /etc/fwknop/access.conf.inst
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1344911943,1344911943,8fafd4b80bf215da311dc2b53f33b0e4cd269944
8fafd4b80bf215da311dc2b53f33b0e4cd269944,8fafd4b8,[server] 'make install' permissions fix,"[server] 'make install' permissions fix

Set restrictive permissions on /etc/fwknop/ directory and /etc/fwknop/* files.
Current default permissions on /etc/fwknop/ and /etc/fwknop/* are too lax.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1344815831,1344815831,543de16613b89723ef1350df3e59df126586800e
543de16613b89723ef1350df3e59df126586800e,543de166,[server] iptables 'comment' match check,"[server] iptables 'comment' match check

Implemented a new check to ensure that the iptables 'comment' match exists to
ensure the proper environment for fwknopd operations.  This check is controlled
by the new ENABLE_IPT_COMMENT_CHECK variable, and was suggested by Hank
Leininger.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1344800653,1344800653,a087b11887ff4fffb4057198e559d448b016ac0e
a087b11887ff4fffb4057198e559d448b016ac0e,a087b118,todo update,"todo update
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1344799418,1344799418,a686d96d444ab739742e31967153b2bf02b62f0d
a686d96d444ab739742e31967153b2bf02b62f0d,a686d96d,Added todo.org org mode file,"Added todo.org org mode file

The todo.org mode file was built with vim and the VimOrganizer project:

https://github.com/hsitz/VimOrganizer
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1344778191,1344778191,dc23c640bb2f757a2121ea0a83d18648dcaec32f
dc23c640bb2f757a2121ea0a83d18648dcaec32f,dc23c640,added gpg_no_pw_access.conf file for no password gpg tests,"added gpg_no_pw_access.conf file for no password gpg tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1344692034,1344692034,72229b5f46084e9cfca36bb2e1ba23c4b7f09b66
72229b5f46084e9cfca36bb2e1ba23c4b7f09b66,72229b5f,bumped version to fwknop-2.0.2-pre2,"bumped version to fwknop-2.0.2-pre2
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1344691309,1344691309,27ccfe35d36c7ba1d94734fb21a46c77aaf30719
47795d41e29feabe4824b7436d376cd71b56e406,47795d41,merged from master,"merged from master
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1344652207,1344652207,"c374a7df27c9baf37e6c0c43b284886588b59d15,27ccfe35d36c7ba1d94734fb21a46c77aaf30719"
27ccfe35d36c7ba1d94734fb21a46c77aaf30719,27ccfe35,[server] Added GPG_ALLOW_NO_PW variable and associated test suite support,"[server] Added GPG_ALLOW_NO_PW variable and associated test suite support

For GPG mode, added a new access.conf variable ""GPG_ALLOW_NO_PW"" to make it
possible to leverage a server-side GPG key pair that has no associated
password.  This comes in handy when a system requires the user to leverage
gpg-agent / pinentry which can present a problem in automated environments as
required by the fwknopd server.  Now, it might seem like a problem to remove
the passphrase from a GPG key pair, but it's important to note that simply
doing this is little worse than storing the passphrase in the clear on disk
anyway in the access.conf file.  Further, this link help provides additional
detail:

http://www.gnupg.org/faq/GnuPG-FAQ.html#how-can-i-use-gnupg-in-an-automated-environment
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1344649929,1344651630,0af3bd0ee10768f6838aafe9fdc66187e5be9ee4
0af3bd0ee10768f6838aafe9fdc66187e5be9ee4,0af3bd0e,[server] Added FLUSH_IPFW_AT_INIT and FLUSH_IPFW_AT_EXIT,"[server] Added FLUSH_IPFW_AT_INIT and FLUSH_IPFW_AT_EXIT

Added FLUSH_IPFW_AT_INIT and FLUSH_IPFW_AT_EXIT for ipfw firewalls to emulate
the corresponding functionality that is implemented for iptables firewalls.

Bug fix for ipfw firewalls to ensure that if the ipfw expire set is zero, then
do not disable this set whenever the FLUSH_IPFW* variables are enabled.

These changes were suggested by Jonathan Schulz.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1344649682,1344649682,c6f3fde5371c1be48d8e1bc7e17dde89e19d02fc
c6f3fde5371c1be48d8e1bc7e17dde89e19d02fc,c6f3fde5,bug fix to implement FLUSH_IPT_AT_INIT and FLUSH_IPT_AT_EXIT functionality,"bug fix to implement FLUSH_IPT_AT_INIT and FLUSH_IPT_AT_EXIT functionality
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1344649429,1344649429,fbdae500641b4ab46bc54dbf2e509eae2625dc44
fbdae500641b4ab46bc54dbf2e509eae2625dc44,fbdae500,added Geoff Carstairs for the FORCE_NAT idea,"added Geoff Carstairs for the FORCE_NAT idea
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1344475653,1344475653,fd3044012843dfcaa9ab4f9030c70732f29a3b90
fd3044012843dfcaa9ab4f9030c70732f29a3b90,fd304401,added Aldan Beaubien for reporting the Morpheus NULL IP problem,"added Aldan Beaubien for reporting the Morpheus NULL IP problem
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1344190062,1344190062,e70739d2117a229e842d3a1bc43f1cf2a6fab46e
c374a7df27c9baf37e6c0c43b284886588b59d15,c374a7df,Merge branch 'master' into hmac_support,"Merge branch 'master' into hmac_support
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1344187603,1344187603,"eb5176cf6058fd5bec254767a511665066bf0691,e70739d2117a229e842d3a1bc43f1cf2a6fab46e"
e70739d2117a229e842d3a1bc43f1cf2a6fab46e,e70739d2,minor whitespace update,"minor whitespace update
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1344186355,1344186355,f6ac4484c95f443dfce9c6b7dafbff8126ade9ad
f6ac4484c95f443dfce9c6b7dafbff8126ade9ad,f6ac4484,minor memset value update 0 -> 0x0 to conform to other memset() calls,"minor memset value update 0 -> 0x0 to conform to other memset() calls
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1344186330,1344186330,4cde31584fb9afed499b5951b7ae88b7765808c3
4cde31584fb9afed499b5951b7ae88b7765808c3,4cde3158,bumped version to 2.0.2-pre1,"bumped version to 2.0.2-pre1
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1344046582,1344046582,79a947603a7c2bc4636d33834ca0b9fdd033a894
79a947603a7c2bc4636d33834ca0b9fdd033a894,79a94760,added changes for the 2.0.2 release (so far),"added changes for the 2.0.2 release (so far)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1344046094,1344046094,29512bd8ec16f47db568694ec172075412ca115d
29512bd8ec16f47db568694ec172075412ca115d,29512bd8,[client] -R http recv() read until close (Jonathan Schulz),"[client] -R http recv() read until close (Jonathan Schulz)

Applied patch from Jonathan Schulz to ensure that the fwknop client reads all
data from a remote webserver when resolving the client IP address in -R mode.
Jonathan indicated that some webservers would transfer HTTP headers and data
separately, and a single recv() would therefore fail to get the necessary IP
information.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1344044943,1344044943,7c1db891061dba5cdc29fb8cfe0c88e0a4a408dd
7c1db891061dba5cdc29fb8cfe0c88e0a4a408dd,7c1db891,minor white space fix tabs->spaces,"minor white space fix tabs->spaces
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1344043824,1344043824,7061b7bd3ecb1de6ae151b6b85af9251d46e32c6
eb5176cf6058fd5bec254767a511665066bf0691,eb5176cf,[test suite] added --enable-all arg,"[test suite] added --enable-all arg
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1344043221,1344043221,f7084721b76df36551c72a5603c91c7488d1da0e
f7084721b76df36551c72a5603c91c7488d1da0e,f7084721,added 'altered HMAC' tests to ensure HMAC verification happens properly,"added 'altered HMAC' tests to ensure HMAC verification happens properly
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1343964278,1343964278,30acf93b727ab5b9c03dd052c59dfc466689edc7
30acf93b727ab5b9c03dd052c59dfc466689edc7,30acf93b,Memory leak fix for HMAC verification,"Memory leak fix for HMAC verification

This commit commit fixes a memory leak in the HMAC verification code found with
the test suite running in valgrind mode.  Here is the './test-fwknop.pl --diff'
output showing fko_verify_hmac() removed from the flagged functions list:

 [+] fwknop functions (unique view):
-        8 : ???
-        3 : main
-        3 : pcap_capture
-        1 : incoming_spa
+        7 : ???
+        2 : pcap_capture
+        2 : main
         1 : pcap_compile
-        1 : fko_new_with_data
-        1 : strndup
-        1 : fko_verify_hmac

 [+] fwknop functions (with call line numbers):
-        8 : ??? (in /usr/lib/x86_64-linux-gnu/libpcap.so.1.1.1)
-        3 : main (fwknopd.c:299)
-        1 : fko_new_with_data (fko_funcs.c:220)
-        1 : pcap_capture (pcap_capture.c:105)
-        1 : incoming_spa (incoming_spa.c:376)
-        1 : strndup (strndup.c:46)
+        7 : ??? (in /usr/lib/x86_64-linux-gnu/libpcap.so.1.1.1)
+        2 : main (fwknopd.c:299)
         1 : pcap_compile (in /usr/lib/x86_64-linux-gnu/libpcap.so.1.1.1)
-        1 : pcap_capture (pcap_capture.c:226)
         1 : pcap_capture (pcap_capture.c:97)
-        1 : fko_verify_hmac (fko_hmac.c:54)
+        1 : pcap_capture (pcap_capture.c:105)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1343962554,1343962554,3d9e96af564a915096f29c8d779c3c8128269635
3d9e96af564a915096f29c8d779c3c8128269635,3d9e96af,Memory leak fix in client test mode,"Memory leak fix in client test mode

This commit fixes the following memory leak found with the test suite running
in valgrind mode:

HEAP SUMMARY:
    in use at exit: 217 bytes in 3 blocks
  total heap usage: 27 allocs, 24 frees, 5,260 bytes allocated

44 bytes in 1 blocks are definitely lost in loss record 1 of 3
   at 0x4C2B6CD: malloc (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
   by 0x50CB861: strndup (strndup.c:46)
   by 0x4E3A4D4: fko_verify_hmac (fko_hmac.c:54)
   by 0x4E394DD: fko_new_with_data (fko_funcs.c:220)
   by 0x10B3A7: main (fwknop.c:408)

44 bytes in 1 blocks are definitely lost in loss record 2 of 3
   at 0x4C2B6CD: malloc (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
   by 0x50CB801: strdup (strdup.c:43)
   by 0x4E3A3FC: fko_calculate_hmac (fko_hmac.c:162)
   by 0x4E3A552: fko_verify_hmac (fko_hmac.c:86)
   by 0x4E394DD: fko_new_with_data (fko_funcs.c:220)
   by 0x10B3A7: main (fwknop.c:408)

129 bytes in 1 blocks are definitely lost in loss record 3 of 3
   at 0x4C2B7B2: realloc (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
   by 0x4E36A03: add_salted_str (cipher_funcs.c:298)
   by 0x4E3A587: fko_verify_hmac (fko_hmac.c:75)
   by 0x4E394DD: fko_new_with_data (fko_funcs.c:220)
   by 0x10B3A7: main (fwknop.c:408)

LEAK SUMMARY:
   definitely lost: 217 bytes in 3 blocks
   indirectly lost: 0 bytes in 0 blocks
     possibly lost: 0 bytes in 0 blocks
   still reachable: 0 bytes in 0 blocks
        suppressed: 0 bytes in 0 blocks
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1343962012,1343962012,cba6478258c32c9106646e1cca62d300b53f6c46
cba6478258c32c9106646e1cca62d300b53f6c46,cba64782,Memory leak bug fix for rc file parsing of invalid data,"Memory leak bug fix for rc file parsing of invalid data

This commit fixes the following (found with the test suite in valgrind mode):

568 bytes in 1 blocks are still reachable in loss record 1 of 1
   at 0x4C2B6CD: malloc (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
   by 0x50B1C9A: __fopen_internal (iofopen.c:76)
   by 0x10D0CD: process_rc (config_init.c:516)
   by 0x10D645: config_init (config_init.c:752)
   by 0x10AB13: main (fwknop.c:70)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1343960994,1343960994,c37047ac93d57ebeec0d58bf2c7120cf67783eba
c37047ac93d57ebeec0d58bf2c7120cf67783eba,c37047ac,Memory leak bug fix in --key-gen mode,"Memory leak bug fix in --key-gen mode

This commit fixes the following memory caught with the test suite in valgrind
mode:

HEAP SUMMARY:
    in use at exit: 285 bytes in 4 blocks
  total heap usage: 11 allocs, 7 frees, 3,179 bytes allocated

5 bytes in 1 blocks are indirectly lost in loss record 1 of 4
   at 0x4C2B6CD: malloc (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
   by 0x50CB801: strdup (strdup.c:43)
   by 0x4E3A7B2: fko_set_username (fko_user.c:96)
   by 0x4E39628: fko_new (fko_funcs.c:86)
   by 0x10AB54: main (fwknop.c:83)

7 bytes in 1 blocks are indirectly lost in loss record 2 of 4
   at 0x4C2B6CD: malloc (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
   by 0x4E395D7: fko_new (fko_funcs.c:62)
   by 0x10AB54: main (fwknop.c:83)

17 bytes in 1 blocks are indirectly lost in loss record 3 of 4
   at 0x4C2B6CD: malloc (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
   by 0x4E3A06A: fko_set_rand_value (fko_rand_value.c:114)
   by 0x4E39605: fko_new (fko_funcs.c:75)
   by 0x10AB54: main (fwknop.c:83)

285 (256 direct, 29 indirect) bytes in 1 blocks are definitely lost in loss record 4 of 4
   at 0x4C29DB4: calloc (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
   by 0x4E395BA: fko_new (fko_funcs.c:46)
   by 0x10AB54: main (fwknop.c:83)

LEAK SUMMARY:
   definitely lost: 256 bytes in 1 blocks
   indirectly lost: 29 bytes in 3 blocks
     possibly lost: 0 bytes in 0 blocks
   still reachable: 0 bytes in 0 blocks
        suppressed: 0 bytes in 0 blocks
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1343959205,1343959205,b8ed3a60d9a4d2e191f43a11240210672553c5d6
b8ed3a60d9a4d2e191f43a11240210672553c5d6,b8ed3a60,excluded HMAC random verification from --enable-valgrind mode (too slow for 100 client executions),"excluded HMAC random verification from --enable-valgrind mode (too slow for 100 client executions)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1343959005,1343959005,84b9c775c037ec079bb43dcdf7b8e93517937534
84b9c775c037ec079bb43dcdf7b8e93517937534,84b9c775,Merge branch 'master' into hmac_support,"Merge branch 'master' into hmac_support
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1343878860,1343878860,"1528697aaa7d322c4dd8becd9ca90c2131e54568,7061b7bd3ecb1de6ae151b6b85af9251d46e32c6"
7061b7bd3ecb1de6ae151b6b85af9251d46e32c6,7061b7bd,added Jonathan Schulz,"added Jonathan Schulz
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1343878834,1343878834,84e036f95b6b239c95c696b884c3989fc30af338
84e036f95b6b239c95c696b884c3989fc30af338,84e036f9,Change HTTP connection type to 'close' in -R mode,"Change HTTP connection type to 'close' in -R mode

Applied patch from Jonathan Schulz to change the HTTP connection type to
'close' for the client in -R mode.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1343878054,1343878054,5fd3343ca9ae8cce9e39d8a4ccb0efb41ae78128
1528697aaa7d322c4dd8becd9ca90c2131e54568,1528697a,merged replay prefix and IP resolve tests,"merged replay prefix and IP resolve tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1343876751,1343876751,"a8bb42569c807becef2bd96238601e6adf5db909,5fd3343ca9ae8cce9e39d8a4ccb0efb41ae78128"
5fd3343ca9ae8cce9e39d8a4ccb0efb41ae78128,5fd3343c,added client IP resolution test with complete SPA->SSH cycle,"added client IP resolution test with complete SPA->SSH cycle
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1343874602,1343874602,016098a2543126f2fa01b3f4057646f0ad2842c5
016098a2543126f2fa01b3f4057646f0ad2842c5,016098a2,Replay attack bug fix (encryption prefixes),"Replay attack bug fix (encryption prefixes)

Ensure that an attacker cannot force a replay attack by intercepting an
SPA packet and the replaying it with the base64 version of ""Salted__""
(for Rindael) or the ""hQ"" prefix (for GnuPG).  This is an important fix.
The following comment was added into the fwknopd code:

/* Ignore any SPA packets that contain the Rijndael or GnuPG prefixes
 * since an attacker might have tacked them on to a previously seen
 * SPA packet in an attempt to get past the replay check.  And, we're
 * no worse off since a legitimate SPA packet that happens to include
 * a prefix after the outer one is stripped off won't decrypt properly
 * anyway because libfko would not add a new one.
*/

Conflicts:

	lib/cipher_funcs.h
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1343619075,1343872376,c0e53482fa766f1c89d18931e35ebca6297f8018
c0e53482fa766f1c89d18931e35ebca6297f8018,c0e53482,[libfko] minor memory leak fix for user detection (corner case),"[libfko] minor memory leak fix for user detection (corner case)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1343611904,1343702055,060fbb607f25ea2cd511d4cd548dc419d8eb3884
060fbb607f25ea2cd511d4cd548dc419d8eb3884,060fbb60,[server] replay attack detection memory leak bug fix,"[server] replay attack detection memory leak bug fix

This commit fixes the following memory leak found with valgrind:

44 bytes in 1 blocks are definitely lost in loss record 2 of 2
   at 0x482BE68: malloc (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
   by 0x490EA50: strdup (strdup.c:43)
   by 0x10CD69: incoming_spa (incoming_spa.c:162)
   by 0x10E000: process_packet (process_packet.c:200)
   by 0x4862E63: ??? (in /usr/lib/i386-linux-gnu/libpcap.so.1.1.1)
   by 0x4865667: pcap_dispatch (in /usr/lib/i386-linux-gnu/libpcap.so.1.1.1)
   by 0x10DABF: pcap_capture (pcap_capture.c:226)
   by 0x10A798: main (fwknopd.c:299)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1343448510,1343702004,8e26cca9f3c9edf6bc47101e88eff34f8d460f7d
a8bb42569c807becef2bd96238601e6adf5db909,a8bb4256,[test suite] minor compile bug fix,"[test suite] minor compile bug fix
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1343619332,1343619332,afc71b7df3d992ed6f3add8760fbd64b46c7cd31
afc71b7df3d992ed6f3add8760fbd64b46c7cd31,afc71b7d,Replay attack bug fix (encryption prefixes),"Replay attack bug fix (encryption prefixes)

Ensure that an attacker cannot force a replay attack by intercepting an
SPA packet and the replaying it with the base64 version of ""Salted__""
(for Rindael) or the ""hQ"" prefix (for GnuPG).  This is an important fix.
The following comment was added into the fwknopd code:

/* Ignore any SPA packets that contain the Rijndael or GnuPG prefixes
 * since an attacker might have tacked them on to a previously seen
 * SPA packet in an attempt to get past the replay check.  And, we're
 * no worse off since a legitimate SPA packet that happens to include
 * a prefix after the outer one is stripped off won't decrypt properly
 * anyway because libfko would not add a new one.
*/
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1343619075,1343619075,fd30a3491d6201736095846cb45ffaa808d29ee2
fd30a3491d6201736095846cb45ffaa808d29ee2,fd30a349,"minor variable rename LENGTH -> LEN, STRING_LENGTH -> STR_LEN","minor variable rename LENGTH -> LEN, STRING_LENGTH -> STR_LEN
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1343613425,1343613425,a9cbd60327374e61791ff4ea8fe50c03981739a0
a9cbd60327374e61791ff4ea8fe50c03981739a0,a9cbd603,[libfko] first HMAC-SHA256 implementation (includes test suite support),"[libfko] first HMAC-SHA256 implementation (includes test suite support)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1343612048,1343612048,df0f0b7f61c136e32ae51bbd595e576028f47305
df0f0b7f61c136e32ae51bbd595e576028f47305,df0f0b7f,[libfko] minor memory leak fix for user detection (corner case),"[libfko] minor memory leak fix for user detection (corner case)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1343611904,1343611904,6d379aba6e9eac17599f99c90b9458f2e6bce006
6d379aba6e9eac17599f99c90b9458f2e6bce006,6d379aba,[server] replay attack detection memory leak bug fix,"[server] replay attack detection memory leak bug fix

This commit fixes the following memory leak found with valgrind:

44 bytes in 1 blocks are definitely lost in loss record 2 of 2
   at 0x482BE68: malloc (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
   by 0x490EA50: strdup (strdup.c:43)
   by 0x10CD69: incoming_spa (incoming_spa.c:162)
   by 0x10E000: process_packet (process_packet.c:200)
   by 0x4862E63: ??? (in /usr/lib/i386-linux-gnu/libpcap.so.1.1.1)
   by 0x4865667: pcap_dispatch (in /usr/lib/i386-linux-gnu/libpcap.so.1.1.1)
   by 0x10DABF: pcap_capture (pcap_capture.c:226)
   by 0x10A798: main (fwknopd.c:299)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1343448510,1343448510,b760f4aad3faaa713ca8097414752ba2ad854326
b760f4aad3faaa713ca8097414752ba2ad854326,b760f4aa,[test suite] exempted valgrind collection test from --test-limit,"[test suite] exempted valgrind collection test from --test-limit
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1343447943,1343447943,c6cef8982a854f4671173964fe18cc82dc38594f
c6cef8982a854f4671173964fe18cc82dc38594f,c6cef898,[libfko] validate incoming plaintext lengths,"[libfko] validate incoming plaintext lengths
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1343445932,1343445932,482e6f974c4022b15909f648af94f013adcd4580
482e6f974c4022b15909f648af94f013adcd4580,482e6f97,added msg_hmac_len and removed additional strlen() calls,"added msg_hmac_len and removed additional strlen() calls
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1343438966,1343438966,10195cf29a41dc64e3cbfc429656618dca55d973
10195cf29a41dc64e3cbfc429656618dca55d973,10195cf2,[libfko] added encrypted_msg_len and replaced additional strlen() calls,"[libfko] added encrypted_msg_len and replaced additional strlen() calls
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1343427397,1343427397,a6ea3f6935b84c17fd4dc3db1ec73c57038f8a11
a6ea3f6935b84c17fd4dc3db1ec73c57038f8a11,a6ea3f69,[test suite] minor bug fix for file existence check,"[test suite] minor bug fix for file existence check
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1343426903,1343426903,d0cb2c6ad5cd464303faceb9a5aec5ee0d8da810
d0cb2c6ad5cd464303faceb9a5aec5ee0d8da810,d0cb2c6a,[test suite] added 100 key uniqueness test for --key-gen mode,"[test suite] added 100 key uniqueness test for --key-gen mode
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1343410229,1343410229,ab52476bfc8d3843a54493ea1bb46fc6009df157
ab52476bfc8d3843a54493ea1bb46fc6009df157,ab52476b,[test suite] [client] added --key-gen and --key-gen-file tests,"[test suite] [client] added --key-gen and --key-gen-file tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1343408729,1343408729,16348aaccd74281f38a74b40a456984ca002e5cb
16348aaccd74281f38a74b40a456984ca002e5cb,16348aac,replace strlen() call with strnlen() and MAX_SPA_ENCODED_MSG_SIZE bound,"replace strlen() call with strnlen() and MAX_SPA_ENCODED_MSG_SIZE bound
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1343369218,1343369218,8471d8aae6f835ad91f2cd2ade5e28646c70f59f
8471d8aae6f835ad91f2cd2ade5e28646c70f59f,8471d8aa,semicolon syntax buf fix,"semicolon syntax buf fix
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1343368903,1343368903,d561fdd4d7f7847b5ca85f362039b925ca440ed0
d561fdd4d7f7847b5ca85f362039b925ca440ed0,d561fdd4,added lib/fko_util.c with basic length checking functions,"added lib/fko_util.c with basic length checking functions
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1343340096,1343340096,bdb6cc0eb12be6744081902a7ddd62da338de6ac
bdb6cc0eb12be6744081902a7ddd62da338de6ac,bdb6cc0e,Added digest_len and raw_digest_len fields and replaced strlen() calls,"Added digest_len and raw_digest_len fields and replaced strlen() calls
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1343329232,1343329232,3f05a6d25a74a1ced03574bdf457b84eceb5b546
3f05a6d25a74a1ced03574bdf457b84eceb5b546,3f05a6d2,[test suite] added sha384 and digest type arg tests,"[test suite] added sha384 and digest type arg tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1343328825,1343328825,4f1c5b55a4d9f1ab7c7072b674ebdf7dba4eabc2
4f1c5b55a4d9f1ab7c7072b674ebdf7dba4eabc2,4f1c5b55,[test suite] added --test-limit argument,"[test suite] added --test-limit argument
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1343321545,1343321545,e733f4aa4fa1d4431175f4600a4755ce179bcf72
e733f4aa4fa1d4431175f4600a4755ce179bcf72,e733f4aa,have encryption calls use encoded_msg_len,"have encryption calls use encoded_msg_len
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1343319684,1343319684,661991b74787711ec49676828427fd305c6bf8bb
661991b74787711ec49676828427fd305c6bf8bb,661991b7,complete cycle tests for client-set digest types,"complete cycle tests for client-set digest types
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1343290146,1343290146,838829f2bb91758d87137d4344aa7a1ad25bc0d3
838829f2bb91758d87137d4344aa7a1ad25bc0d3,838829f2,added a new encoded_msg_len to cut down on strlen() calls within libfko,"added a new encoded_msg_len to cut down on strlen() calls within libfko
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1343275828,1343275828,c51a85523f4153cbade24da7f7d6475a23f83723
c51a85523f4153cbade24da7f7d6475a23f83723,c51a8552,Added valgrind individual test diff results.,"Added valgrind individual test diff results.

A new output/valgrind-coverage directory was added to test suite results, and valgrind
output is compared in --diff mode using data in this directory.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1343273921,1343273921,50436837393efe90e7e627d16c1b7edb88ecfbe0
50436837393efe90e7e627d16c1b7edb88ecfbe0,50436837,[test suite] bug fix after merge to account for new file_find_regex() API,"[test suite] bug fix after merge to account for new file_find_regex() API
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1343166617,1343166617,175374337d12b1935ca8c02e585fa54121cebfc0
175374337d12b1935ca8c02e585fa54121cebfc0,17537433,merged crypto_update after fwknop-2.0.1 merge to crypto_update from master,"merged crypto_update after fwknop-2.0.1 merge to crypto_update from master
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1343164200,1343164200,"29fe16d29ff23649a8acd360334c6b5ac83392aa,c6b674617c096ad7f4180ef8d0b5ad107962040e"
c6b674617c096ad7f4180ef8d0b5ad107962040e,c6b67461,completed merge from master after fwknop-2.0.1 release,"completed merge from master after fwknop-2.0.1 release
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1343161188,1343161188,"7145cdd8a154d086ec3879edfe2d2fcf3cbae64e,8e26cca9f3c9edf6bc47101e88eff34f8d460f7d"
8e26cca9f3c9edf6bc47101e88eff34f8d460f7d,8e26cca9,removed diffstat and ShortLog from 'make dist' target,"removed diffstat and ShortLog from 'make dist' target
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1343098418,1343098418,cab2ea9083b0124e4dba73b9b3eea267a757a2c0
cab2ea9083b0124e4dba73b9b3eea267a757a2c0,cab2ea90,bumped version to 2.0.1,"bumped version to 2.0.1
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1343097647,1343097647,9fe6dc7d6f427dd36251132e95c6e9572b4a1984
9fe6dc7d6f427dd36251132e95c6e9572b4a1984,9fe6dc7d,bumped version to fwknop-2.0.1,"bumped version to fwknop-2.0.1
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1343095094,1343095094,a980a029a7cdeab5ae5fa6d37ceee5336435e3fc
a980a029a7cdeab5ae5fa6d37ceee5336435e3fc,a980a029,removed diffstat and ShortLog files in favor of ChangeLog.git for each release,"removed diffstat and ShortLog files in favor of ChangeLog.git for each release
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1343094889,1343094889,3c533de7e475bec57e00d5bc12de9ad27e6b52a9
3c533de7e475bec57e00d5bc12de9ad27e6b52a9,3c533de7,updated Debian init script (contributed by Franck Joncourt),"updated Debian init script (contributed by Franck Joncourt)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1343094565,1343094565,62445d0d03eb1c08ce296c72e53686b5500f3bdb
62445d0d03eb1c08ce296c72e53686b5500f3bdb,62445d0d,add test/conf/local_nat_fwknopd.conf for 'make dist',"add test/conf/local_nat_fwknopd.conf for 'make dist'
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1343093544,1343093544,e68c561c404cddbcb33549958f45f79f457d329a
e68c561c404cddbcb33549958f45f79f457d329a,e68c561c,bumped version to fwknop-2.0.1-pre5,"bumped version to fwknop-2.0.1-pre5
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1343093069,1343093069,24dccb34ecf4c70416e49a0cb1816e798e46528d
24dccb34ecf4c70416e49a0cb1816e798e46528d,24dccb34,[client] fix memory leak when unable to open --get-key file,"[client] fix memory leak when unable to open --get-key file
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1343093003,1343093003,5387242ce99bf705d1f30d63a1b5b7cdfdcf517a
5387242ce99bf705d1f30d63a1b5b7cdfdcf517a,5387242c,PCAP_LOOP_SLEEP bug fix to 1/10th of a second,"PCAP_LOOP_SLEEP bug fix to 1/10th of a second

[server] Updated PCAP_LOOP_SLEEP default to 1/10th of a second (in
microseconds).  This was supposed to be the default anyway, but C
Anthony Risinger reported a bug where fwknopd was consuming more
resources than necessary, and the cause was PCAP_LOOP_SLEEP set by
default to 1/100th of a second - this has been fixed.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1343092410,1343092410,6255bff95f5f5d72a2582dcb9bc4e27fc5620db4
6255bff95f5f5d72a2582dcb9bc4e27fc5620db4,6255bff9,replace strlen() calls with strnlen() and appropriate maximums,"replace strlen() calls with strnlen() and appropriate maximums
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1343013219,1343013219,335abdd545cc9bfd76b17fa5fde84d1d14419452
335abdd545cc9bfd76b17fa5fde84d1d14419452,335abdd5,use LOGNAME env var before cuserid() since we're already looking for SPOOF_USER,"use LOGNAME env var before cuserid() since we're already looking for SPOOF_USER
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1343013181,1343013181,049545b459ea856ec775a2640354d486029fd698
049545b459ea856ec775a2640354d486029fd698,049545b4,[client] Fixed several minor memory leaks caught by valgrind,"[client] Fixed several minor memory leaks caught by valgrind

This commit fixes memory leaks like the following in the fwknop client:

HEAP SUMMARY:
    in use at exit: 300 bytes in 11 blocks
  total heap usage: 100 allocs, 89 frees, 16,583 bytes allocated

16 bytes in 1 blocks are indirectly lost in loss record 1 of 11
   at 0x4C2B6CD: malloc (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
   by 0x5146C59: __nss_lookup_function (nsswitch.c:456)
   by 0x5C3D63E: ???
   by 0x50FF3FC: getpwuid_r@@GLIBC_2.2.5 (getXXbyYY_r.c:256)
   by 0x508938E: cuserid (cuserid.c:37)
   by 0x4E3983A: fko_set_username (fko_user.c:65)
   by 0x4E38D5C: fko_new (fko_funcs.c:84)
   by 0x10A824: main (fwknop.c:75)

16 bytes in 1 blocks are indirectly lost in loss record 2 of 11
   at 0x4C2B6CD: malloc (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
   by 0x5146C59: __nss_lookup_function (nsswitch.c:456)
   by 0x5C3D658: ???
   by 0x50FF3FC: getpwuid_r@@GLIBC_2.2.5 (getXXbyYY_r.c:256)
   by 0x508938E: cuserid (cuserid.c:37)
   by 0x4E3983A: fko_set_username (fko_user.c:65)
   by 0x4E38D5C: fko_new (fko_funcs.c:84)
   by 0x10A824: main (fwknop.c:75)

16 bytes in 1 blocks are indirectly lost in loss record 3 of 11
   at 0x4C2B6CD: malloc (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
   by 0x5146C59: __nss_lookup_function (nsswitch.c:456)
   by 0x5C3D672: ???
   by 0x50FF3FC: getpwuid_r@@GLIBC_2.2.5 (getXXbyYY_r.c:256)
   by 0x508938E: cuserid (cuserid.c:37)
   by 0x4E3983A: fko_set_username (fko_user.c:65)
   by 0x4E38D5C: fko_new (fko_funcs.c:84)
   by 0x10A824: main (fwknop.c:75)

16 bytes in 1 blocks are indirectly lost in loss record 4 of 11
   at 0x4C2B6CD: malloc (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
   by 0x5146C59: __nss_lookup_function (nsswitch.c:456)
   by 0x5C3D68C: ???
   by 0x50FF3FC: getpwuid_r@@GLIBC_2.2.5 (getXXbyYY_r.c:256)
   by 0x508938E: cuserid (cuserid.c:37)
   by 0x4E3983A: fko_set_username (fko_user.c:65)
   by 0x4E38D5C: fko_new (fko_funcs.c:84)
   by 0x10A824: main (fwknop.c:75)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1343012972,1343012972,5ef07c73e2a6bcecbc3c9914340cc63c266f816b
5ef07c73e2a6bcecbc3c9914340cc63c266f816b,5ef07c73,Better SPA message validation upon SPA decrypt/decode.,"Better SPA message validation upon SPA decrypt/decode.

Added SPA message validation calls to fko decoding routines to help
ensure that SPA messages conform to expected values.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1342899135,1342899135,4c25aa17f355acfa835ae7f57d66b7cbda1326cf
4c25aa17f355acfa835ae7f57d66b7cbda1326cf,4c25aa17,[test suite] minor filename update -> use config files for fwknopd in a hash,"[test suite] minor filename update -> use config files for fwknopd in a hash
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1342833373,1342833373,4c7923413ed2f327ebc4875dcde98a04865e80d9
4c7923413ed2f327ebc4875dcde98a04865e80d9,4c792341,Implemented server-side bounds checking on inccoming SPA data.,"Implemented server-side bounds checking on inccoming SPA data.

Enhanced the libfko decoding routine to include bounds checking on decrypted
SPA data.  This includes verifying the number of fields within incoming SPA
data (colon separated) along with verifying string lengths of each field.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1342751685,1342751685,8f500fd67f3600539e438527f6dac920bdf25765
8f500fd67f3600539e438527f6dac920bdf25765,8f500fd6,added some integer bounds checking for fwknopd.conf variables,"added some integer bounds checking for fwknopd.conf variables
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1342668009,1342668009,65b2acd8f5f1a20665ce324acb39a0061f07682f
65b2acd8f5f1a20665ce324acb39a0061f07682f,65b2acd8,minor update to print FORCE_NAT settings when access stanzas are printed,"minor update to print FORCE_NAT settings when access stanzas are printed
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1342667847,1342667847,15c76b25cd2191468c78fcb0f7555c3a6e4b6238
15c76b25cd2191468c78fcb0f7555c3a6e4b6238,15c76b25,minor pcap_capture update to not call atoi() against PCAP_LOOP_SLEEP for every sleep interval,"minor pcap_capture update to not call atoi() against PCAP_LOOP_SLEEP for every sleep interval
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1342666858,1342666858,c0aa346890e86ef3ddc4464280daa466bede8018
c0aa346890e86ef3ddc4464280daa466bede8018,c0aa3468,[test suite] minor hostname bugfix to get 'local NAT' test to work,"[test suite] minor hostname bugfix to get 'local NAT' test to work
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1342666556,1342666556,72aaeb893e46b4425b44a848b500732ca061a93a
72aaeb893e46b4425b44a848b500732ca061a93a,72aaeb89,[test suite] better fwknopd is running check,"[test suite] better fwknopd is running check
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1342665136,1342665136,8ed741dd48ea1fbb462dd7849c3944570e46a309
8ed741dd48ea1fbb462dd7849c3944570e46a309,8ed741dd,Merge branch 'master' of github.com:mrash/fwknop,"Merge branch 'master' of github.com:mrash/fwknop
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1342578036,1342578036,"71fc4fe7fe9ec735e926e12ebd91b9475e7d8a74,d49e44dad02ba275688d06eab58cc3ec4b77a8f8"
71fc4fe7fe9ec735e926e12ebd91b9475e7d8a74,71fc4fe7,[test suite] file_find_regex() postive vs. negative match styles,"[test suite] file_find_regex() postive vs. negative match styles

Positive match style requires all regex's to be found, whereas negative match
style only requires seeing one regex.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1342576513,1342576513,6c73e160d9cd4bbee314b38c0edc48691b7ccf01
6c73e160d9cd4bbee314b38c0edc48691b7ccf01,6c73e160,Ensure that INPUT rules are added in --nat-local mode,"Ensure that INPUT rules are added in --nat-local mode

This change ensures that INPUT rules are added when the fwknop client is used to
request access to a local service with --nat-local mode.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1342576229,1342576229,981059452b472bb0cd3a6a9254e3cfb396668e4c
981059452b472bb0cd3a6a9254e3cfb396668e4c,98105945,minor file_find_regex() logging prefix update,"minor file_find_regex() logging prefix update
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1342490715,1342490715,1b9f8475218d981b5958eb74b75db4dbd31d3611
1b9f8475218d981b5958eb74b75db4dbd31d3611,1b9f8475,[test suite] added local_nat_fwknopd.conf file for local NAT tests,"[test suite] added local_nat_fwknopd.conf file for local NAT tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1342489408,1342489408,de7aa3b619f05f9c7df7e943d899e973fa8ac904
de7aa3b619f05f9c7df7e943d899e973fa8ac904,de7aa3b6,Add INPUT ACCEPT rule for --nat-local connections,"Add INPUT ACCEPT rule for --nat-local connections

When using the --nat-local argument on the fwknop client command line, the
fwknopd server needs to add an INPUT ACCEPT rule for the requested access
since the incoming connection is destined for a local socket.  Added test
suite support to test --nat-local access.

[test suite] Minor bug fix to ensure that all file_find_regex() calls return
true if all regex's are matched and false if any regex does not match data in
the specified file.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1342402334,1342402334,2a5bc7ed1456e0c63a87e89c8837be555c33211d
d49e44dad02ba275688d06eab58cc3ec4b77a8f8,d49e44da,Forgot to update the VERSION file.,"Forgot to update the VERSION file.
",,,,Damien Stuart,dstuart@dstuart.org,Damien Stuart,dstuart@dstuart.org,1342318237,1342318237,d5568cb1a168f625a2839bc181daed9fd8b6685d
d5568cb1a168f625a2839bc181daed9fd8b6685d,d5568cb1,Bumped version to 2.0.1-pre4,"Bumped version to 2.0.1-pre4
",,,,Damien Stuart,dstuart@dstuart.org,Damien Stuart,dstuart@dstuart.org,1342313645,1342313645,2a5bc7ed1456e0c63a87e89c8837be555c33211d
2a5bc7ed1456e0c63a87e89c8837be555c33211d,2a5bc7ed,Added tweaks to ipfw command for Mac OS X,"Added tweaks to ipfw command for Mac OS X
",,,,Damien Stuart,dstuart@dstuart.org,Damien Stuart,dstuart@dstuart.org,1342304562,1342304562,f06c775654fb2cbb11ef56c881e24b013d5c5527
f06c775654fb2cbb11ef56c881e24b013d5c5527,f06c7756,Merge branch 'master' of ssh://github.com/mrash/fwknop,"Merge branch 'master' of ssh://github.com/mrash/fwknop
",,,,Damien Stuart,dstuart@dstuart.org,Damien Stuart,dstuart@dstuart.org,1342275245,1342275245,"283e213a610106c26cdace82b22eb93f2aa2db72,c57f4a82b7cb6cf638dcb7caa764894e7b359a97"
283e213a610106c26cdace82b22eb93f2aa2db72,283e213a,Added gpg validity check. Tweak to rpm spec file.,"Added gpg validity check. Tweak to rpm spec file.
",,,,Damien Stuart,dstuart@dstuart.org,Damien Stuart,dstuart@dstuart.org,1342275206,1342275206,7e8e48412ff985461095a09874059e955145d513
c57f4a82b7cb6cf638dcb7caa764894e7b359a97,c57f4a82,bumped version to fwknop-2.0.1-pre3,"bumped version to fwknop-2.0.1-pre3
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1342145981,1342145981,3b26157a40359227ac7f7a35878e5e3b9b140693
3b26157a40359227ac7f7a35878e5e3b9b140693,3b26157a,added libfko.dylib test suite fix note to the ChangeLog,"added libfko.dylib test suite fix note to the ChangeLog
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1342145919,1342145919,e250776107d09352765b04cc74113c0bfe3a17de
e250776107d09352765b04cc74113c0bfe3a17de,e2507761,[test suite] Bug fix to account for libfko.dylib extension,"[test suite] Bug fix to account for libfko.dylib extension

Richard Haas reported the test suite failing on Mac OS X systems with the
existence check for the libfko library.  Damien Stuart advised that the library
has a different extention '.dylib' on Mac OS X, so this change accounts for the
difference.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1342145495,1342145495,86fde0d60378c1b4d9ef1aa5895b98ba769ccfc7
29fe16d29ff23649a8acd360334c6b5ac83392aa,29fe16d2,post-merge fix after merged crypto_update branch changes,"post-merge fix after merged crypto_update branch changes
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1341973014,1341973014,d7c4572521bf0d8b1f822f1c639092dc7bdaf690
d7c4572521bf0d8b1f822f1c639092dc7bdaf690,d7c45725,merged test suite changes from the crypto_update branch,"merged test suite changes from the crypto_update branch
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1341972236,1341972236,"47e39272edcdd20b226c77c45704041be25a38ad,7145cdd8a154d086ec3879edfe2d2fcf3cbae64e"
47e39272edcdd20b226c77c45704041be25a38ad,47e39272,Make encrypt/decrypt code accept integer key lengths instead of using strlen(),"Make encrypt/decrypt code accept integer key lengths instead of using strlen()

Now that encryptions keys and hmac keys may be acquired from /dev/random with
--key-gen (and base64 encoded), they may contain NULL bytes.  This emphasizes
the need to not leverage code that assumes C-style strings when making use of
key information.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1341971046,1341971046,92e403a242d8d2bf63dc2427caa91085f80d9cba
7145cdd8a154d086ec3879edfe2d2fcf3cbae64e,7145cdd8,Merge from master minor bug fix to include default encryption mode,"Merge from master minor bug fix to include default encryption mode

When getting raw digest for replay attack detection specify the default
encryption mode (which doesn't actually get used when passing a NULL key).
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1341923411,1341923411,e5004dc829f64d15cd5652d49437c3a6ae17d700
e5004dc829f64d15cd5652d49437c3a6ae17d700,e5004dc8,Merge branch 'master' into crypto_update,"Merge branch 'master' into crypto_update
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1341922996,1341922996,"dc8a034a4d3a953482bc84a85fe0fe99d8e284e6,86fde0d60378c1b4d9ef1aa5895b98ba769ccfc7"
86fde0d60378c1b4d9ef1aa5895b98ba769ccfc7,86fde0d6,bumped version to 2.0.1-pre2,"bumped version to 2.0.1-pre2
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1341889115,1341889115,2f9368b4d9ca9513aa1280a47f7ac9f872b2b9ac
2f9368b4d9ca9513aa1280a47f7ac9f872b2b9ac,2f9368b4,added valgrind parsing note,"added valgrind parsing note
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1341887953,1341887953,4d3914014817bce7684d41220de41294ceb6bf94
4d3914014817bce7684d41220de41294ceb6bf94,4d391401,[test suite] minor directory path bug fix for --diff mode,"[test suite] minor directory path bug fix for --diff mode
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1341885957,1341885957,e2c34d46fec799c3bdbf08f286ddb5f9e2f90e9c
e2c34d46fec799c3bdbf08f286ddb5f9e2f90e9c,e2c34d46,switched back to older ChangeLog format which is more readable,"switched back to older ChangeLog format which is more readable
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1341883789,1341883789,06d8f118aa6cce3a528ecca6df5037d9dfbb154c
06d8f118aa6cce3a528ecca6df5037d9dfbb154c,06d8f118,bumped version to 2.0.1-pre1,"bumped version to 2.0.1-pre1
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1341865930,1341865930,b5c6b48cff0bccf320254c08d6aa93564c954f8d
b5c6b48cff0bccf320254c08d6aa93564c954f8d,b5c6b48c,added dual_key_usage_access.conf to Makefile.am for 'make dist' target,"added dual_key_usage_access.conf to Makefile.am for 'make dist' target
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1341865826,1341865826,bc2e41fd472b7709897b89264853e2941de74652
dc8a034a4d3a953482bc84a85fe0fe99d8e284e6,dc8a034a,merged usage() information from master,"merged usage() information from master
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1341799213,1341799213,"adbc6a8f39e43bed7adc29949ed3c56d06cbefb0,bc2e41fd472b7709897b89264853e2941de74652"
bc2e41fd472b7709897b89264853e2941de74652,bc2e41fd,added unique function names to --enable-valgrind suspect functions test,"added unique function names to --enable-valgrind suspect functions test
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1341796896,1341796896,9497044f24831cb39f61768d9eb900eeeb6976dd
9497044f24831cb39f61768d9eb900eeeb6976dd,9497044f,added new test in --enable-valgrind mode to collect suspect functions,"added new test in --enable-valgrind mode to collect suspect functions
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1341775835,1341775835,be4193d734850fe60f14a26b547525ea0b9ce1e9
be4193d734850fe60f14a26b547525ea0b9ce1e9,be4193d7,Only cache replay digests for SPA packets that decrypt,"Only cache replay digests for SPA packets that decrypt

This change ensures that we only cache replay digests for those SPA packets
that actually decrypt.  Not doing this would have allowed an attacker to
potentially fill up digest cache space with digests for garbage packets.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1341750990,1341750990,6b3e5ef3c235e4c4721ca0d6b5f9861489cc3e5c
6b3e5ef3c235e4c4721ca0d6b5f9861489cc3e5c,6b3e5ef3,Added a test for a dual-usage key in access.conf,"Added a test for a dual-usage key in access.conf
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1341750950,1341750950,ba3b7d1d11d681549f1bb27e0af1307499fad0d5
ba3b7d1d11d681549f1bb27e0af1307499fad0d5,ba3b7d1d,Bug fix for multi-stanza key use and replay attack detection,"Bug fix for multi-stanza key use and replay attack detection

This commit fixes a bug where the same encryption key used for two stanzas in
the access.conf file would result in access requests that matched the second
stanza to always be treated as a replay attack.  This has been fixed for
the fwknop-2.0.1 release, and was reported by Andy Rowland.  Now the fwknopd
server computes the SHA256 digest of raw incoming payload data before
decryption, and compares this against all previous hashes.  Previous to this
commit, fwknopd would add a new hash to the replay digest list right after
the first access.conf stanza match, so when SPA packet data matched the
second access.conf stanza a matching replay digest would already be there.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1341711090,1341711090,fcf40b5e6d18edf6f8d6e3cd7b526be1947c4a76
92e403a242d8d2bf63dc2427caa91085f80d9cba,92e403a2,added initial HMAC-SHA256 support for the client side,"added initial HMAC-SHA256 support for the client side
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1341287445,1341287445,3095f0ee436540776f185ce7b6a3b7f6e059af45
3095f0ee436540776f185ce7b6a3b7f6e059af45,3095f0ee,Added key generation support with --key-gen,"Added key generation support with --key-gen

Added --key-gen to allow KEY_BASE64 and HMAC_KEY_BASE64 keys to be created from
reading random data from /dev/random.  These keys can be placed within server
access.conf files and corresponding client .fwknoprc files for SPA
communications.  The HMAC key is not used yet with this commit, but that is
coming.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1340852777,1340852777,20e3e3b6e54688858144e000513b1ae5f3504ed7
20e3e3b6e54688858144e000513b1ae5f3504ed7,20e3e3b6,added test for client --show-last functionality,"added test for client --show-last functionality
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1340480518,1340480518,adbc6a8f39e43bed7adc29949ed3c56d06cbefb0
adbc6a8f39e43bed7adc29949ed3c56d06cbefb0,adbc6a8f,Bug fix to not force asymmetric gpg decryption,"Bug fix to not force asymmetric gpg decryption

fwknopd access stanzas can have both Rijndael and GnuPG keys, so this
commit fixes a bug where any gpg info would force only gpg decryption
attempts even if a Rijndael key is provided in the stanza.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1340478783,1340478783,c6a2680be2b4a61266506847de69ba44c6ad32e1
c6a2680be2b4a61266506847de69ba44c6ad32e1,c6a2680b,added test for invalid SOURCE access lines,"added test for invalid SOURCE access lines
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1339955826,1339955826,5f8e3f4a7d145670594a98802a776a26be66d577
5f8e3f4a7d145670594a98802a776a26be66d577,5f8e3f4a,Bug fix to throw out invalid access.conf SOURCE entries,"Bug fix to throw out invalid access.conf SOURCE entries

This commit causes fwknopd to exit whenever an invalid SOURCE entry is seen
such as "":ANY"".  Previous to this commit, valgrind threw the following errors
with "":ANY"" as an access.conf SOURCE entry:

Invalid read of size 8
   at 0x117695: free_acc_source_list (access.c:512)
   by 0x1177E3: free_acc_stanza_data (access.c:564)
   by 0x117C67: free_acc_stanzas (access.c:654)
   by 0x10E32E: free_configs (config_init.c:106)
   by 0x10D085: main (fwknopd.c:376)
 Address 0x5a80658 is 8 bytes inside a block of size 16 free'd
   at 0x4C2A82E: free (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
   by 0x116AE0: add_source_mask (access.c:255)
   by 0x116D57: expand_acc_source (access.c:303)
   by 0x117A82: expand_acc_ent_lists (access.c:620)
   by 0x119570: parse_access_file (access.c:1043)
   by 0x10C77E: main (fwknopd.c:193)

Invalid free() / delete / delete[] / realloc()
   at 0x4C2A82E: free (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
   by 0x1176A8: free_acc_source_list (access.c:514)
   by 0x1177E3: free_acc_stanza_data (access.c:564)
   by 0x117C67: free_acc_stanzas (access.c:654)
   by 0x10E32E: free_configs (config_init.c:106)
   by 0x10D085: main (fwknopd.c:376)
 Address 0x5a80650 is 0 bytes inside a block of size 16 free'd
   at 0x4C2A82E: free (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
   by 0x116AE0: add_source_mask (access.c:255)
   by 0x116D57: expand_acc_source (access.c:303)
   by 0x117A82: expand_acc_ent_lists (access.c:620)
   by 0x119570: parse_access_file (access.c:1043)
   by 0x10C77E: main (fwknopd.c:193)

HEAP SUMMARY:
    in use at exit: 8 bytes in 1 blocks
  total heap usage: 1,659 allocs, 1,659 frees, 238,310 bytes allocated
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1339954943,1339954943,10d380d1933d9060d8b1a5b3db4f31cea7390396
10d380d1933d9060d8b1a5b3db4f31cea7390396,10d380d1,Test suite support for function coverage testing via gcov,"Test suite support for function coverage testing via gcov

Added --enable-profile-coverage to the configure script to have the fwknop
binaries compiled with gcc profiling support in order to see which functions
get executed by the test suite via gcov.  The last test executed by the test
suite under --enable-profile-coverage contains all fwknop functions that
were not executed under the test run (function execution totals are
cumlative).
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1339721037,1339721037,e3761b8bff47600374803443a97493488bc8b4da
e3761b8bff47600374803443a97493488bc8b4da,e3761b8b,merged minor updates from master,"merged minor updates from master
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1338229442,1338229442,"71690a1de45b273789af4e26a01594e9d5150eff,fcf40b5e6d18edf6f8d6e3cd7b526be1947c4a76"
fcf40b5e6d18edf6f8d6e3cd7b526be1947c4a76,fcf40b5e,gcc warning fix fox: fko_decode.c:43:17: warning: variable ‘edata_size’ set but…,"gcc warning fix fox: fko_decode.c:43:17: warning: variable ‘edata_size’ set but not used [-Wunused-but-set-variable]
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1338229353,1338229353,8a73e6dee88f9d416fc028fe2e26bfa37b984cb5
8a73e6dee88f9d416fc028fe2e26bfa37b984cb5,8a73e6de,updated PF anchor check to not rely on listing the PF policy,"updated PF anchor check to not rely on listing the PF policy
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1338229192,1338229192,5c26c0abaabc582b466076dd1a0ec928274b88a5
5c26c0abaabc582b466076dd1a0ec928274b88a5,5c26c0ab,added Ted Wynnychenko for OpenBSD PF testing,"added Ted Wynnychenko for OpenBSD PF testing
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1338229114,1338229114,7e8e48412ff985461095a09874059e955145d513
71690a1de45b273789af4e26a01594e9d5150eff,71690a1d,bug fix to ensure to pick up proper entropy min/max values,"bug fix to ensure to pick up proper entropy min/max values
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1329159384,1329159384,65cd9b0038c6e92ff4a36aea652b0d65afda897a
65cd9b0038c6e92ff4a36aea652b0d65afda897a,65cd9b00,updated to local_spa.key from the test suite directory,"updated to local_spa.key from the test suite directory
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1329155338,1329155338,0c9946160ce241e9a2c3226e7d0dab64b6bb7910
0c9946160ce241e9a2c3226e7d0dab64b6bb7910,0c994616,ensure CBC is the default symmetric encryption mode,"ensure CBC is the default symmetric encryption mode
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1329097937,1329097937,8fd83f5a3f8b1c745b2e932bcaff7f8d850a8b9d
8fd83f5a3f8b1c745b2e932bcaff7f8d850a8b9d,8fd83f5a,updated docs to reference the default AES encryption mode of CBC,"updated docs to reference the default AES encryption mode of CBC
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1328907566,1328907566,de41b0a1ec93fd0e2a913e0c57b495fb2cbbefd1
de41b0a1ec93fd0e2a913e0c57b495fb2cbbefd1,de41b0a1,bugfix to ensure that incoming SPA data in AES mode is a multiple of the Rjindael blocksize (16),"bugfix to ensure that incoming SPA data in AES mode is a multiple of the Rjindael blocksize (16)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1328904619,1328904619,6dbe523052161d8553b09a9dad0890d1e7ec0995
6dbe523052161d8553b09a9dad0890d1e7ec0995,6dbe5230,"added test suite support for AES CTR, OFB, CFB, and ECB encryption modes","added test suite support for AES CTR, OFB, CFB, and ECB encryption modes
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1328904567,1328904567,6130099b75bee3984757787269bb1e6d24fd1b1b
6130099b75bee3984757787269bb1e6d24fd1b1b,6130099b,minor header addition for spa-entropy.pl,"minor header addition for spa-entropy.pl
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1328899110,1328899110,79a5265be0404b487cd448a6b6f490bfd7459b2c
79a5265be0404b487cd448a6b6f490bfd7459b2c,79a5265b,updated to not base64 decode encrypted packet data by default (can override with --base64-decode),"updated to not base64 decode encrypted packet data by default (can override with --base64-decode)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1328818987,1328818987,aeb96c502ef5ae8420689cb583142d342d2f5d49
aeb96c502ef5ae8420689cb583142d342d2f5d49,aeb96c50,"added --gpg entropy measurement, added sensible gnuplot yrange calculations","added --gpg entropy measurement, added sensible gnuplot yrange calculations
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1328817378,1328817378,280b8c56f0d73488aab23c0396e63b1a7dbbf072
280b8c56f0d73488aab23c0396e63b1a7dbbf072,280b8c56,switched CBC mode test (which is the default Rjindael encryption mode) to ECB mode,"switched CBC mode test (which is the default Rjindael encryption mode) to ECB mode
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1328729373,1328729373,bcb0fcfc1adc78cc39ebf9d5b89965bda4522016
bcb0fcfc1adc78cc39ebf9d5b89965bda4522016,bcb0fcfc,Re-worked encryption/decryption handling,"Re-worked encryption/decryption handling

For SPA packets encrypted with Rjindael, fwknop has always used CBC mode
even though ECB mode is mentioned in a couple of places.  This change makes
more transparent use of block_encrypt() and block_decrypt() to ensure that
the appropriate mode is used.  The default is CBC mode, but others can be
selected as well (-M <mode> for the fwknop client, and ENCRYPTION_MODE in
access.conf for the fwknopd server).
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1328728602,1328728602,efcefdfb811859b2d957d5e48cdaf5a43f7b34d3
efcefdfb811859b2d957d5e48cdaf5a43f7b34d3,efcefdfb,update display_ctx() to show the entire plaintext data on one line,"update display_ctx() to show the entire plaintext data on one line
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1328728536,1328728536,193e1799e608cb33bb1c4145c1d4812feaaccdd8
193e1799e608cb33bb1c4145c1d4812feaaccdd8,193e1799,made default openssl encryption mode 'aes-256-ecb',"made default openssl encryption mode 'aes-256-ecb'
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1328559543,1328559543,c68358eabd7b2d1d21d82f35200dcc24f920edc5
c68358eabd7b2d1d21d82f35200dcc24f920edc5,c68358ea,added the ability to encrypt fwknop client plaintext data with openssl,"added the ability to encrypt fwknop client plaintext data with openssl
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1328559151,1328559151,a7cb3bf62b54294a9fa5856c9a90b2c5c9fdcc53
a7cb3bf62b54294a9fa5856c9a90b2c5c9fdcc53,a7cb3bf6,added spa-entropy/ directory for measuring entropy across SPA packets,"added spa-entropy/ directory for measuring entropy across SPA packets
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1327892826,1327892826,53a6d72cd2cea4a14bfb3f1b65f5dd50116f6795
53a6d72cd2cea4a14bfb3f1b65f5dd50116f6795,53a6d72c,added test suite support for CBC mode Rijndael tcp/22 test,"added test suite support for CBC mode Rijndael tcp/22 test
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1327876272,1327876272,4c3d2188a1b94c5d33ac34d348e8d48eac858f00
4c3d2188a1b94c5d33ac34d348e8d48eac858f00,4c3d2188,Update to make AES encryption modes selectable,"Update to make AES encryption modes selectable

This is a significant update to allow AES encryption modes to be selected on a
per-key basis.  For now, only ECB and CBC (recommended) modes are supported.
The default is ECB modes in order to maintain backwards compatibility with the
older perl version of fwknop and the Crypt::CBC CPAN module.  This will likely
be changed to use CBC mode by default because of its better security
properties.

In the access.conf file on the server side, there is a new configuration
variable ""ENCRYPTION_MODE"" that controls the mode for the corresponding AES
key.  On the client side, a new command line argument ""--encryption-mode""
controls how the client encrypts SPA packets.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1327454781,1327454781,7e8e48412ff985461095a09874059e955145d513
7e8e48412ff985461095a09874059e955145d513,7e8e4841,convert Rijndael blocksize values '16' to use RIJNDAEL_BLOCKSIZE macro,"convert Rijndael blocksize values '16' to use RIJNDAEL_BLOCKSIZE macro
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1326661065,1326661065,dd188dc39234a0fbcb5a4c14ddce3f3b61cb2ca3
dd188dc39234a0fbcb5a4c14ddce3f3b61cb2ca3,dd188dc3,added --stat output to ChangeLog,"added --stat output to ChangeLog
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1325547341,1325547341,a36082b543178695cd97508b920b682be0fa983e
a36082b543178695cd97508b920b682be0fa983e,a36082b5,moved ChangeLog-v2.0 to ChangeLog,"moved ChangeLog-v2.0 to ChangeLog
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1325547222,1325547222,36f21f95ceda35eefd5a6a8224308f38c2a6d6cd
36f21f95ceda35eefd5a6a8224308f38c2a6d6cd,36f21f95,removed old ChangeLog files,"removed old ChangeLog files
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1325547155,1325547155,305708aa27587793a76b478bf9e7a4fafe957666
305708aa27587793a76b478bf9e7a4fafe957666,305708aa,"Added ChangeLog, ShortLog, and diffstat files for the 2.0 release.","Added ChangeLog, ShortLog, and diffstat files for the 2.0 release.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1325546765,1325546765,4ecbcba77c8e16986222c3218e35e3ff0deffd82
4ecbcba77c8e16986222c3218e35e3ff0deffd82,4ecbcba7,bumped version to 2.0,"bumped version to 2.0
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1325544421,1325544421,9dae73d972946d588636753e3342166d68b1847e
9dae73d972946d588636753e3342166d68b1847e,9dae73d9,added FKO_CHECK_COMPILER_ARG_LDFLAGS_ONLY to fix ro-relocations and immediate…,"added FKO_CHECK_COMPILER_ARG_LDFLAGS_ONLY to fix ro-relocations and immediate binding protection compliation warnings on FreeBSD
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1325536002,1325536002,6f6a9d727dc52f294064aec44e1a1c6d16a67ed9
6f6a9d727dc52f294064aec44e1a1c6d16a67ed9,6f6a9d72,minor test suite update to look for linker warnings in a more generic way,"minor test suite update to look for linker warnings in a more generic way
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1325535935,1325535935,1bd2592d15bb89c1a6ce4462ff9c685f0186d09a
1bd2592d15bb89c1a6ce4462ff9c685f0186d09a,1bd2592d,minor test suite addition to check for linker input file warnings,"minor test suite addition to check for linker input file warnings
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1325535055,1325535055,a6a6a004d462b693c86eb27ddb220cd5a0b82aa7
a6a6a004d462b693c86eb27ddb220cd5a0b82aa7,a6a6a004,bumped version to 2.0,"bumped version to 2.0
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1325521756,1325521756,ac0bf15ea7b4cf94ad1fbc4524f14784e721322e
ac0bf15ea7b4cf94ad1fbc4524f14784e721322e,ac0bf15e,minor wording update subversion -> git,"minor wording update subversion -> git
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1325516016,1325516016,aff8832d66a7fbf3cc867cd24149ccfb29df6504
aff8832d66a7fbf3cc867cd24149ccfb29df6504,aff8832d,Refactored configure.ac to use a custom macro for compiler flag checks.,"Refactored configure.ac to use a custom macro for compiler flag checks.
Set version to 2.0 (non-release candidate).
Minor typo fixes.
",,,,Damien S. Stuart,dstuart@dstuart.org,Damien S. Stuart,dstuart@miranda.(none),1325186356,1325186418,99b1a487568235c0a76373024498e5a50af36621
99b1a487568235c0a76373024498e5a50af36621,99b1a487,updated copyright and license statement - fwknop is GPL software,"updated copyright and license statement - fwknop is GPL software
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1323740499,1323740499,7ac5319847b6cf75dc5d5cdb4cdd41b55ee711b3
7ac5319847b6cf75dc5d5cdb4cdd41b55ee711b3,7ac53198,minor addition of the local_spa.key file for 'make dist',"minor addition of the local_spa.key file for 'make dist'
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1323141780,1323141780,7a231a3b72758d93b4b9425fd403247aa2018499
7a231a3b72758d93b4b9425fd403247aa2018499,7a231a3b,added local_spa.key file,"added local_spa.key file
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1323141691,1323141691,3d0ceccf65010a84dd30fc5e9c567e24f03104ce
3d0ceccf65010a84dd30fc5e9c567e24f03104ce,3d0ceccf,added local_spa.key file,"added local_spa.key file
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1323141639,1323141639,710f98a9b572cd126cd3f662b29244bc0d6e6533
710f98a9b572cd126cd3f662b29244bc0d6e6533,710f98a9,minor addition of the CREDITS file for 'make dist',"minor addition of the CREDITS file for 'make dist'
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1323141398,1323141398,9bcd7cb137103db89400f4f652ab834e05ea5eba
9bcd7cb137103db89400f4f652ab834e05ea5eba,9bcd7cb1,Added the CREDITS file for 'make dist',"Added the CREDITS file for 'make dist'
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1323141363,1323141363,3b2ec921be16db4bcccb4a0bfe13ebdb620a5b31
3b2ec921be16db4bcccb4a0bfe13ebdb620a5b31,3b2ec921,change log doc updates,"change log doc updates
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1323141118,1323141118,474a18b57d054939e6f4063d5ef491b4cee4a240
474a18b57d054939e6f4063d5ef491b4cee4a240,474a18b5,Added various files to Makefile.am so that 'make dist' continues to work,"Added various files to Makefile.am so that 'make dist' continues to work
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1323141047,1323141047,690fe25fa4201af8f76c28450177581ce14a1459
690fe25fa4201af8f76c28450177581ce14a1459,690fe25f,"added CREDITS file, bumped software version, added ChangeLog files","added CREDITS file, bumped software version, added ChangeLog files
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1323137671,1323137671,bcba9d6bdef6032a992e64a8bd6bd7604b83b006
bcba9d6bdef6032a992e64a8bd6bd7604b83b006,bcba9d6b,"added CREDITS file, bumped software version, added ChangeLog files","added CREDITS file, bumped software version, added ChangeLog files
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1323137654,1323137654,893b89a3eba5fa9945095f8df4460f912fdb0cbc
893b89a3eba5fa9945095f8df4460f912fdb0cbc,893b89a3,minor compiler warning fix on OpenBSD,"minor compiler warning fix on OpenBSD
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1322965289,1322965289,860b4527a455d1d50f2b563f4939ee1990b53bd8
860b4527a455d1d50f2b563f4939ee1990b53bd8,860b4527,minor compile fixes for FreeBSD,"minor compile fixes for FreeBSD
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1322935835,1322935835,9b7c1a8ce69fe51337458cce4e7b5e9cb3d7654b
9b7c1a8ce69fe51337458cce4e7b5e9cb3d7654b,9b7c1a8c,Added FORCE_NAT mode to the access.conf file,"Added FORCE_NAT mode to the access.conf file

This commit adds a new configuration variable ""FORCE_NAT"" to the access.conf
file:

    For any valid SPA packet, force the requested connection to be NAT'd
    through to the specified (usually internal) IP and port value.  This is
    useful if there are multiple internal systems running a service such as
    SSHD, and you want to give transparent access to only one internal system
    for each stanza in the access.conf file.  This way, multiple external
    users can each directly access only one internal system per SPA key.

This commit also implements a few minor code cleanups.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1322704279,1322704279,8585958e6e164d47c3d9dc106d4a15aee18599b9
8585958e6e164d47c3d9dc106d4a15aee18599b9,8585958e,minor newline fix for access.conf output dump,"minor newline fix for access.conf output dump
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1322540411,1322540411,2a1243fee6d618096bc402b5a56ae3c2670b8b50
2a1243fee6d618096bc402b5a56ae3c2670b8b50,2a1243fe,memory leak bugfix as a follow up to commit b280f5cde0246cdef33dee3f8be66a2bcef77336,"memory leak bugfix as a follow up to commit b280f5cde0246cdef33dee3f8be66a2bcef77336
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1322540287,1322540287,b280f5cde0246cdef33dee3f8be66a2bcef77336
b280f5cde0246cdef33dee3f8be66a2bcef77336,b280f5cd,"Added access stanza expiration feature, multiple access stanza bug fix","Added access stanza expiration feature, multiple access stanza bug fix

This commit does two major things:

1) Two new access.conf variables are added ""ACCESS_EXPIRE"" and
""ACCESS_EXPIRE_EPOCH"" to allow access stanzas to be expired without having
to modify the access.conf file and restart fwknopd.

2) Allow an access stanza that matches the SPA source address to not
automatically short circuit other stanzas if there is an error (such as when
there are multiple encryption keys involved and an incoming SPA packet is
meant for, say, the second stanza and the first therefore doesn't allow
proper decryption).
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1322535801,1322535801,9e884e9759362ce401bf77dab819b24e10caca62
9e884e9759362ce401bf77dab819b24e10caca62,9e884e97,added SPA packet aging tests,"added SPA packet aging tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1322020608,1322020608,72a4353fd850c099816f6e1acb9fad12bcb2ff27
72a4353fd850c099816f6e1acb9fad12bcb2ff27,72a4353f,bug fix to exclude SPA packets with timestamps in the future that are too great…,"bug fix to exclude SPA packets with timestamps in the future that are too great (old packets were properly excluded already)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1322020596,1322020596,644b9e943214ed6ede762af72f395b73ea03faf0
644b9e943214ed6ede762af72f395b73ea03faf0,644b9e94,added test for --test mode in the fwknop client,"added test for --test mode in the fwknop client
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1322019626,1322019626,0015da44427bf988372818b26916a6229e9f68ca
0015da44427bf988372818b26916a6229e9f68ca,0015da44,bug fix to honor the fwknop client --time-offset-plus and --time-offset-minus options,"bug fix to honor the fwknop client --time-offset-plus and --time-offset-minus options
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1322019250,1322019250,05b189ff4fe61c7149efcf4f18cada14553e6dbe
05b189ff4fe61c7149efcf4f18cada14553e6dbe,05b189ff,"added DNAT mode tests, minor memory leak fix in NAT mode, added fwknopd check…","added DNAT mode tests, minor memory leak fix in NAT mode, added fwknopd check for ENABLE_IPT_FORWARDING variable before attempting NAT access
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1322018007,1322018007,dd2deec73dc5f0d630ab86e92fe1e0073d692414
dd2deec73dc5f0d630ab86e92fe1e0073d692414,dd2deec7,added tests for various access.conf variables,"added tests for various access.conf variables
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1321676630,1321676630,63498c9032bfe74bc91de5d6607391e7b7cdfe36
63498c9032bfe74bc91de5d6607391e7b7cdfe36,63498c90,"added IP/subnet match tests, added --Anonymize-results mode","added IP/subnet match tests, added --Anonymize-results mode
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1321582670,1321582670,34cd0c7a78a62e1df2533641ca08adaaafa2aa7d
34cd0c7a78a62e1df2533641ca08adaaafa2aa7d,34cd0c7a,"simplified the client/server interaction code, started on IP filtering tests,…","simplified the client/server interaction code, started on IP filtering tests, added spoof username tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1321411551,1321411551,3d94aaa9205e5703c50635b9007efab485d9b2da
3d94aaa9205e5703c50635b9007efab485d9b2da,3d94aaa9,minor test wording consolidation,"minor test wording consolidation
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1320983665,1320983665,50b48147c0392cd91f7ad83af56b20d0abbd3c3e
50b48147c0392cd91f7ad83af56b20d0abbd3c3e,50b48147,This commit fixes two memory leaks and adds a common exit function.,"This commit fixes two memory leaks and adds a common exit function.

The two memory leaks were found with the test suite running in
--enable-valgrind mode - here are the relevant error messages:

For fwknopd server GPG clean up:

==345== 9 bytes in 1 blocks are definitely lost in loss record 2 of 2
==345==   at 0x4C2815C: malloc (vg_replace_malloc.c:236)
==345==   by 0x52F6B81: strdup (strdup.c:43)
==345==   by 0x10FA57: add_string_list_ent (access.c:308)
==345==   by 0x110513: parse_access_file (access.c:387)
==345==   by 0x10B5FB: main (fwknopd.c:193)

For fwknop client rc file processing:

==8045== 568 bytes in 1 blocks are still reachable in loss record 12 of 12
==8045==    at 0x4C2815C: malloc (vg_replace_malloc.c:236)
==8045==    by 0x50A53AA: __fopen_internal (iofopen.c:76)
==8045==    by 0x10C3FF: process_rc (config_init.c:446)
==8045==    by 0x10C8F6: config_init (config_init.c:671)
==8045==    by 0x10AC9E: main (fwknop.c:62)

There is also a new clean_exit() function that makes it easier to ensure that
resources are deallocated upon existing.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1320982412,1320982412,9ebd55f52289d5904fbde3b8838ca92c7271d9e9
9ebd55f52289d5904fbde3b8838ca92c7271d9e9,9ebd55f5,remove CMD timestamps for --diff mode,"remove CMD timestamps for --diff mode
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1320982380,1320982380,9e19b8bc267031900c555c55fc5c1e54b6093461
9e19b8bc267031900c555c55fc5c1e54b6093461,9e19b8bc,added --diff mode to the test suite to compare results from one execution to the next,"added --diff mode to the test suite to compare results from one execution to the next
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1320605483,1320605483,a5a3c06ef225c737acbd21c6cedd1a94f1a6c484
a5a3c06ef225c737acbd21c6cedd1a94f1a6c484,a5a3c06e,consolidated several test functions into a single generic_exec() function,"consolidated several test functions into a single generic_exec() function
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1320464791,1320464791,f41a26b389605311a21a95a9ad2b23f460ed02ee
f41a26b389605311a21a95a9ad2b23f460ed02ee,f41a26b3,"Fixed fwknopd memory leak, several other fixes and updates","Fixed fwknopd memory leak, several other fixes and updates

This commit does several things.  First, a memory leak in fwknopd has been
fixed by ensuring to free access.conf stanzas.  This bug was found with the
new test suite running in --enable-valgrind mode.  Here is what some of the
valgrind output looked like to find the leak:

==19217== 11 bytes in 1 blocks are indirectly lost in loss record 3 of 5
==19217==    at 0x4C2815C: malloc (vg_replace_malloc.c:236)
==19217==    by 0x52F6B81: strdup (strdup.c:43)
==19217==    by 0x10FC8B: add_acc_string (access.c:49)
==19217==    by 0x1105C8: parse_access_file (access.c:756)
==19217==    by 0x10B79B: main (fwknopd.c:194)
==19217==
==19217== 16 bytes in 1 blocks are indirectly lost in loss record 4 of 5
==19217==    at 0x4C27480: calloc (vg_replace_malloc.c:467)
==19217==    by 0x10FEC0: add_source_mask (access.c:88)
==19217==    by 0x110100: expand_acc_source (access.c:191)
==19217==    by 0x1104B0: parse_access_file (access.c:500)
==19217==    by 0x10B79B: main (fwknopd.c:194)
==19217==
==19217== 183 (152 direct, 31 indirect) bytes in 1 blocks are definitely lost in loss record 5 of 5
==19217==    at 0x4C27480: calloc (vg_replace_malloc.c:467)
==19217==    by 0x1103E4: parse_access_file (access.c:551)
==19217==    by 0x10B79B: main (fwknopd.c:194)
==19217==
==19217== LEAK SUMMARY:
==19217==    definitely lost: 152 bytes in 1 blocks
==19217==    indirectly lost: 31 bytes in 3 blocks
==19217==      possibly lost: 0 bytes in 0 blocks
==19217==    still reachable: 8 bytes in 1 blocks
==19217==         suppressed: 0 bytes in 0 blocks

Second, this commit changes how fwknopd acquires packet data with
pcap_dispatch() - packets are now processed within the callback function
process_packet() that is provided to pcap_dispatch(), the global packet
counter is incremented by the return value from pcap_dispatch() (since this is
the number of packets processed per pcap loop), and there are two new
fwknopd.conf variables PCAP_DISPATCH_COUNT and PCAP_LOOP_SLEEP to control the
number of packets that pcap_dispatch() should process per loop and the number
of microseconds that fwknopd should sleep per loop respectively.  Without this
change, it was fairly easy to cause fwknopd to miss packets by creating bursts
of packets that would all be processed one at time with the usleep() delay
between each.  For fwknopd deployed on a busy network and with a permissive
pcap filter (i.e. something other than the default that causes fwknopd to look
at, say, TCP ACK's), this change should help.

Third, the criteria that a packet must reach before data copying into the
buffer designed for SPA processing has been tightened.  A packet less than
/greater than the minimum/maximum expected sizes is ignored before data is
copied, and the base64 check is done as well.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1320372919,1320372919,97a8d751c1b02271e812701d4cb938833d36918a
97a8d751c1b02271e812701d4cb938833d36918a,97a8d751,"added complete SPA cycle tests for tcp ports 23 and 9418 (git), and for udp 53 dns","added complete SPA cycle tests for tcp ports 23 and 9418 (git), and for udp 53 dns
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1320027240,1320027240,044ea54d936745e29c856de71818f0497633d531
044ea54d936745e29c856de71818f0497633d531,044ea54d,updated client SPA verbose message to include the server IP/host,"updated client SPA verbose message to include the server IP/host
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1319946569,1319946569,8e4b45dd568ef86ba773605662a5d058be714d33
8e4b45dd568ef86ba773605662a5d058be714d33,8e4b45dd,minor looping criteria update for valgrind tests,"minor looping criteria update for valgrind tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1319946522,1319946522,ea3e81787121e56e1a44cc0a5ee3b9ba64c4f5eb
ea3e81787121e56e1a44cc0a5ee3b9ba64c4f5eb,ea3e8178,[test-suite] added the ability to run all fwknop tests through valgrind,"[test-suite] added the ability to run all fwknop tests through valgrind
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1319921997,1319921997,f999e2e6720021328e2f34bf57d05b8081d8ffae
f999e2e6720021328e2f34bf57d05b8081d8ffae,f999e2e6,bugfix to return preprocess_spa_data() result properly to calling function,"bugfix to return preprocess_spa_data() result properly to calling function
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1319921728,1319921728,b1b830f744b01e0a3f0d4a19b6d38dd51afaae1f
b1b830f744b01e0a3f0d4a19b6d38dd51afaae1f,b1b830f7,update to remove packet direction requirement when sniffing on OpenBSD loopback interfaces,"update to remove packet direction requirement when sniffing on OpenBSD loopback interfaces
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1319857266,1319857266,cde71b1b274cae5af3b6e986e5ac369d79c0cc3a
cde71b1b274cae5af3b6e986e5ac369d79c0cc3a,cde71b1b,minor whitespace removal,"minor whitespace removal
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1319857226,1319857226,dbbbe60fe4b6908bff56d026d886381c83a44087
dbbbe60fe4b6908bff56d026d886381c83a44087,dbbbe60f,added stack protection detection for OpenBSD systems,"added stack protection detection for OpenBSD systems
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1319857192,1319857192,2e96ece4b074beff06aaca2f51bd90c84bfeeef8
2e96ece4b074beff06aaca2f51bd90c84bfeeef8,2e96ece4,Update to ensure libfko.so path is detected properly on OpenBSD,"Update to ensure libfko.so path is detected properly on OpenBSD
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1319856147,1319856147,464dbe95d07657794aaac9e230153ffd84a2ed06
464dbe95d07657794aaac9e230153ffd84a2ed06,464dbe95,Update to print all firewall commands in --verbose mode,"Update to print all firewall commands in --verbose mode

This commit makes it easier to determine exactly which commands fwknopd
runs in --verbose mode when interacting with the underlying firewall.
This commit also adds --verbose --verbose mode to the test suite.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1319766715,1319766715,6388e8ac7fab3d89b164862c9e113fed37e9f397
6388e8ac7fab3d89b164862c9e113fed37e9f397,6388e8ac,added 'const' to function prototype vars where possible,"added 'const' to function prototype vars where possible

Added the 'const' qualifier to function prototype variables where possible.
In addition, reduced some functions to file-scope with 'static' where possible.

Also made a few minor changes to remove extra whitespace, and fixed a bug
in create_fwknoprc() to ensure the new fwknoprc filehandle is closed.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1319590840,1319590840,85377267e299118d5302afde3dfeed426b353879
85377267e299118d5302afde3dfeed426b353879,85377267,compiler warning fix for sscanf() on freebsd,"compiler warning fix for sscanf() on freebsd

This commit fixes the following gcc warning on freebsd systems:

replay_cache.c: In function 'replay_file_cache_init':
replay_cache.c:312: warning: format '%ld' expects type 'long int *', but argument 9 has type 'time_t *'
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1319507533,1319507533,1c6fc0f3f80e086b43471e756f8249015fe2e4b2
1c6fc0f3f80e086b43471e756f8249015fe2e4b2,1c6fc0f3,update to detect loopback interface,"update to detect loopback interface
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1319503736,1319503736,3299fb25815bcec09b5410d3393ab806f8b78a68
3299fb25815bcec09b5410d3393ab806f8b78a68,3299fb25,minor whitespace removal,"minor whitespace removal
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1319503700,1319503700,c9860811f5de4b28f674d53d16b1bca10f12bed8
c9860811f5de4b28f674d53d16b1bca10f12bed8,c9860811,added LD_LIBRARY_PATH to all fwknop/fwknopd commands to make manual command execution easier,"added LD_LIBRARY_PATH to all fwknop/fwknopd commands to make manual command execution easier
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1319336967,1319336967,50bcc537eea23e9cd269a51e63d9da525c0a91ac
50bcc537eea23e9cd269a51e63d9da525c0a91ac,50bcc537,added digest cache validation after GPG tests,"added digest cache validation after GPG tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1319335560,1319335560,1b8606461cc21108b190f871bf2d8b0929589fce
1b8606461cc21108b190f871bf2d8b0929589fce,1b860646,minor update to match include/exclude criteria on the whole test message,"minor update to match include/exclude criteria on the whole test message
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1319334862,1319334862,9e3a4b4c920444df10b6a74eb574a542091adbfc
9e3a4b4c920444df10b6a74eb574a542091adbfc,9e3a4b4c,extended packet validity tests in GPG mode,"extended packet validity tests in GPG mode
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1319333384,1319333384,09e6ed1405436b975cb41c89dc2517f0e73c54bb
09e6ed1405436b975cb41c89dc2517f0e73c54bb,09e6ed14,added first GPG complete cycle SPA test,"added first GPG complete cycle SPA test
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1319316510,1319316510,2d9dbe1fca011cd6bf726b86fb21af97da11ce49
2d9dbe1fca011cd6bf726b86fb21af97da11ce49,2d9dbe1f,minor whitespace removal,"minor whitespace removal
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1319311194,1319311194,e4f4ee78253f1f44c8809173ad2209ba8364e2c5
e4f4ee78253f1f44c8809173ad2209ba8364e2c5,e4f4ee78,added test to validate digest.cache structure,"added test to validate digest.cache structure
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1319307956,1319307956,266150218a021894e6dab0a8b4d7525183fe004a
266150218a021894e6dab0a8b4d7525183fe004a,26615021,added -P bpf test for complete SPA cycle over non standard SPA port,"added -P bpf test for complete SPA cycle over non standard SPA port
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1319295445,1319295445,0ab39a64a5b86babdd0c5f7412fe160bca13cb69
0ab39a64a5b86babdd0c5f7412fe160bca13cb69,0ab39a64,added -P bpf filter test,"added -P bpf filter test
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1319294917,1319294917,6848983b474d4571b1434a349d10ac21b278ebda
6848983b474d4571b1434a349d10ac21b278ebda,6848983b,added Rijndael SPA validity tests,"added Rijndael SPA validity tests
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1319254988,1319254988,081b58d9510e4bbafb6dd57b4e55a02d7105e43a
081b58d9510e4bbafb6dd57b4e55a02d7105e43a,081b58d9,added rule timeout detection,"added rule timeout detection
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1319253204,1319253204,9b816ed29af1be3a259d9c154418cbe624c2a93f
9b816ed29af1be3a259d9c154418cbe624c2a93f,9b816ed2,added replay attack detection test,"added replay attack detection test
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1319252145,1319252145,0bda4ee1e5f671c2e64a2b961de2f2ed0f9170a5
0bda4ee1e5f671c2e64a2b961de2f2ed0f9170a5,0bda4ee1,minor removal of whitespace,"minor removal of whitespace
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1319252089,1319252089,caf458ad3fb2ce9408035630869e877f0c97768d
caf458ad3fb2ce9408035630869e877f0c97768d,caf458ad,added first complete SPA cycle test,"added first complete SPA cycle test
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1319168021,1319168021,44598fd7dd6be8207bae512b8b6e13f08e265d2a
44598fd7dd6be8207bae512b8b6e13f08e265d2a,44598fd7,Added --digest-file and --pid-file args,"Added --digest-file and --pid-file args

Added --digest-file and --pid-file args so that the user can easily alter
these paths from the command line.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1319167919,1319167919,6f699f7e5d28ac1d8e66d66b9cedb3094a35439e
6f699f7e5d28ac1d8e66d66b9cedb3094a35439e,6f699f7e,added client/server interaction test capability,"added client/server interaction test capability
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1319083618,1319083618,b8571bcc05cc81448b8d52ef8eef71f2eaefa987
b8571bcc05cc81448b8d52ef8eef71f2eaefa987,b8571bcc,Minor PID string length fix,"Minor PID string length fix

Changed PID string length to 7 to accomodate an ending newline and NULL
char when writing to the fwknopd .pid file.  Without this fix, with a
5 digit PID the trailing newline would be truncated (no room for the
ending NULL char).
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1318987718,1318987718,0e7a0e9a378c5b9605228075718f53012e87cadd
0e7a0e9a378c5b9605228075718f53012e87cadd,0e7a0e9a,Added --fw-list-all and --fw-flush,"Added --fw-list-all and --fw-flush

Added new command line options --fw-list-all and --fw-flush to allow all
firewall rules to be displayed including those not created by fwknopd, and
allow all firewall rules created by fwknopd to be deleted.

Also switched -D config dump output to stdout.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1318907008,1318907008,e479e776dbd848ba82e65e22b35e7e479a788161
e479e776dbd848ba82e65e22b35e7e479a788161,e479e776,Added usage of sudo for recompilation test,"Added usage of sudo for recompilation test

The test suite now recompiles fwknop only if the --enable-recompile-check
option is used, and if so, uses sudo (if installed) to have the resulting
binaries own by the original user (instead of by root).  Also made a couple
of API changes to create test output files automatically if they don't
exist.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1318906501,1318906501,11c240c41b74c110068b8748b28a074ac121608c
11c240c41b74c110068b8748b28a074ac121608c,11c240c4,minor update to allow fw rules to be dumped before parsing the access.conf file,"minor update to allow fw rules to be dumped before parsing the access.conf file
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1318560275,1318560275,e36c833f554f59312c02e5efec0bbc77ab0ee301
e36c833f554f59312c02e5efec0bbc77ab0ee301,e36c833f,minor whitespace fixes,"minor whitespace fixes
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1318557741,1318557741,9962dc08088b31d116b7b5d41bf8e3ced8cfa814
9962dc08088b31d116b7b5d41bf8e3ced8cfa814,9962dc08,minor wording update netfilter -> iptables,"minor wording update netfilter -> iptables
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1318553970,1318553970,45ecc6f39932271f7a70b1fe8dec99dc9d2438c0
45ecc6f39932271f7a70b1fe8dec99dc9d2438c0,45ecc6f3,minor bugfix to ensure that the proper firewall is used to collect system specs,"minor bugfix to ensure that the proper firewall is used to collect system specs
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1318552872,1318552872,103cd2a8fb0ebe7919a5647ae90a9425242ca0ae
103cd2a8fb0ebe7919a5647ae90a9425242ca0ae,103cd2a8,added the test/conf/ directory for config files use by the test suite,"added the test/conf/ directory for config files use by the test suite
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1318552205,1318552205,6f0d2c509121de45f470dae4c17b6a7e46ea19d0
6f0d2c509121de45f470dae4c17b6a7e46ea19d0,6f0d2c50,minor typo fix,"minor typo fix
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1318552177,1318552177,64160a0c57aee0c406be5158836fe10b3f38e3f9
64160a0c57aee0c406be5158836fe10b3f38e3f9,64160a0c,"started on basic SPA generation, updated to use LD_LIBRARY_PATH for local libfko instance","started on basic SPA generation, updated to use LD_LIBRARY_PATH for local libfko instance
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1318552159,1318552159,a1f4a65f27b73ebe5744c7ae4bf64a0876032e13
a1f4a65f27b73ebe5744c7ae4bf64a0876032e13,a1f4a65f,interim commit to add major functionality to the fwknop test suite,"interim commit to add major functionality to the fwknop test suite
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1318477048,1318477048,4a41ecc9556fedd4bb04206081b4096a2fddaeee
4a41ecc9556fedd4bb04206081b4096a2fddaeee,4a41ecc9,removed,"removed
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1318477011,1318477011,88d8eb03b30a03ebb43a7da33c5f65d2de2c3289
88d8eb03b30a03ebb43a7da33c5f65d2de2c3289,88d8eb03,minor update to switch to stdout when exiting with success,"minor update to switch to stdout when exiting with success
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1318476964,1318476964,41c0be29b7a3ea6a0c859b43e43ccdc3aa5e30ba
41c0be29b7a3ea6a0c859b43e43ccdc3aa5e30ba,41c0be29,switched --help output to stdout from stderr,"switched --help output to stdout from stderr
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1317956549,1317956549,26f58a705dbdf9a07e430fc2558871d491c27d63
26f58a705dbdf9a07e430fc2558871d491c27d63,26f58a70,minor update to account for hardening-check return values,"minor update to account for hardening-check return values
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1317956007,1317956007,1a3e1caffe707e71fd3cf99ffaa4547f7fda017a
1a3e1caffe707e71fd3cf99ffaa4547f7fda017a,1a3e1caf,Initial start on a test suite,"Initial start on a test suite

This commit begins development on a comprehensive test suite for fwknop.
The initial tests are focused on compilation correctness and security options
as determined by the ""hardening-check"" script from Kees Cook of the Debian
security team.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1317784504,1317784504,05f3cec96a03251d1a308d90200c9dc479ae4558
05f3cec96a03251d1a308d90200c9dc479ae4558,05f3cec9,Added --help usage information,"Added --help usage information

With the --help command line argument, the following information is printed:

$ ./fwknop-launcher-lsof.pl --help

Usage: fwknop-launcher-lsof.pl [options]

Options:

    -c,  --config     <file>   - Path to fwknop-launcher.conf config file.
    -l,  --lsof-cmd   <path>   - Path to lsof command.
    -f,  --fwknop-cmd <path>   - Path to fwknop client command.
    -s,  --sleep   <seconds>   - Specify sleep interval (default:
                                 1 seconds)
    -n   --no-daemon           - Run in foreground mode.
    -u,  --user   <username>   - Specify username (usually this is not
                                 needed).
         --home-dir <dir>      - Path to user's home directory (usually
                                 this is not needed).
    -v   --verbose             - Print verbose information to the terminal
                                 (requires --no-daemon).
         --help                - Print usage info and exit.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1316999550,1316999550,71ea0c6bfd3be6ff8d95e6f1d1029394e51c07f4
71ea0c6bfd3be6ff8d95e6f1d1029394e51c07f4,71ea0c6b,Merge branch 'master' into fwknop-launcher,"Merge branch 'master' into fwknop-launcher
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1316998974,1316998974,"7748423b15958fedfcaeb942f3f26cdc5b40dcde,35ee5a202debe2e7c15227f7704753c977281de2"
7748423b15958fedfcaeb942f3f26cdc5b40dcde,7748423b,Added the fwknop lsof launcher under the extras/ directory,"Added the fwknop lsof launcher under the extras/ directory

The fwknop lsof launcher (extras/fwknop-launcher/fwknop-launcher-lsof.pl) is a
lightweight daemon that allows the user to not have to manually run the fwknop
client when attempting to gain access to a service that is protected by Single
Packet Authorization via fwknopd.  This is accomplished by checking the output
of lsof to look for pending connections in the SYN_SENT state, which (usually)
indicate that a remote firewall is blocking the attempted connection.  At this
point, the launcher executes the fwknop client with the --get-key arg (so the
user must place the key in the local filesystem) to generate an SPA packet for
the attempted connection.  The remote fwknopd daemon will reconfigure the
firewall to allow temporary access, and this usually happens fast enough that
the original connection attempt will then succeed.

The idea for this was originally for a pcap-based connection watcher by
Sebastien Jeanquier.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1316917470,1316917878,f693a2721cf499815853639c8dfb924ab4c427cd
35ee5a202debe2e7c15227f7704753c977281de2,35ee5a20,Merge pull request #5 from maxkas/master,"Merge pull request #5 from maxkas/master

Fwknop client for iPhone devices - contributed by Max Kastanas",,,,Michael Rash,michael.rash@gmail.com,Michael Rash,michael.rash@gmail.com,1316653816,1316653816,"35abc349ab91ff40f0706a66e9ba50188cb94cb2,668ed9033f601f052fe58ebf87a8eff144b50fcf"
668ed9033f601f052fe58ebf87a8eff144b50fcf,668ed903,Codebase of Fwknop client for iOS (iPhone) devices,"Codebase of Fwknop client for iOS (iPhone) devices
",,,,Max Kastanas,max2idea@users.sf.net,Max Kastanas,max2idea@users.sf.net,1316238713,1316238713,35abc349ab91ff40f0706a66e9ba50188cb94cb2
35abc349ab91ff40f0706a66e9ba50188cb94cb2,35abc349,minor typo fix: fwkop -> fwknop,"minor typo fix: fwkop -> fwknop
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1315883081,1315883081,f693a2721cf499815853639c8dfb924ab4c427cd
f693a2721cf499815853639c8dfb924ab4c427cd,f693a272,Merge branch 'master' of https://github.com/mrash/fwknop,"Merge branch 'master' of https://github.com/mrash/fwknop
",,,,Damien Stuart,dstuart@dstuart.org,Damien Stuart,dstuart@dstuart.org,1315668609,1315668609,"e07ccdd5508c488a818790c16728ebdc13be284c,87416c0cdf544ff636ea963bd90f1f22dd7ca49a"
e07ccdd5508c488a818790c16728ebdc13be284c,e07ccdd5,Added the cmd_opts.h file to server and client's  Makefile.am so they are included with make dist.,"Added the cmd_opts.h file to server and client's  Makefile.am so they are included with make dist.
",,,,Damien Stuart,dstuart@dstuart.org,Damien Stuart,dstuart@dstuart.org,1315668308,1315668308,0b8c4890758bfd6612780c28041d7b1e3e9f1a15
87416c0cdf544ff636ea963bd90f1f22dd7ca49a,87416c0c,Replaced all strcpy() calls with strlcpy(),"Replaced all strcpy() calls with strlcpy()

OpenBSD especially gives compiler warnings whenever strcpy() is used.  All such
calls have been replaced with strlcpy().
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1315620577,1315620577,0b8c4890758bfd6612780c28041d7b1e3e9f1a15
0b8c4890758bfd6612780c28041d7b1e3e9f1a15,0b8c4890,Added read-only relocations and immediate bindings,"Added read-only relocations and immediate bindings

Commit 4248b2687054b38e79e2ab9eecf71e5b299172f4 removed read-only relocations
and immediate bindings for FreeBSD systems (and the same was done for OpenBSD
systems too).  This commit adds these security features back in as linker
options by only changing LDFLAGS as opposed to also adding the corresponding
flags to CFLAGS.  The end result is that the following errors are fixed:

gcc: -z: linker input file unused because linking not done
gcc: relro: linker input file unused because linking not done
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1315539890,1315539890,c65e25c6568c53d44d0163ebd4889260466bcdfa
c65e25c6568c53d44d0163ebd4889260466bcdfa,c65e25c6,Check for active_rules > 0 before decrementing,"Check for active_rules > 0 before decrementing

In the fw_config struct the active_rules member is unsigned, so this change
ensures that we don't try to decrement it below zero whenever a firewall rule
is deleted or an error condition occurs.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1315532032,1315532032,88b6d44f1f70daf951cf7e1d237114f96ad30a9a
88b6d44f1f70daf951cf7e1d237114f96ad30a9a,88b6d44f,Update to make _exp_ string a #define,"Update to make _exp_ string a #define

Replaced all instances of ""_exp_"" with the #define EXPIRE_COMMENT_PREFIX so
that the prefix can easily be changed. so
that the prefix can easily be changed. so
that the prefix can easily be changed. so
that the prefix can easily be changed.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1315455620,1315455620,2531896ebf98d80380f462b4fae9e16940206a40
2531896ebf98d80380f462b4fae9e16940206a40,2531896e,Added the ability to delete PF rules,"Added the ability to delete PF rules

This commit adds the ability to fwknopd to delete PF rules after the SPA timer
expires.  The strategy implemented is similar to iptables and ipfw, except
that all PF rules are added to an 'anchor', and deleting a specific expired
rule is done by listing all rules in the anchor and reinstantiating it via
'pfctl -a <anchor> -f -' with the expired rule deleted.  fwknopd uses the
""_exp_<expire time>"" convention in a PF rule label similarly to how fwknopd
interfaces with iptables (via the 'comment' match), and ipfw (via the
""//<comment>"" feature).
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1315452258,1315452258,f9810904c36c270a5d19111ae7566c6d410bed4a
f9810904c36c270a5d19111ae7566c6d410bed4a,f9810904,minor comment typo fixes,"minor comment typo fixes
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1315098012,1315098012,d60dde17b71b898a821a60d9a1166c32436c17c2
d60dde17b71b898a821a60d9a1166c32436c17c2,d60dde17,PF rules are now added to the fwknop anchor,"PF rules are now added to the fwknop anchor

This commit implements the ability to add PF firewall rules to the fwknop
anchor after a valid SPA packet is sniffed off the wire.  A subsequent commit
will add the ability to delete these rules.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1315075828,1315075828,6938f7a6aecb1395f750c56a4e10489d6d060fc9
6938f7a6aecb1395f750c56a4e10489d6d060fc9,6938f7a6,Minor copyright holder update,"Minor copyright holder update

Minor copyright holder update
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1314553043,1314553043,10ff421e1ef86c1b437645764abe11819a88c292
10ff421e1ef86c1b437645764abe11819a88c292,10ff421e,For PF firewalls implemented a check for an active fwknop anchor,"For PF firewalls implemented a check for an active fwknop anchor

This commit ensures that for PF firewalls that the fwknop anchor is active and
linked into the running PF policy.  This is accomplished by looking for the
string 'anchor ""fwknop""' in the output of ""pfctl -s rules"".  If the anchor
exists, then fwknopd will be able to influence traffic via rules added and
removed from the fwknop anchor.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1314552435,1314552435,5bc5ef4305cafd26ee3faaf5eefb3f6b9f05441e
5bc5ef4305cafd26ee3faaf5eefb3f6b9f05441e,5bc5ef43,Added --fw-list info to --help,"Added --fw-list info to --help

Added --fw-list output to usage info when --help is specified from the command
line.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1314457639,1314457639,0649ef924a8c979fd815c2d2e8416a16aeabeb62
0649ef924a8c979fd815c2d2e8416a16aeabeb62,0649ef92,"PF support on OpenBSD in progress, fwknop --fw-list now works","PF support on OpenBSD in progress, fwknop --fw-list now works

This is the first commit that has fwknopd interact with the PF firewall on
OpenBSD (via fwknopd --fw-list to show any active fwknopd rules).
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1314457037,1314457037,dcf2d94bf675a906c570814d9cd65e2a1bfd2e77
dcf2d94bf675a906c570814d9cd65e2a1bfd2e77,dcf2d94b,Added autoconf check for pf firewalls,"Added autoconf check for pf firewalls

On OpenBSD systems fwknop now checks for pf firewalls via autoconf.  The next
step will be to fill in support for pf via the C code.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1314244536,1314244536,649b7a88c1d6caa0e3760c7694b9d5b5b855dd4c
649b7a88c1d6caa0e3760c7694b9d5b5b855dd4c,649b7a88,Disabled read-only relocations and immediate binding compiler protections,"Disabled read-only relocations and immediate binding compiler protections

Similarly to FreeBSD systems, gcc throws the following warnings with read-only
relcations and immediate binding protections - disbabled for now:

gcc: -z: linker input file unused because linking not done
gcc: relro: linker input file unused because linking not done
gcc: -z: linker input file unused because linking not done
gcc: now: linker input file unused because linking not done
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1314242265,1314242265,47da588003b9bf1645a97823cfa940b8c5a93071
47da588003b9bf1645a97823cfa940b8c5a93071,47da5880,"removed 2.0.0 branch specific ChangeLog, ShortLog and diffstat files","removed 2.0.0 branch specific ChangeLog, ShortLog and diffstat files
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1314063568,1314063568,17beb2d348a076aa86a5732b9b572b21c1fcb594
17beb2d348a076aa86a5732b9b572b21c1fcb594,17beb2d3,bumped version to 2.0.0rc4,"bumped version to 2.0.0rc4
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1313950001,1313950001,b937ae234730241a25144b63ed1eadf3291da642
b937ae234730241a25144b63ed1eadf3291da642,b937ae23,"Added version specific ChangeLog, ShortLog, and diffstat files.","Added version specific ChangeLog, ShortLog, and diffstat files.

Added version specific ChangeLog, ShortLog, and diffstat files (these go all
the way back to the beginning of the svn import since 2.0.0 will be the
first official non-""rc"" release of the new C code).
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1313949745,1313949745,4ed4558192616adb737344710f9349ab4bc1db9c
4ed4558192616adb737344710f9349ab4bc1db9c,4ed45581,Updated ChangeLog with all changes from 2.0.0-rc3,"Updated ChangeLog with all changes from 2.0.0-rc3

Updated ChangeLog with all changes from 2.0.0-rc3
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1313949616,1313949616,35456877fa257889c7d894cc24c98fba06106ca6
35456877fa257889c7d894cc24c98fba06106ca6,35456877,Bug fix for ipfw firewalls to not always require seeing 'Dynamic' rules,"Bug fix for ipfw firewalls to not always require seeing 'Dynamic' rules

This commit fixes an issue on ipfw firewalls where fwknopd would always require
seeing ipfw 'Dynamic' rules associated with newly added connections.  But, such
connections may never be established for various reasons.  Previous to this
commit the following warning was frequently generated by fwknopd:

Unexpected error: did not find 'Dynamic rules' string in list output.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1313949016,1313949016,4b2a96578bcc8ba07371989dcc124ef42813acea
4b2a96578bcc8ba07371989dcc124ef42813acea,4b2a9657,Bug fix for missing set existence check on ipfw firewalls,"Bug fix for missing set existence check on ipfw firewalls

This commit fixes an issues on systems running the ipfw firewall where the
'set' where fwknopd puts new access rules was attempted to be deleted without
first checking to see whether it exists.  The following errors would be
generated (now fixed):

ipfw: rule 16777217: setsockopt(IP_FW_DEL): Invalid argument
Error 17664 from cmd:'/sbin/ipfw delete set 1':
Fatal: Errors detected during ipfw rules initialization.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1313947696,1313947696,03859387b6667839d8eb6eaf1601e2c14c24d355
03859387b6667839d8eb6eaf1601e2c14c24d355,03859387,Bug fix to create the digest.cache file at init,"Bug fix to create the digest.cache file at init

Bug fix to ensure that the digest.cache file gets created at fwknopd init time
so fwknopd does not throw the following error:

Error opening digest cache file. Incoming digests will not be remembered.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1313894064,1313894064,04afd2846dd563296c40667557ef4ac0d47aeb0c
04afd2846dd563296c40667557ef4ac0d47aeb0c,04afd284,"On FreeBSD, made gpgme header path inclusion optional","On FreeBSD, made gpgme header path inclusion optional

If gpgme is installed on FreeBSD systems it appears that
-I/usr/local/include/gpgme must be added to the include path, but this change
only adds the path if gpgme is installed and going to be used.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1313892141,1313892141,6eeb41309401a0c8a47613bcc9f3ce58aa1f6436
6eeb41309401a0c8a47613bcc9f3ce58aa1f6436,6eeb4130,Fixed a few minor compiler warnings on FreeBSD,"Fixed a few minor compiler warnings on FreeBSD

This commit fixes a few warnings about possible uninitialized and unused
variables.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1313861580,1313861580,4248b2687054b38e79e2ab9eecf71e5b299172f4
4248b2687054b38e79e2ab9eecf71e5b299172f4,4248b268,On FreeBSD disable read-only relocations and immediate binding protections,"On FreeBSD disable read-only relocations and immediate binding protections

gcc on FreeBSD generates the following errors when the -Wl,-z,relro -Wl,-z,now
flags are used:

gcc: -z: linker input file unused because linking not done
gcc: relro: linker input file unused because linking not done
gcc: -z: linker input file unused because linking not done
gcc: now: linker input file unused because linking not done
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1313860773,1313860773,ff7c4219e8a946fa28aeec941a17d3998ab87ae7
ff7c4219e8a946fa28aeec941a17d3998ab87ae7,ff7c4219,Update to suppress additional compiler warning,"Update to suppress additional compiler warning

This change fixes the following compiler warning that was seen with many of
the source files in server/

fwknopd_common.h:223: warning: ‘config_map’ defined but not used
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1313859390,1313859390,ab7226092dcf687a46916e1841cc05107a5fce8f
ab7226092dcf687a46916e1841cc05107a5fce8f,ab722609,"Minor restructuring to suppress compiler ""defined but not used warnings""","Minor restructuring to suppress compiler ""defined but not used warnings""

This commit fixes several compiler warnings like the following (now that -Wall
is the default):

config_init.h:68: warning: ‘cmd_opts’ defined but not used
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1313858097,1313858097,db681fb7916470ec981f0d4e4514402cb49eca3f
db681fb7916470ec981f0d4e4514402cb49eca3f,db681fb7,minor commit to fix minor compilations warnings,"minor commit to fix minor compilations warnings
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1313805616,1313805616,637f7a4c936d91a18ef71f364c5fe1c7c5256f5e
637f7a4c936d91a18ef71f364c5fe1c7c5256f5e,637f7a4c,Added -Wall for all gcc warnings during compile,"Added -Wall for all gcc warnings during compile

Enable gcc compilation to include -Wall for all warnings (can be disabled
with --disable-wall to ./configure).
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1313802864,1313802864,bf59c2688f3dc11913c347c4d1e92c95dfcaa671
bf59c2688f3dc11913c347c4d1e92c95dfcaa671,bf59c268,Bug fix for ./configure args to disable compile time security options,"Bug fix for ./configure args to disable compile time security options

The ./configure script would generate the following error for the attempted
use of the --without-stackprotector (and other related options like
--without-pie):

configure: WARNING: unrecognized options: --without-stackprotect
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1313801510,1313801510,41fc93407e303a47a412ee91a54f136f80a903f1
41fc93407e303a47a412ee91a54f136f80a903f1,41fc9340,added the VERSION file,"added the VERSION file
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1313720812,1313720812,8b0787c270dc12552275d610bf38115f95cd5972
8b0787c270dc12552275d610bf38115f95cd5972,8b0787c2,Bumped version to fwknop-2.0.0-rc3,"Bumped version to fwknop-2.0.0-rc3

Bumped version to fwknop-2.0.0-rc3
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1313720712,1313720712,1e494aba2ec806bec8f670c5378cf6dd5624c012
1e494aba2ec806bec8f670c5378cf6dd5624c012,1e494aba,Added ChangeLog derived from git commit messages.,"Added ChangeLog derived from git commit messages.

There will be branch and release specific ChangeLog files as well.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1313716438,1313716438,409c08ac5c3f6310306ddba9b34c985db491722c
409c08ac5c3f6310306ddba9b34c985db491722c,409c08ac,Renamed ChangeLog -> ChangeLog.old for new ChangeLog handling,"Renamed ChangeLog -> ChangeLog.old for new ChangeLog handling

The ChangeLog will be derived from commit messages.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1313716209,1313716209,b9122f648e57a9f3cfa84c3462ab2463fe04e275
b9122f648e57a9f3cfa84c3462ab2463fe04e275,b9122f64,Update to add any missing iptables jump rules,"Update to add any missing iptables jump rules

Upon the receipt of a valid SPA packet, a check is done to make sure that
a jump rule from the appropriate built-in iptables chains exists to the
fwknop chains.  Such rules could have been deleted by other manipulations
of the iptables policy, so it is important to ensure they exist.  Running
in foreground (-f) mode, here is an illustration of the jump rule being
added after it got deleted:

SPA Packet from IP: 127.0.0.1 received.
Added jump rule from chain: INPUT to chain: FWKNOP_INPUT
Added Rule to FWKNOP_INPUT for 127.0.0.1, tcp/22 expires at 1313680648
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1313714251,1313714251,acdf15f158c32bb12b141ecb8bd37fae5f7bfcb1
acdf15f158c32bb12b141ecb8bd37fae5f7bfcb1,acdf15f1,Update to force base64 check for all SPA data,"Update to force base64 check for all SPA data

Previous to this change a check was done for base64 characters in incoming
SPA data only up to MIN_SPA_DATA_SIZE.  This check may be reinstantiated for
SPA packets that are delivered over HTTP (and the packet data is embedded
within a URL that may also contain non-base64 chars), but in the meantime the
fwknopd daemon should not accept SPA packets over arbitrary ports with any
non-base64 chars.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1313630643,1313630643,92b7e2588ee64f253720cf8d819ee64f42333aee
92b7e2588ee64f253720cf8d819ee64f42333aee,92b7e258,Updated replay warnings to include proto/port info,"Updated replay warnings to include proto/port info

Replay warnings now include port and protocol information.  Here is an example:

SPA Packet from IP: 127.0.0.1 received.
Replay detected from source IP: 127.0.0.1
        Destination proto/port: 17/62201
            Original source IP: 127.0.0.1
       Original dst proto/port: 17/62201
                 Entry created: 08/17/11 21:06:07
                  First replay: 08/17/11 21:06:32
                   Last replay: 08/17/11 21:06:45
                  Replay count: 7
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1313629655,1313629655,df96e42c51b6847d91575dfd68f8cb23ba3aa318
df96e42c51b6847d91575dfd68f8cb23ba3aa318,df96e42c,"Added stack protection, PIE, fortify source, etc.","Added stack protection, PIE, fortify source, etc.

Added various security options that can be enabled at compile time.  These
options include everything that the ""hardening-check"" script written by Kees
Cook checks for.  After this change, the hardening-check script produces the
following output against the fwknopd binary:

$ hardening-check server/.libs/fwknopd
server/.libs/fwknopd:
 Position Independent Executable: yes
 Stack protected: yes
 Fortify Source functions: yes
 Read-only relocations: yes
 Immediate binding: yes

One of the compile outputs (for example) that shows the new options is:

/bin/bash ../libtool --tag=CC   --mode=compile gcc -DHAVE_CONFIG_H -I. -I..     -g -O2 -fstack-protector-all -fPIE -pie -D_FORTIFY_SOURCE=2 -Wl,-z,relro -Wl,-z,now -MT fko_decode.lo -MD -MP -MF .deps/fko_decode.Tpo -c -o fko_decode.lo fko_decode.c

From the hardening-check man page, here is a description of each of these
options:

NAME
       hardening-check - check binaries for security hardening features

SYNOPSIS
       Examine a given set of ELF binaries and check for several security
       hardening features, failing if they are not all found.

DESCRIPTION
       This utility checks a given list of ELF binaries for several security
       hardening features that can be compiled into an executable.  These
       features are:

       Position Independent Executable
               This indicates that the executable was built in such a way
               (PIE) that the ""text"" section of the program can be relocated
               in memory.  To take full advantage of this feature, the
               executing kernel must support text Address Space Layout
               Randomization (ASLR).

       Stack Protected
               This indicates that the executable was compiled with the
               gcc(1) option -fstack-protector.  The program will be
               resistant to have its stack overflowed.

       Fortify Source functions
               This indicates that the executable was compiled with
               -D_FORTIFY_SOURCE=2 and -O2 or higher.  This causes certain
               unsafe glibc functions with their safer counterparts (e.g.
               strncpy instead of strcpy).

       Read-only relocations
               This indicates that the executable was build with -Wl,-z,relro
               to have ELF markings (RELRO) that ask the runtime linker to
               mark any regions of the relocation table as ""read-only"" if
               they were resolved before execution begins.  This reduces the
               possible areas of memory in a program that can be used by an
               attacker that performs a successful memory corruption exploit.

       Immediate binding
               This indicates that the executable was built with -Wl,-z,now
               to have ELF markings (BIND_NOW) that ask the runtime linker to
               resolve all relocations before starting program execution.
               When combined with RELRO above, this further reduces the
               regions of memory available to memory corruption attacks.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1313627788,1313627788,60b6a5a4d8a3075ef5d0bc7025859f704ef90bb0
60b6a5a4d8a3075ef5d0bc7025859f704ef90bb0,60b6a5a4,Minor variable cleanup to fix compiler warnings,"Minor variable cleanup to fix compiler warnings

Minor cleanup to fix compiler warnings about unused variables.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1313376369,1313376369,e7d275ee312c618c3233a504c5aa54b72312f39a
e7d275ee312c618c3233a504c5aa54b72312f39a,e7d275ee,Added fwknop-2.0.0rc2 openwrt support from Jonathan Bennett,"Added fwknop-2.0.0rc2 openwrt support from Jonathan Bennett

Applied a patch sent from Jonathan Bennett to add fwknop-2.0.0rc2 support to
openwrt.  One thing to note about this patch is that the +libgdbm library
dependency has been removed because fwknop now implements its own digest
tracking file without needing gdbm/ndbm on the system.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1313373329,1313373329,878fae8e8a22ea2c34ca544e84e163347835f361
878fae8e8a22ea2c34ca544e84e163347835f361,878fae8e,Implemented memory clean up for digest cache list,"Implemented memory clean up for digest cache list

Upon fwknopd shutdown, a new function free_replay_list() is now called in order
to free heap allocated memory dedicated to SPA digest tracking.  Without this
fix, valgrind reports the following (some output snipped):

valgrind --leak-check=full ./server/.libs/fwknopd -f -i lo -P ""udp port 62201""

==30864== 431 (48 direct, 383 indirect) bytes in 1 blocks are definitely lost in loss record 17 of 17
==30864==    at 0x4C27480: calloc (vg_replace_malloc.c:467)
==30864==    by 0x407CB7: replay_check_file_cache (replay_cache.c:461)
==30864==    by 0x407B69: replay_check (replay_cache.c:413)
==30864==    by 0x405813: incoming_spa (incoming_spa.c:363)
==30864==    by 0x406275: pcap_capture (pcap_capture.c:223)
==30864==    by 0x40317D: main (fwknopd.c:297)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1313365370,1313365370,5ee6715cffe9dd4bbed3c0c3eaa75b5dc618b9a6
5ee6715cffe9dd4bbed3c0c3eaa75b5dc618b9a6,5ee6715c,Consolidated replay warnings in a single function,"Consolidated replay warnings in a single function

For both the simple digest file cache and the gdbm/ndbm tracking methods, all
replay warnings are generated by a single function ""replay_warning()"".
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1313339785,1313339785,c13cca4aa18317e462c4900e3779de67fa194e21
c13cca4aa18317e462c4900e3779de67fa194e21,c13cca4a,Added digest file import code,"Added digest file import code

The digest file is now imported as a linked list of digest cache entries at
init time for SPA replay attack detection.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1313289352,1313289352,941a4aa9a39ca5a42ecec92a6fa6908ebcc2c9f2
941a4aa9a39ca5a42ecec92a6fa6908ebcc2c9f2,941a4aa9,Added source port and protocol to digest tracking,"Added source port and protocol to digest tracking

Added the source port and protocol fields to valid SPA packets in the digest
cache.  This can help to discover replay trends.  The format of the digest
file cache is now:

<digest> <proto> <src_ip> <src_port> <dst_ip> <dst_port> <time>
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1313283654,1313283654,6982a72c07e11ef632922e7bc63d65141149a091
6982a72c07e11ef632922e7bc63d65141149a091,6982a72c,Added dst IP to tracked SPA data,"Added dst IP to tracked SPA data

The digest cache now contains destination IP addresses of valid SPA packets.
The complete format is now:

<digest> <src_ip> <dst_ip> <creation time>
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1313200844,1313200844,4197e51c9d9421604c3a0985f1f4820e8547c731
4197e51c9d9421604c3a0985f1f4820e8547c731,4197e51c,Started on code to parse the digest cache file,"Started on code to parse the digest cache file

At init time fwknopd will read in the digest cache file into the in-memory
linked list of digests for SPA replay detection. This commit starts on this
code, but the file format does not yet include destination IP addresses
(to be added in an upcoming commit).
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1313199787,1313199787,459cfb4d45c40e62c5c74ed86db638f6a5b6bbbb
459cfb4d45c40e62c5c74ed86db638f6a5b6bbbb,459cfb4d,Implemented linked list cache of SPA digests,"Implemented linked list cache of SPA digests

When not using gdbm/ndbm support (the default now), fwknopd implements a linked
list of SPA packet digests for replay attack detection along with writing
digest data in ascii text down to disk (in the CONF_DIGEST_FILE file).
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1313194560,1313194560,e443550e5f7745b0958525713f4ad097c2c7a398
e443550e5f7745b0958525713f4ad097c2c7a398,e443550e,Merge branch 'master' into optional_dbm_support,"Merge branch 'master' into optional_dbm_support
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1313030478,1313030478,"52c795634b75156b6fe87e656eef3a8e0f986aef,d2c50858435eecb7f2d73574c7d03d44f1d02307"
d2c50858435eecb7f2d73574c7d03d44f1d02307,d2c50858,Added --pcap-filter to the fwknopd command line,"Added --pcap-filter to the fwknopd command line

To override the value of the PCAP_FILTER variable in the fwknopd.conf
config file, a new fwknopd command line argument ""--pcap-filter"" was
added.  This assists in various activities by making it trivial to
change how fwknopd acquires packet data without editing the fwknopd.conf
file.  Here is an example:

fwknopd -i lo -f --pcap-filter ""udp port 12345""
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1313030281,1313030281,1e47243574d96ad3aa1f98f31e76b312f275a9cb
52c795634b75156b6fe87e656eef3a8e0f986aef,52c79563,Updated digest file path for gdbm/ndbm support,"Updated digest file path for gdbm/ndbm support

If fwknopd is compiled with --disable-file-cache to the ./configure script
then it will assume that the default filename is ""digest_db.cache"" for the
digest cache.  If the file cache method is used (this is the default), then
""digest.cache"" is the default filename.  A new variable DIGEST_DB_FILE in
the fwknopd.conf file controls the digest filename if gdbm/ndbm support is
required.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1313028445,1313028445,0525cd4a5caebad8c7f16d33df81e8b9cae1f4d9
0525cd4a5caebad8c7f16d33df81e8b9cae1f4d9,0525cd4a,Added autoconf support for non-dbm file cache.,"Added autoconf support for non-dbm file cache.

This change starts on support for a simple file-based cache mechanism
for tracking SPA digests.  This removes the libgdbm/libndbm dependency
by default, but it can be re-enabled with the --disable-file-cache
argument to the ./configure script.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1313024202,1313024202,2dd7c4aac7a309ef51189d58eadb900a1e94615c
2dd7c4aac7a309ef51189d58eadb900a1e94615c,2dd7c4aa,Minor rename in support of non-dbm file cache,"Minor rename in support of non-dbm file cache

Added the optional_dbm_support branch and made a minor renaming change
on this branch for the coming non-dbm file cache support.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1312858168,1312858168,1e47243574d96ad3aa1f98f31e76b312f275a9cb
1e47243574d96ad3aa1f98f31e76b312f275a9cb,1e472435,Bug fix for uninitialized variable found with splint static analyzer,"Bug fix for uninitialized variable found with splint static analyzer

In the save_args() function the args_str_len variable was being used before
being initialized as reported via the splint static code analysis tool.  Here
is the splint output that found this bug:

client/fwknop.c:650:13: Variable args_str_len used before definition
  An rvalue is used that may not be initialized to a value on some execution
  path. (Use -usedef to inhibit warning)
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1312856662,1312856662,69f41eb3999eea1e907a5a71c7e83cd18600fca6
69f41eb3999eea1e907a5a71c7e83cd18600fca6,69f41eb3,Set FD_CLOEXEC on pid file descriptor.,"Set FD_CLOEXEC on pid file descriptor.
Added support for setting the URL for resolving source IP via command-line or the .fwknoprc file.
",,,,Damien Stuart,dstuart@dstuart.org,Damien Stuart,dstuart@dstuart.org,1310040769,1310040769,ca5f82c067f837637356175cfd365cc4bf66bf5e
ca5f82c067f837637356175cfd365cc4bf66bf5e,ca5f82c0,Removed legacy $Id$ tags from svn,"Removed legacy $Id$ tags from svn

$Id$ tags don't really mean anything to git so they have been removed from all
source files.
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1308444820,1308444820,39e7412bb8958ed7af693b2d6d59e32b55e67901
39e7412bb8958ed7af693b2d6d59e32b55e67901,39e7412b,Added a no-digest-cache configure option and capability (though it is not recommended).,"Added a no-digest-cache configure option and capability (though it is not recommended).

git-svn-id: file:///home/mbr/svn/fwknop/trunk@313 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1301193521,1301193521,03361fea743dec2e975f31490058a2470394aec3
03361fea743dec2e975f31490058a2470394aec3,03361fea,Fix check and handling of ndbm as an option for the digest cache.,"Fix check and handling of ndbm as an option for the digest cache.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@312 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1301157182,1301157182,6c050b481ca8b8d812d74de5ee6630ab3954f7a6
6c050b481ca8b8d812d74de5ee6630ab3954f7a6,6c050b48,Added python/fko.py to Makefile.am so it is also included in distributions. …,"Added python/fko.py to Makefile.am so it is also included in distributions.  Minor tweak to address compile error on Mac os X.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@311 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1297516711,1297516711,4b0c280948af39872082b0ae95ebf59f5670ce9e
4b0c280948af39872082b0ae95ebf59f5670ce9e,4b0c2809,Minor update to the android README,"Minor update to the android README

git-svn-id: file:///home/mbr/svn/fwknop/trunk@310 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1293939166,1293939166,a24a2eed8f4b75bdfae65d3c9eb7797b87f863e1
a24a2eed8f4b75bdfae65d3c9eb7797b87f863e1,a24a2eed,Adding Max Kastanas's fwknop client app code for Android,"Adding Max Kastanas's fwknop client app code for Android

git-svn-id: file:///home/mbr/svn/fwknop/trunk@309 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1293937133,1293937133,d8f282143ed1c32629a7f82e828a5f33410ed2d5
d8f282143ed1c32629a7f82e828a5f33410ed2d5,d8f28214,Removed unnecessary include.,"Removed unnecessary include.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@308 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1293915624,1293915624,225e36414d25a421b84bc831111f0319c2ab13d6
225e36414d25a421b84bc831111f0319c2ab13d6,225e3641,Additional docs and classes added to the fko python module.  Minor tweak and…,"Additional docs and classes added to the fko python module.  Minor tweak and bumped version in the fwknop.spec file.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@307 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1291563841,1291563841,9d821548e79eb719e99eb8f45248fb5f7b3449ff
9d821548e79eb719e99eb8f45248fb5f7b3449ff,9d821548,Fixed bug where libfko would segfault if fko_get_spa_data() was called before…,"Fixed bug where libfko would segfault if fko_get_spa_data() was called before fko_spa_data_final() was called (and successful).  Added include of time.h in fko.h.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@306 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1291561021,1291561021,966b9bdccc32a3ba910cf09c50b8648ac1b4c4a5
966b9bdccc32a3ba910cf09c50b8648ac1b4c4a5,966b9bdc,Do not need parens around expression in if statements in python (still learning).,"Do not need parens around expression in if statements in python (still learning).

git-svn-id: file:///home/mbr/svn/fwknop/trunk@305 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1291499854,1291499854,4e5326660cd30ec2865609c14839a6cf4bcf9542
4e5326660cd30ec2865609c14839a6cf4bcf9542,4e532666,Added pydoc text to the fko python module. Minot tweak to setup.py.,"Added pydoc text to the fko python module. Minot tweak to setup.py.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@304 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1291435937,1291435937,b6bf1d28bf1e13af872585b7f2533727f8762525
b6bf1d28bf1e13af872585b7f2533727f8762525,b6bf1d28,Added the Fko class code to wrap the _fko wrapper around libfko.,"Added the Fko class code to wrap the _fko wrapper around libfko.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@303 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1290827938,1290827938,00bc99a966a8e80126d2ab5bccb96e1c1d44e89e
00bc99a966a8e80126d2ab5bccb96e1c1d44e89e,00bc99a9,Minor comment and documentation tweaks.  Add the python directory which contains…,"Minor comment and documentation tweaks.  Add the python directory which contains my first cut at a libfko Python wrapper module.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@302 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1290786660,1290786660,04ebf6c2ad9109ec58038dbcb5a31157f8a4d664
04ebf6c2ad9109ec58038dbcb5a31157f8a4d664,04ebf6c2,Added code to zero out rcfile path before setting it.  Also added a bounds check to that as well.,"Added code to zero out rcfile path before setting it.  Also added a bounds check to that as well.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@301 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1289693792,1289693792,0f6ca00ac492551e2a10cd220b7839f065042dc7
0f6ca00ac492551e2a10cd220b7839f065042dc7,0f6ca00a,Updated the GPL blurb at the top of the source files.  Added some missing…,"Updated the GPL blurb at the top of the source files.  Added some missing copyright statements (Thanks to Franck Joncourt).

git-svn-id: file:///home/mbr/svn/fwknop/trunk@300 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1289617476,1289617476,67af7f7921df283985648e5110fc5e488095fa9c
67af7f7921df283985648e5110fc5e488095fa9c,67af7f79,Updated perl module for additional error messages.,"Updated perl module for additional error messages.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@299 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1289403009,1289403009,781218e7e197e5e964876473a78b87b9d5496857
781218e7e197e5e964876473a78b87b9d5496857,781218e7,Bumped version to rc3 (even though we may go straight to release) and lib rev to 3.,"Bumped version to rc3 (even though we may go straight to release) and lib rev to 3.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@298 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1288489528,1288489528,d84112adcab11303e549a31f50cdad36a0a54d8e
d84112adcab11303e549a31f50cdad36a0a54d8e,d84112ad,Update added HAVE_ERRNO_H 1 to win32/config.h.,"Update added HAVE_ERRNO_H 1 to win32/config.h.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@297 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1288488985,1288488985,a3bafdb36431d3b2c1acd5fc2c6b1e2dd12594ea
a3bafdb36431d3b2c1acd5fc2c6b1e2dd12594ea,a3bafdb3,Needed to bump libfko revision to 2 do identify as part of newer dist.,"Needed to bump libfko revision to 2 do identify as part of newer dist.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@295 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1288455594,1288455594,3c83e899cba26a76a77658c42ebe1b4de7503bdf
3c83e899cba26a76a77658c42ebe1b4de7503bdf,3c83e899,Put the usleep back pcap_capture (oops).,"Put the usleep back pcap_capture (oops).

git-svn-id: file:///home/mbr/svn/fwknop/trunk@293 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1287855287,1287855287,ce6fe8c705e393ae59fac3199fb6ff94f14a7416
ce6fe8c705e393ae59fac3199fb6ff94f14a7416,ce6fe8c7,Tweaks to the fwknop.spec file,"Tweaks to the fwknop.spec file

git-svn-id: file:///home/mbr/svn/fwknop/trunk@291 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1287628797,1287628797,bbe8c9d7a16cf0c139631975b1c1f4aebf10638b
bbe8c9d7a16cf0c139631975b1c1f4aebf10638b,bbe8c9d7,Set pcap non-block mode back on unless it is a freebsd system. Server verbose…,"Set pcap non-block mode back on unless it is a freebsd system. Server verbose output no longer shows access key or GPG password.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@290 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1287625984,1287625984,4f504848a009a43f8cc9131ca504f1207bfffdb4
4f504848a009a43f8cc9131ca504f1207bfffdb4,4f504848,Fixed handling of man page generation in Makefile.am so it works from alternate build directories.,"Fixed handling of man page generation in Makefile.am so it works from alternate build directories.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@289 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1287283941,1287283941,f1e82bc7aeaaec783b4072a19810e9287c939bdf
f1e82bc7aeaaec783b4072a19810e9287c939bdf,f1e82bc7,Minor fwknopd man page tweak.,"Minor fwknopd man page tweak.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@288 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1283047573,1283047573,1381f183747caff1adca701c30f3b2996fcccda9
1381f183747caff1adca701c30f3b2996fcccda9,1381f183,Made autoconf print an error message indicating ipf is not supported if it is…,"Made autoconf print an error message indicating ipf is not supported if it is specified.  Changelog updates.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@287 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1283046658,1283046658,6bcebe565c9d2f691ba5f6d032ffeca379416973
6bcebe565c9d2f691ba5f6d032ffeca379416973,6bcebe56,Made fw_cleanup not remove rules from the expired rule set.  Added code to read…,"Made fw_cleanup not remove rules from the expired rule set.  Added code to read in any existing expired rules into the rule_map at startup.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@286 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1283045524,1283045524,ff9dad6fd9eec3bfd32076a3c9847cb669c64388
ff9dad6fd9eec3bfd32076a3c9847cb669c64388,ff9dad6f,Wrapped #ifdef around a linux-specific chunk.,"Wrapped #ifdef around a linux-specific chunk.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@285 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1282946976,1282946976,c4c158c1ba24158b48e842ea8a837a24b90c3d5d
c4c158c1ba24158b48e842ea8a837a24b90c3d5d,c4c158c1,Missed a config file update on the last check-in.,"Missed a config file update on the last check-in.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@284 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1282863407,1282863407,cdff077bb67f158e60f4d3a1643d70a3e3ac871f
cdff077bb67f158e60f4d3a1643d70a3e3ac871f,cdff077b,Added rule expire and purge for ipfw.  Almost there...,"Added rule expire and purge for ipfw.  Almost there...

git-svn-id: file:///home/mbr/svn/fwknop/trunk@283 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1282619375,1282619375,51c21b318f01793012861018c83ff0040e867591
51c21b318f01793012861018c83ff0040e867591,51c21b31,Start of addition of access requests via ipfw.,"Start of addition of access requests via ipfw.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@282 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1282531423,1282531423,b0de05c70ada1893ea3ab6750196232c97f72f29
b0de05c70ada1893ea3ab6750196232c97f72f29,b0de05c7,minor off-by-one fix for home directory path separator,"minor off-by-one fix for home directory path separator

git-svn-id: file:///home/mbr/svn/fwknop/trunk@281 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1281749202,1281749202,ea19245f99f59acc4ca056423828e6b06d036cbd
ea19245f99f59acc4ca056423828e6b06d036cbd,ea19245f,minor bug fix to account for PATH_SEP being defined as a character instead of a string,"minor bug fix to account for PATH_SEP being defined as a character instead of a string

git-svn-id: file:///home/mbr/svn/fwknop/trunk@280 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1281579543,1281579543,838b80fd7d7b822cfeecce9f2dc34c6ca49f68cd
838b80fd7d7b822cfeecce9f2dc34c6ca49f68cd,838b80fd,Refactored firewall rule code to separate files by firewall type.  Stubbed in…,"Refactored firewall rule code to separate files by firewall type.  Stubbed in ipfw and ipf firewall types.  Updated autoconf to set a firewall type and path depending on configure arguments.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@279 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1281407349,1281407349,c1f67b900d4124084be115921e331533fb515b17
c1f67b900d4124084be115921e331533fb515b17,c1f67b90,Uncommented call to check_firewall_rules (left in while debugging freebsd build).,"Uncommented call to check_firewall_rules (left in while debugging freebsd build).

git-svn-id: file:///home/mbr/svn/fwknop/trunk@278 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1281294096,1281294096,dcd6106a4bf0cc5646c790c252c9e246b4307b81
dcd6106a4bf0cc5646c790c252c9e246b4307b81,dcd6106a,Oops left out new header for last update.,"Oops left out new header for last update.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@277 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1281293813,1281293813,6126b7b7ca8b5b0db5c13b5b9f64a70d42b6402f
6126b7b7ca8b5b0db5c13b5b9f64a70d42b6402f,6126b7b7,Updates to accomodate building and compiling on FreeBSD systems.,"Updates to accomodate building and compiling on FreeBSD systems.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@276 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1281293615,1281293615,51adbe26a2e27d449a6dc439ee8354b5e7a9a31e
51adbe26a2e27d449a6dc439ee8354b5e7a9a31e,51adbe26,Tweaks to autoconf files.,"Tweaks to autoconf files.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@275 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1280628783,1280628783,55e9fe41e172e5f36557902b91e82155d62e39ab
55e9fe41e172e5f36557902b91e82155d62e39ab,55e9fe41,Added some OpenWRT-related files to the extras directory.,"Added some OpenWRT-related files to the extras directory.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@274 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1280603482,1280603482,9c2cd267bffb88113acc486cda371a80257773b8
9c2cd267bffb88113acc486cda371a80257773b8,9c2cd267,Fixed issue with spaces in in access.conf comma-separated values.  Fixed issue…,"Fixed issue with spaces in in access.conf comma-separated values.  Fixed issue with GPG signature check being forced when GPG_REMOTE_ID is set and GPG_REQUIRE_SIG was ""N"". Updated dependency in the spec file. Updates to ChangeLog.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@273 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1280599448,1280599448,7dc24c133e0a135ca891e20e62f718660bd49c02
7dc24c133e0a135ca891e20e62f718660bd49c02,7dc24c13,Bug fix for USE_NDBM variable so that client-only builds work.  The specific,"Bug fix for USE_NDBM variable so that client-only builds work.  The specific
error before the patch along with the command line invocation of the
""configure"" script appear below:

$ ./configure --prefix=/usr --disable-server
[...]
configure: error: conditional ""USE_NDBM"" was never defined.
Usually this means the macro was only invoked conditionally.




git-svn-id: file:///home/mbr/svn/fwknop/trunk@272 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1280401313,1280401313,35f71a82fd02f4dbc99d65f5e931651c73d7709c
35f71a82fd02f4dbc99d65f5e931651c73d7709c,35f71a82,Added extras directory.  Bumped version in autoconf to 1.0.0rc2.,"Added extras directory.  Bumped version in autoconf to 1.0.0rc2.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@271 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1280072451,1280072451,94130067a6554893601d81f0b1cf7812e810ca0d
94130067a6554893601d81f0b1cf7812e810ca0d,94130067,Cleaned out some old commented-out sections configure.ac and fixed an issue…,"Cleaned out some old commented-out sections configure.ac and fixed an issue where exteranl file checks would fail when running configure in cross-compiler environment.  No code changes made.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@269 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1279507166,1279507166,3111e5868b56b16bd3eee39cdd8a4b64924a513c
3111e5868b56b16bd3eee39cdd8a4b64924a513c,3111e586,Removed a debug print statement.,"Removed a debug print statement.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@268 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1279418179,1279418179,bf8586922e9e81b74aa2ef35093f29ec9007c900
bf8586922e9e81b74aa2ef35093f29ec9007c900,bf858692,Added check to make sure a firewall program is set.,"Added check to make sure a firewall program is set.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@267 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1279313270,1279313270,aa0cc1c699c7102598f7db2fa4e61ad6dc6cda9e
aa0cc1c699c7102598f7db2fa4e61ad6dc6cda9e,aa0cc1c6,Per Franck Joncourt - Corrected misspelled word in fwknopd man page and access.conf.,"Per Franck Joncourt - Corrected misspelled word in fwknopd man page and access.conf.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@266 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1279311275,1279311275,b0886a1d4938d2ce940816b6ef857ef7a0acfa5f
b0886a1d4938d2ce940816b6ef857ef7a0acfa5f,b0886a1d,Updates and clean-up to address the many compiler warnings when compiled with…,"Updates and clean-up to address the many compiler warnings when compiled with -Wall. Also some autoconf updates

git-svn-id: file:///home/mbr/svn/fwknop/trunk@265 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1279290512,1279290512,c3da912fc282f22bab11aa1fd65c2b709a5a5344
c3da912fc282f22bab11aa1fd65c2b709a5a5344,c3da912f,Updated the version number in the win32 config.h copy,"Updated the version number in the win32 config.h copy

git-svn-id: file:///home/mbr/svn/fwknop/trunk@264 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1279242551,1279242551,8cfa222761f5282af16bccbdec569324bf0c689d
8cfa222761f5282af16bccbdec569324bf0c689d,8cfa2227,Fixed some misplaced dependencies in the fwknop.spec file.,"Fixed some misplaced dependencies in the fwknop.spec file.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@263 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1279240757,1279240757,4c995c146badb1a4689b8e0889e2c04adcd8ef18
4c995c146badb1a4689b8e0889e2c04adcd8ef18,4c995c14,Almost all he conf variables have a default value if they are not there (or…,"Almost all he conf variables have a default value if they are not there (or set). All the entries in the initial fwknop.conf file are not commented out adn can be override as needed.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@262 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1279157896,1279157896,d904f5637f15a50b15d543a67181647dce63c9cb
d904f5637f15a50b15d543a67181647dce63c9cb,d904f563,"removed additional wait() call from run_extcmd(), updated --fw-list to just use…","removed additional wait() call from run_extcmd(), updated --fw-list to just use system() to execute the iptables listing commands

git-svn-id: file:///home/mbr/svn/fwknop/trunk@261 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1279076331,1279076331,6f4ff9cb69f6d3089791636d369b9698508e701f
6f4ff9cb69f6d3089791636d369b9698508e701f,6f4ff9cb,added --fw-list arg to the fwknopd daemon to list all current firewall rules for…,"added --fw-list arg to the fwknopd daemon to list all current firewall rules for any running fwknopd process

git-svn-id: file:///home/mbr/svn/fwknop/trunk@260 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1278994147,1278994147,ed9170e506d104577caca79e849e0017ca8252b2
ed9170e506d104577caca79e849e0017ca8252b2,ed9170e5,- added is_valid_dir() utility function for checking directory stat()/existence (this,"- added is_valid_dir() utility function for checking directory stat()/existence (this
is used for gpg keyring path validation).



git-svn-id: file:///home/mbr/svn/fwknop/trunk@259 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1278899329,1278899329,f03b2786eba1c3d263494b249e48b534e9461773
f03b2786eba1c3d263494b249e48b534e9461773,f03b2786,Added the fwknopd_errors.[ch] files which provides the get_errstr() and…,"Added the fwknopd_errors.[ch] files which provides the get_errstr() and fwknopd_errstr() functions.  The get_errstr() function takes and error_code, tries to determine the type, then calls the appropriate xxx_errstr function to return a description string.  Fixed some minor errors in the libfko API docs.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@258 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1278879392,1278879392,390ea80df7d4c9c8ad94bc135f0de100d2c35705
390ea80df7d4c9c8ad94bc135f0de100d2c35705,390ea80d,Moved force set of verify flag on remote_id value to before decryption phase.,"Moved force set of verify flag on remote_id value to before decryption phase.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@257 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1278857063,1278857063,3c5c8f1da7c19da68a63a8571756105c8f75d17b
3c5c8f1da7c19da68a63a8571756105c8f75d17b,3c5c8f1d,Reverted last libfko change. Added set verify_sig flag when remote_ids are specified.,"Reverted last libfko change. Added set verify_sig flag when remote_ids are specified.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@256 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1278856544,1278856544,647fc3e64d9a9215b2066879528a6634d828638f
647fc3e64d9a9215b2066879528a6634d828638f,647fc3e6,Removed checks for sig verification flag on gpg_sig info related functions.,"Removed checks for sig verification flag on gpg_sig info related functions.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@255 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1278855378,1278855378,eed35a8f1cec59d3de67d04666fc46e5ece5fe15
eed35a8f1cec59d3de67d04666fc46e5ece5fe15,eed35a8f,minor update to check the gpg keyring path setting in access stanzas only if a…,"minor update to check the gpg keyring path setting in access stanzas only if a decrypt password is specified

git-svn-id: file:///home/mbr/svn/fwknop/trunk@254 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1278851851,1278851851,05fdf6f3196d4a64663d564c12385c1316bf5943
05fdf6f3196d4a64663d564c12385c1316bf5943,05fdf6f3,minor macro update to define the default gpg keyring,"minor macro update to define the default gpg keyring

git-svn-id: file:///home/mbr/svn/fwknop/trunk@253 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1278816552,1278816552,688ae8d4f0a20b2f130acba3d25018a4d8ca0351
688ae8d4f0a20b2f130acba3d25018a4d8ca0351,688ae8d4,"Updated to define a default gpg keyring path of /root/.gnupg, and if the GPG_HOME_DIR variable","Updated to define a default gpg keyring path of /root/.gnupg, and if the GPG_HOME_DIR variable
is not defined in the fwknopd.conf file or the access.conf file, then this default will take
over.


git-svn-id: file:///home/mbr/svn/fwknop/trunk@252 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1278816338,1278816338,a0b813ca55671cf7493df73d8b8db8f3e0792e95
a0b813ca55671cf7493df73d8b8db8f3e0792e95,a0b813ca,"Reworked how man pages are generated. Now, man pages in the client and server…","Reworked how man pages are generated. Now, man pages in the client and server directory are ""fwknop(d).8.in"" and a target was added to Makefile.am to create the man pages while doing variable substitutions based on directives specified via the configure script.  Minor tweak to fwknop.spec file.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@251 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1278811632,1278811632,492b1db86101de2d31db3d0883ff29494f652b59
492b1db86101de2d31db3d0883ff29494f652b59,492b1db8,Slightly revamped how signals were setup.,"Slightly revamped how signals were setup.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@250 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1278780112,1278780112,4a85c6fd258c643333f90238f2fddc2fc3374408
4a85c6fd258c643333f90238f2fddc2fc3374408,4a85c6fd,Modified top-level Makefile.am so the legacy perl stuff is not packaged into the…,"Modified top-level Makefile.am so the legacy perl stuff is not packaged into the distribution tar file.  More cleanup of the fwknopd man page.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@249 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1278722921,1278722921,153d1ec96259398635e9ee32117904742bd42b16
153d1ec96259398635e9ee32117904742bd42b16,153d1ec9,Added AC_SYS_LARGE_FILE to configure.ac,"Added AC_SYS_LARGE_FILE to configure.ac

git-svn-id: file:///home/mbr/svn/fwknop/trunk@248 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1278699521,1278699521,9c6377aff641034e45a63e31bd7c1fc3f64ce998
9c6377aff641034e45a63e31bd7c1fc3f64ce998,9c6377af,Manpage updates,"Manpage updates

git-svn-id: file:///home/mbr/svn/fwknop/trunk@247 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1278641362,1278641362,b83733f00dcf0e79e998cd2235c511bec6509934
b83733f00dcf0e79e998cd2235c511bec6509934,b83733f0,Renamed the legacy perl verison of fwknop.spec to fwkop-legacy.spec to resolve…,"Renamed the legacy perl verison of fwknop.spec to fwkop-legacy.spec to resolve rpmbuild confusion when using the -tx options.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@246 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1278554855,1278554855,a80b392d2720d0f05ea970436968ef0d2cf47545
a80b392d2720d0f05ea970436968ef0d2cf47545,a80b392d,Fixed another oops in the spec file.,"Fixed another oops in the spec file.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@245 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1278554532,1278554532,9d2a4c247175ef83bb40e4aadd2af81e19f4b423
9d2a4c247175ef83bb40e4aadd2af81e19f4b423,9d2a4c24,Fixed autoconf config so libfko and fwknop client are not linked with libpcap…,"Fixed autoconf config so libfko and fwknop client are not linked with libpcap and libgdbm. Fixed some issues in the fwknop.spec file.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@244 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1278554391,1278554391,21e2c95364aa74b31c0223d657516f049e57f25b
21e2c95364aa74b31c0223d657516f049e57f25b,21e2c953,Use USERPROFILE instead of HOME for homedir determination on win32 builds.,"Use USERPROFILE instead of HOME for homedir determination on win32 builds.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@243 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1278524806,1278524806,e63f1de1e3edef0e23fc7911014ea4f5f2d84b5b
e63f1de1e3edef0e23fc7911014ea4f5f2d84b5b,e63f1de1,Removed unreferenced variables.,"Removed unreferenced variables.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@242 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1278524180,1278524180,bbb8f7bcc6081900529162a2948cfd834de08fd9
bbb8f7bcc6081900529162a2948cfd834de08fd9,bbb8f7bc,Fixed issues found by the Windows compiler (that I would think would have been flagged by gcc).,"Fixed issues found by the Windows compiler (that I would think would have been flagged by gcc).

git-svn-id: file:///home/mbr/svn/fwknop/trunk@241 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1278523941,1278523941,b098a07f045e00b03b678fc9fc9ee3ff35ffffcf
b098a07f045e00b03b678fc9fc9ee3ff35ffffcf,b098a07f,Fixed bug where ALLOW_IP of resolve was not overridden by an ALLOW_IP parameter…,"Fixed bug where ALLOW_IP of resolve was not overridden by an ALLOW_IP parameter in a named stanza.  Removed erroneous invalid parameter from the initially generated .fwknoprc file.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@240 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1278517642,1278517642,2e03feabef665f8116ffaa0e69ea4ef46ff8e1b6
2e03feabef665f8116ffaa0e69ea4ef46ff8e1b6,2e03feab,Minor cleanup on the spec file.,"Minor cleanup on the spec file.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@239 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1278470395,1278470395,2a67766589b7f629d604ab656f4143a6f3fa700b
2a67766589b7f629d604ab656f4143a6f3fa700b,2a677665,Added fwknop.spec for rpm builds. Removed the server post install hook as it…,"Added fwknop.spec for rpm builds. Removed the server post install hook as it breaks make distcheck and rpm builds.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@238 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1278469921,1278469921,7308180c22113acf0a4debf77360a030ad8b58db
7308180c22113acf0a4debf77360a030ad8b58db,7308180c,Fixed bug where named-stanza was not being found when it indeed existed.,"Fixed bug where named-stanza was not being found when it indeed existed.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@237 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1278442959,1278442959,d7fc21d254b803a3dfa5d50d7ebfc70e1269deea
d7fc21d254b803a3dfa5d50d7ebfc70e1269deea,d7fc21d2,Fixed bad param name in generated .fwknoprc file.,"Fixed bad param name in generated .fwknoprc file.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@236 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1278382326,1278382326,e9c0f415414abb2b287ff15d0f973ed5d01aa38f
e9c0f415414abb2b287ff15d0f973ed5d01aa38f,e9c0f415,Added installation hook to set the perms on the .conf files to 600 during make…,"Added installation hook to set the perms on the .conf files to 600 during make install.  Minot doc tweak.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@235 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1278377973,1278377973,5035cf0fed040da379f4f81fea905bec837c9790
5035cf0fed040da379f4f81fea905bec837c9790,5035cf0f,Added .fwknoprc file creation and processing.  This allows for saved default and…,"Added .fwknoprc file creation and processing.  This allows for saved default and named configuration profiles.  Updated fwknop manpage  to reflect the new capability.  Also cleaned up messages (errors, info) from the program.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@234 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1278370143,1278370143,a1531a56e3668352279e04ebd1c85907d9eb0c29
a1531a56e3668352279e04ebd1c85907d9eb0c29,a1531a56,"Due to issues and usage restrictions on whatismyip.com, I am making the default…","Due to issues and usage restrictions on whatismyip.com, I am making the default resolve_ip_http url www.cipherdyne.org/cgi-bin/myip.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@233 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1278296324,1278296324,8129f86ddd069e928daa2e97561a51763a0aaa70
8129f86ddd069e928daa2e97561a51763a0aaa70,8129f86d,"More cleanup.  Removed the direction field (src, dst, both) from the chain…","More cleanup.  Removed the direction field (src, dst, both) from the chain configuration directives.  Remove the HOSTNAME parameter as it was not used.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@232 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1278277971,1278277971,5f1f0650ead7e1b8a70e5bbbef6aa6befb18a247
5f1f0650ead7e1b8a70e5bbbef6aa6befb18a247,5f1f0650,Put locale code back in.  More cleanup of config directives and options.,"Put locale code back in.  More cleanup of config directives and options.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@231 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1278250471,1278250471,b6c57aa6a0f8a7e29aeebd9588ca49278c870e62
b6c57aa6a0f8a7e29aeebd9588ca49278c870e62,b6c57aa6,Changed the way running external commands are hanlded to address issues with it…,"Changed the way running external commands are hanlded to address issues with it not working on some systems/configurations.  Just using system and popen and fw commands are run with stdout and stderr tied to gether.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@230 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1278122848,1278122848,3c3d75abb57b2513eca14df4951f8bdafce47340
3c3d75abb57b2513eca14df4951f8bdafce47340,3c3d75ab,applied patch from Franck to catch a couple of man page typos,"applied patch from Franck to catch a couple of man page typos

git-svn-id: file:///home/mbr/svn/fwknop/trunk@229 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1277955882,1277955882,14e844f3f2838dc4401c59cba54c1ffcff89e4fd
14e844f3f2838dc4401c59cba54c1ffcff89e4fd,14e844f3,"Updates to TCP server to close the lock file handle, use a non-blocking socket,…","Updates to TCP server to close the lock file handle, use a non-blocking socket, and detect when the parent fwknop dies so it can exit as well.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@228 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1277953952,1277953952,b217c6a1fa6fde872df0148d3cf1c4c05fd691e1
b217c6a1fa6fde872df0148d3cf1c4c05fd691e1,b217c6a1,Added the GPG signature checking code. Added GPG_REQUIRE_SIG and…,"Added the GPG signature checking code. Added GPG_REQUIRE_SIG and GPG_IGNORE_SIG_VERIFY_ERROR parameters to access.conf.  Implement the checking of GPG signature IDs against the GPG_REOMOTE_ID list.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@227 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1277779259,1277779259,b7ede1625d03323b60e0696eb37fff9355027e4e
b7ede1625d03323b60e0696eb37fff9355027e4e,b7ede162,Added support for COMMAND_MSG requests.  Also added CMD_EXEC_USER to access.conf…,"Added support for COMMAND_MSG requests.  Also added CMD_EXEC_USER to access.conf to allow for fwknopd to setuid to the specified user before running the command.  Other minor tweaks.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@226 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1277773211,1277773211,b95d222d3c8cab0ad7e9b68ef3279f3cbb8a0d69
b95d222d3c8cab0ad7e9b68ef3279f3cbb8a0d69,b95d222d,"More tweaks, clean-up and documentation tweaks for the first release.  Made…","More tweaks, clean-up and documentation tweaks for the first release.  Made client http-proxy option allow case insensitive match and to take an option :port as part of the argument.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@225 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1277672876,1277672876,fe09438921e45127cf4aae19621f135b20c098fb
fe09438921e45127cf4aae19621f135b20c098fb,fe094389,Start of cleanup for beta release candidate.  Removed locale-related code (for…,"Start of cleanup for beta release candidate.  Removed locale-related code (for now) as it was breaking some things like logging. removed some unimplemented and/or unused parameters and config directives (as well as thier respective documentation references.  Added a --rotate-digest-cache command-line arg to force a rename of the digest cache file and start a new one.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@224 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1277346696,1277346696,b57ada4c169be31cd481c63c61b2d11df72e1679
b57ada4c169be31cd481c63c61b2d11df72e1679,b57ada4c,More updates to take care of warnings on Ubuntu systems (fixes for common sense…,"More updates to take care of warnings on Ubuntu systems (fixes for common sense warnings that should have come up om my Fedora system but didn't).

git-svn-id: file:///home/mbr/svn/fwknop/trunk@223 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1277170129,1277170129,aef097a31f4c0afe508b878f23fc3dc4f54de287
aef097a31f4c0afe508b878f23fc3dc4f54de287,aef097a3,Some tweaks to the sigchld handling in the server. Other misc minor cleanup.,"Some tweaks to the sigchld handling in the server. Other misc minor cleanup.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@222 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1277169282,1277169282,68b171ddd4ce2cf97cd17eb2ba816589b66c1a00
68b171ddd4ce2cf97cd17eb2ba816589b66c1a00,68b171dd,More tweaks.  Added SIGCHLD handler and code to try to restart the TCP server if…,"More tweaks.  Added SIGCHLD handler and code to try to restart the TCP server if it dies for whatever reason.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@221 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1277090667,1277090667,315f3e677843ba9e1efc8d03104f759859aa0d62
315f3e677843ba9e1efc8d03104f759859aa0d62,315f3e67,Tweak to client usage message output.  Added TCP server funcionality to the…,"Tweak to client usage message output.  Added TCP server funcionality to the server (call it a first cut).

git-svn-id: file:///home/mbr/svn/fwknop/trunk@220 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1277075752,1277075752,3915f1b7aacd169ad7a82c1ba0e05c43514fa428
3915f1b7aacd169ad7a82c1ba0e05c43514fa428,3915f1b7,Added support for parsing and processing SPA requests over HTTP.  Beefed up…,"Added support for parsing and processing SPA requests over HTTP.  Beefed up verbose logging a bit.  Added some more sanity checks on the validity of incoming SPA data before attempting to decode.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@219 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1277047361,1277047361,63b4da38dcd320e18b74641fac42ddad11876aa4
63b4da38dcd320e18b74641fac42ddad11876aa4,63b4da38,Mostly documentation file updates.,"Mostly documentation file updates.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@218 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1276910119,1276910119,dc6058d3a5b325ae07bfa6309cccf90fcec3802f
dc6058d3a5b325ae07bfa6309cccf90fcec3802f,dc6058d3,Tweaked firewall rule creation code. Added SNAT/MASQUERADE support.  Fixed rule…,"Tweaked firewall rule creation code. Added SNAT/MASQUERADE support.  Fixed rule processing code so an INPUT rule was not created for NAT request.  Still needs more review and testing.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@217 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1276657920,1276657920,579ec77698efeccbc933d7bcfbd0431577a1ed20
579ec77698efeccbc933d7bcfbd0431577a1ed20,579ec776,Added support for FWKNOP_OUTPUT_ACCESS and NAT_ACCESS modes (still needs testing and tweaking).,"Added support for FWKNOP_OUTPUT_ACCESS and NAT_ACCESS modes (still needs testing and tweaking).

git-svn-id: file:///home/mbr/svn/fwknop/trunk@216 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1276570217,1276570217,fa12602f096c7a8428d6265820b9b9f3db4f1e90
fa12602f096c7a8428d6265820b9b9f3db4f1e90,fa12602f,Very minor comment and code tweaks (mostly just an excuse to test the relocation…,"Very minor comment and code tweaks (mostly just an excuse to test the relocation of the svn server).

git-svn-id: file:///home/mbr/svn/fwknop/trunk@215 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1275962564,1275962564,aad2daadbfe4285fb9ece3153d7517ce9041f8d0
aad2daadbfe4285fb9ece3153d7517ce9041f8d0,aad2daad,First cut at creating access rules and removing them when they expire (not sure…,"First cut at creating access rules and removing them when they expire (not sure I like this implementation but it is a start).

git-svn-id: file:///home/mbr/svn/fwknop/trunk@214 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1274059646,1274059646,bf9e165165021db01828da6a67a2488e3606a70e
bf9e165165021db01828da6a67a2488e3606a70e,bf9e1651,Added the fwknopd.8 man page.,"Added the fwknopd.8 man page.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@213 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1272206641,1272206641,0008cdc86c0e329a98f78cd786a5e0ac1c86bf0c
0008cdc86c0e329a98f78cd786a5e0ac1c86bf0c,0008cdc8,Minor tweaks to firewall rules processing and external command execution code.,"Minor tweaks to firewall rules processing and external command execution code.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@212 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1271210342,1271210342,83a10b96f6a121240e738fda9a8b123a65bf1992
83a10b96f6a121240e738fda9a8b123a65bf1992,83a10b96,Started firewall rule processing.  Added rule initialization.  Added some of the…,"Started firewall rule processing.  Added rule initialization.  Added some of the initial routines for external command execution with ability to capture stdout, stderr, and exit status.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@211 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1271076117,1271076117,9282a0fd29ab1d5363daf68bee361eadf936363d
9282a0fd29ab1d5363daf68bee361eadf936363d,9282a0fd,Changed to fix possible double-free bug under some circumstances.,"Changed to fix possible double-free bug under some circumstances.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@210 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1268538303,1268538303,f3c33c273bf18fab710e31da19d1e2aeac4b3ddd
f3c33c273bf18fab710e31da19d1e2aeac4b3ddd,f3c33c27,Added an initial fwknopd.8 man page (and source asciidoc).  Added the --locale…,"Added an initial fwknopd.8 man page (and source asciidoc).  Added the --locale and --no-locale command-line option support. The set_config_entry function now allows setting a config entry to NULL to clear and free it.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@209 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1265747022,1265747022,d24b19ec946e67d216eff3fa5d78dd1fda160fcc
d24b19ec946e67d216eff3fa5d78dd1fda160fcc,d24b19ec,Updated TODO list (removed items that were compled and/or deprecated).,"Updated TODO list (removed items that were compled and/or deprecated).

git-svn-id: file:///home/mbr/svn/fwknop/trunk@208 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1265513446,1265513446,43731722892392820fa629c4402f547e5fa96efa
43731722892392820fa629c4402f547e5fa96efa,43731722,Tweaks to eliminate warnings on win32 build of libfko and client.,"Tweaks to eliminate warnings on win32 build of libfko and client.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@207 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1265484474,1265484474,7ba6482afb1823b8562cda590394df347d922243
7ba6482afb1823b8562cda590394df347d922243,7ba6482a,Forgot to remove the m4 dir from Makefil.am,"Forgot to remove the m4 dir from Makefil.am

git-svn-id: file:///home/mbr/svn/fwknop/trunk@206 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1265482693,1265482693,d0373a5b3386f5e459d069bb619a572207ec1e57
d0373a5b3386f5e459d069bb619a572207ec1e57,d0373a5b,Fixed libfko so gpgme engine is gpg by default.  Added functions to libfko to…,"Fixed libfko so gpgme engine is gpg by default.  Added functions to libfko to set/get path to gpgme engine. Fixed some memory leaks. Reworkd the get_user_pw routine.  Added code in fwknopd to put back the ""hQ"" string on the front of incoming GPG-encypted message data. Removed the previously add pretty-print routine to configure.  Updated configure to check for path to gpg executable.  Updated docs accordingly.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@205 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1265427834,1265427834,02e5d45bf0ca861acc89d206d80404689949f7c2
02e5d45bf0ca861acc89d206d80404689949f7c2,02e5d45b,Bumped working version to 2.0.0-alpha-pre2 to differentiate from the tagged…,"Bumped working version to 2.0.0-alpha-pre2 to differentiate from the tagged 2.0.0-alpha-pre1.  Updated Changelog.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@204 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1264902169,1264902169,e3bd3b703e8a6cab07c0e0d24f145da40b0fe1cb
e3bd3b703e8a6cab07c0e0d24f145da40b0fe1cb,e3bd3b70,Added additional sanity checks and clean-up of access.conf processing and…,"Added additional sanity checks and clean-up of access.conf processing and functionality.  Fixes require source and added check for required username.  Added fallback to use GPG_DECRYPT_PW if it was set and the normal KEY failed with a decyption error. Fixed packet count checks to allow a limit of 0 to mean unlimited number of packets.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@203 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1264882973,1264882973,903f5f466c76d4bf617e93bdf50a67d02f4108a6
903f5f466c76d4bf617e93bdf50a67d02f4108a6,903f5f46,updated to call dump_access_list() if -D was given to dump config information,"updated to call dump_access_list() if -D was given to dump config information

git-svn-id: file:///home/mbr/svn/fwknop/trunk@202 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1263951263,1263951263,e8b875789b107283cad7d4079e9e86d4273bf53c
e8b875789b107283cad7d4079e9e86d4273bf53c,e8b87578,Update to call parse_proto_and_port() before allocating a new port list.  This,"Update to call parse_proto_and_port() before allocating a new port list.  This
fixes the following stack trace when generating an SPA packet that contains
""none/0"" for the port list:

Program received signal SIGABRT, Aborted.
0x00007ffff74574b5 in *__GI_raise (sig=<value optimized out>) at ../nptl/sysdeps/unix/sysv/linux/raise.c:64
64      ../nptl/sysdeps/unix/sysv/linux/raise.c: No such file or directory.
        in ../nptl/sysdeps/unix/sysv/linux/raise.c
(gdb) where
#0  0x00007ffff74574b5 in *__GI_raise (sig=<value optimized out>) at ../nptl/sysdeps/unix/sysv/linux/raise.c:64
#1  0x00007ffff745af50 in *__GI_abort () at abort.c:92
#2  0x00007ffff748fc97 in __libc_message (do_abort=<value optimized out>, fmt=<value optimized out>) at ../sysdeps/unix/sysv/linux/libc_fatal.c:189
#3  0x00007ffff7499dd6 in malloc_printerr (action=3, str=0x7ffff755b748 ""double free or corruption (fasttop)"", ptr=<value optimized out>) at malloc.c:6217
#4  0x00007ffff749e74c in *__GI___libc_free (mem=<value optimized out>) at malloc.c:3716
#5  0x000000000040570c in free_acc_port_list (acc=0x60a1c0, port_str=0x7fffffffdc20 ""none/0"") at access.c:390
#6  acc_check_port_access (acc=0x60a1c0, port_str=0x7fffffffdc20 ""none/0"") at access.c:892
#7  0x0000000000403f4a in incoming_spa (opts=<value optimized out>) at incoming_spa.c:229
#8  0x00000000004041eb in pcap_capture (opts=0x7fffffffde40) at pcap_capture.c:155
#9  0x0000000000402ba7 in main (argc=9, argv=0x7fffffffe6e8) at fwknopd.c:241



git-svn-id: file:///home/mbr/svn/fwknop/trunk@201 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1263950436,1263950436,b34c506a90e9fe4eda22c5dec367179f5ca36d5c
b34c506a90e9fe4eda22c5dec367179f5ca36d5c,b34c506a,bug fix to ensure the --last-cmd re-parsing of command line args via…,"bug fix to ensure the --last-cmd re-parsing of command line args via getopt_long() has a reset index

git-svn-id: file:///home/mbr/svn/fwknop/trunk@200 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1263950292,1263950292,daca01a2c656a3103db502b1aca6c338b31d2534
daca01a2c656a3103db502b1aca6c338b31d2534,daca01a2,Added minor validation code to access.conf parsing to ensure that a SOURCE stanza,"Added minor validation code to access.conf parsing to ensure that a SOURCE stanza
begins with the SOURCE variable and that there is at least one usage of the
OPEN_PORTS and KEY variables.  The OPEN_PORTS requirement might be relaxed when
PERMIT_CLIENT_PORTS handling is added.


git-svn-id: file:///home/mbr/svn/fwknop/trunk@199 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1263869497,1263869497,ca531c3dccc804acad9101d61eeb5daa5c09d065
ca531c3dccc804acad9101d61eeb5daa5c09d065,ca531c3d,bug fix in --packet-limit handling to ensure multi-packet processing when the arg is not used,"bug fix in --packet-limit handling to ensure multi-packet processing when the arg is not used

git-svn-id: file:///home/mbr/svn/fwknop/trunk@198 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1263869321,1263869321,33cb0d48269ec95866eade22bbe854d6955bed35
33cb0d48269ec95866eade22bbe854d6955bed35,33cb0d48,added --server-cmd arg to fwknop client man page and help output,"added --server-cmd arg to fwknop client man page and help output

git-svn-id: file:///home/mbr/svn/fwknop/trunk@197 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1263679754,1263679754,cee622aab5779012d0d233cec118c4a37538ac34
cee622aab5779012d0d233cec118c4a37538ac34,cee622aa,added --last-cmd argument to fwknop(8) man page via the fwknop.man.asciidoc file,"added --last-cmd argument to fwknop(8) man page via the fwknop.man.asciidoc file

git-svn-id: file:///home/mbr/svn/fwknop/trunk@196 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1263676287,1263676287,1092e6ef4676562518899ddb37fbda7b485567e3
1092e6ef4676562518899ddb37fbda7b485567e3,1092e6ef,* Fixed a few minor warnings like the following:,"* Fixed a few minor warnings like the following:

cipher_funcs.c:85: warning: ignoring return value of ‘fread’, declared with attribute warn_unused_result

A few of these were in code in the lib/ directory, and required adding a
new error code 'FKO_ERROR_FILESYSTEM_OPERATION' and associated error
string 'Read/write bytes mismatch'.




git-svn-id: file:///home/mbr/svn/fwknop/trunk@195 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1263653976,1263653976,80bde174adb5378a1589dd66a14feba19bc21454
80bde174adb5378a1589dd66a14feba19bc21454,80bde174,(legacy code) (test suite) Bug fix for GnuPG SPA/HTTP tests not pointing to the…,"(legacy code) (test suite) Bug fix for GnuPG SPA/HTTP tests not pointing to the proper HTTP output file

git-svn-id: file:///home/mbr/svn/fwknop/trunk@194 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1263652522,1263652522,d1fae9bee1e0c9a8b2afa8c4a90b9a78e2e7b2d8
d1fae9bee1e0c9a8b2afa8c4a90b9a78e2e7b2d8,d1fae9be,"* Added a new command line argument ""--last-cmd"" to run the fwknop client","* Added a new command line argument ""--last-cmd"" to run the fwknop client
with the same command line arguments as the previous time it was
executed.  The previous arguments are parsed out of the ~/.fwknop.run
file (if it exists).
* Bug fix to not send any SPA packet out on the wire if a NULL password/key
is provided to the fwknop client.  This could happen if the user tried to
abort fwknop execution by sending the process a SIGINT while being
prompted to enter the password/key for SPA encryption.



git-svn-id: file:///home/mbr/svn/fwknop/trunk@193 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1263603941,1263603941,4e128083457b775ab552a620016f0623761490f3
4e128083457b775ab552a620016f0623761490f3,4e128083,Added support for multiple GPG_REMOTE_ID values from access.conf (still need to…,"Added support for multiple GPG_REMOTE_ID values from access.conf (still need to implement the use of those however).  Also, went back to support colons (:) as an optional part of the access.conf parameter name (better to keep backward compatibility).

git-svn-id: file:///home/mbr/svn/fwknop/trunk@192 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1263173618,1263173618,d2ec56b6ce493d81ffb293386212c0f578836534
d2ec56b6ce493d81ffb293386212c0f578836534,d2ec56b6,minor update to the fwknop client to use '#define GETOPTS_OPTION_STRING' for,"minor update to the fwknop client to use '#define GETOPTS_OPTION_STRING' for
getopt() command line arg processing.



git-svn-id: file:///home/mbr/svn/fwknop/trunk@191 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1263046942,1263046942,bcdef1938a75a625394ee892457a3142af57e4c2
bcdef1938a75a625394ee892457a3142af57e4c2,bcdef193,Commented out AM_MAINTAINER_MODE.,"Commented out AM_MAINTAINER_MODE.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@190 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1262747145,1262747145,b32c23e12ec45d270478f4ff8a94dc3ee9c18fcb
b32c23e12ec45d270478f4ff8a94dc3ee9c18fcb,b32c23e1,added -a arg to fwknopd usage() output,"added -a arg to fwknopd usage() output

git-svn-id: file:///home/mbr/svn/fwknop/trunk@189 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1262739203,1262739203,be37cecda17f44c9ef875b894b47d5239a8916a9
be37cecda17f44c9ef875b894b47d5239a8916a9,be37cecd,Updated changelog.  Made the fwknop.man.asciidoc match the changes made to the fwknopd.8 manpage.,"Updated changelog.  Made the fwknop.man.asciidoc match the changes made to the fwknopd.8 manpage.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@188 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1262650016,1262650016,11cedcf3eb610e9e747cd74d7d5de897cff4f02a
11cedcf3eb610e9e747cd74d7d5de897cff4f02a,11cedcf3,Added --access-file command line arg to fwknopd so that the path to the,"Added --access-file command line arg to fwknopd so that the path to the
access.conf file can be specified from the command line.


git-svn-id: file:///home/mbr/svn/fwknop/trunk@187 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1262578138,1262578138,ed6a01d9965e692f4455c7d80ac89c1e68e67054
ed6a01d9965e692f4455c7d80ac89c1e68e67054,ed6a01d9,removed unnecessary --no-save arg since --no-save-args covers it,"removed unnecessary --no-save arg since --no-save-args covers it

git-svn-id: file:///home/mbr/svn/fwknop/trunk@186 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1262565399,1262565399,1d91143a25d1bc17fd9228195423d41c61a4af69
1d91143a25d1bc17fd9228195423d41c61a4af69,1d91143a,added --http-proxy argument to the fwknop.8 man page,"added --http-proxy argument to the fwknop.8 man page

git-svn-id: file:///home/mbr/svn/fwknop/trunk@185 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1262565363,1262565363,5c5d8d92dfdeae86f878add69f866d38efe0c205
5c5d8d92dfdeae86f878add69f866d38efe0c205,5c5d8d92,added --http-proxy and --no-save-args to usage() output,"added --http-proxy and --no-save-args to usage() output

git-svn-id: file:///home/mbr/svn/fwknop/trunk@184 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1262565306,1262565306,055aa365cb91b8c937113736b96d9c7757084fe4
055aa365cb91b8c937113736b96d9c7757084fe4,055aa365,Added access.conf handling and processing.  Added a new acces.conf parameter:…,"Added access.conf handling and processing.  Added a new acces.conf parameter: RESTRICT_PORTS for specifying 1 or more proto/ports that are explicitly not allowed.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@183 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1262564419,1262564419,852a65394248bc75e531200cff1331af405e77e9
852a65394248bc75e531200cff1331af405e77e9,852a6539,minor spacing fix,"minor spacing fix

git-svn-id: file:///home/mbr/svn/fwknop/trunk@182 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1262554077,1262554077,ba68afc37b833a8d0d3e920b9f6d85b3645a9da7
ba68afc37b833a8d0d3e920b9f6d85b3645a9da7,ba68afc3,added Id tag expansion,"added Id tag expansion

git-svn-id: file:///home/mbr/svn/fwknop/trunk@181 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1262494345,1262494345,510702dc1834a47c096f412fe62ff29cd273f2e4
510702dc1834a47c096f412fe62ff29cd273f2e4,510702dc,added Id tag expansion,"added Id tag expansion

git-svn-id: file:///home/mbr/svn/fwknop/trunk@180 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1262494191,1262494191,153a0964e2d1e7a6fccaf7cfd7d58bbec057c7e2
153a0964e2d1e7a6fccaf7cfd7d58bbec057c7e2,153a0964,Added --packet-limit to fwknopd so that the number of incoming candidate,"Added --packet-limit to fwknopd so that the number of incoming candidate
SPA packets can be limited from the command line.  When this limit is
reached (any packet that contains application layer data and passes the
pcap filter is included in the count) then fwknopd exits.



git-svn-id: file:///home/mbr/svn/fwknop/trunk@179 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1262493457,1262493457,9e4efa55baf3c97f1855ad3d24c51c8fd3472f63
9e4efa55baf3c97f1855ad3d24c51c8fd3472f63,9e4efa55,minor update to include the -f arg in the usage() output,"minor update to include the -f arg in the usage() output

git-svn-id: file:///home/mbr/svn/fwknop/trunk@178 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1262484026,1262484026,909ff4eaecbf78d3bc1b7e5ffaa9958dd4c40892
909ff4eaecbf78d3bc1b7e5ffaa9958dd4c40892,909ff4ea,Added check for and create of run dir and/or basename of digest_cache (if…,"Added check for and create of run dir and/or basename of digest_cache (if different from run dir). Added set_locale() call based on LOCALE setting in the conf file.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@177 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1262450527,1262450527,d8dc9be9412b8103f4f6b68e45ba84d0d21507c1
d8dc9be9412b8103f4f6b68e45ba84d0d21507c1,d8dc9be9,Added check for SPA packet age against the MAX_SPA_PACKET_AGE if ENABLE…,"Added check for SPA packet age against the MAX_SPA_PACKET_AGE if ENABLE SPA_PACKET_AGING is set to ""Y"" in the conf file.  Made the digest cache check only of ENABLE_DIGEST_PERSISTENCE is ""Y"".

git-svn-id: file:///home/mbr/svn/fwknop/trunk@176 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1262117812,1262117812,142d07142bc60860c01807675b5ad9668c78ca10
142d07142bc60860c01807675b5ad9668c78ca10,142d0714,Fixed incorrect variable in configure.ac.,"Fixed incorrect variable in configure.ac.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@175 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1262060874,1262060874,b8235802032a7069d1574c266a5749866a54cb33
b8235802032a7069d1574c266a5749866a54cb33,b8235802,Added configure args for specifying specific pathes to the local executables used by fwknopd.,"Added configure args for specifying specific pathes to the local executables used by fwknopd.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@174 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1262058992,1262058992,2310b366ee16f3e5f1a59c2c07e9081d3123d1de
2310b366ee16f3e5f1a59c2c07e9081d3123d1de,2310b366,Made local exe checks run only of a server is being built.  Removed checks for…,"Made local exe checks run only of a server is being built.  Removed checks for external progs that may not be needed yet.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@173 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1262054747,1262054747,861c0e8e1a87b8bdac7118b81dfc13de722d5260
861c0e8e1a87b8bdac7118b81dfc13de722d5260,861c0e8e,Autoconf updates for detecting locally installed program paths and changes to…,"Autoconf updates for detecting locally installed program paths and changes to facilitate portability.  Also set AM_MAINTAINER_MODE so we are not forced to regen/reconfigure when we change one of the autoconf source files (but we do now need to remember to do it ourselves before making a new dist).

git-svn-id: file:///home/mbr/svn/fwknop/trunk@172 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1261970455,1261970455,f6b98cab8791b248ed95a56d79abd60e60fd4107
f6b98cab8791b248ed95a56d79abd60e60fd4107,f6b98cab,The default conf and run directories are captured from the autoconf output. …,"The default conf and run directories are captured from the autoconf output.  Added post install hook to create the xxx/var/run/fwknop directory (which works, but breaks the ""make distcheck"" feature of autoconf). Changed order of config processing and set conf struct for some default and overridden parameters so they will be shown properly when -D is used.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@171 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1261143829,1261143829,814d7d3565269592670316fa6f9c9729bf15b8ae
814d7d3565269592670316fa6f9c9729bf15b8ae,814d7d35,Fixed bug in signal handling when libpcap version 1.0 is used.  Minor doc update.,"Fixed bug in signal handling when libpcap version 1.0 is used.  Minor doc update.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@170 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1260157733,1260157733,fecdd4a76462b4dd6bbeaee516622def0d64a9a0
fecdd4a76462b4dd6bbeaee516622def0d64a9a0,fecdd4a7,bumped version to 2.0.0-alpha-pre1,"bumped version to 2.0.0-alpha-pre1

git-svn-id: file:///home/mbr/svn/fwknop/trunk@168 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1258694222,1258694222,4d2521bcd8f07e649f78ea6c04919ead76c32afb
4d2521bcd8f07e649f78ea6c04919ead76c32afb,4d2521bc,minor bug fix to not append --Server-port option in --rand-port mode,"minor bug fix to not append --Server-port option in --rand-port mode

git-svn-id: file:///home/mbr/svn/fwknop/trunk@167 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1258694166,1258694166,7401ef9644dc4715b8612ab1250b1e81c057819a
7401ef9644dc4715b8612ab1250b1e81c057819a,7401ef96,minor bug fix to ensure that -R resolution work with…,"minor bug fix to ensure that -R resolution work with --URL=http://www.cipherdyne.org/cgi/clientip.cgi

git-svn-id: file:///home/mbr/svn/fwknop/trunk@166 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1258694144,1258694144,867990aa7d09acbf7c24878d917007e98318ada8
867990aa7d09acbf7c24878d917007e98318ada8,867990aa,* (Legacy code) Bug fix to allow the --rand-port argument to function along,"* (Legacy code) Bug fix to allow the --rand-port argument to function along
without an inappropriate check for the --Server-port arg.


git-svn-id: file:///home/mbr/svn/fwknop/trunk@165 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1258692752,1258692752,fc8e8dd2dcc54c90118cc1a0556d9d3b60c33f92
fc8e8dd2dcc54c90118cc1a0556d9d3b60c33f92,fc8e8dd2,(Legacy code) Applied patch from Jonthan Bennett to support the usage of,"(Legacy code) Applied patch from Jonthan Bennett to support the usage of
the http_proxy environmental variable for sending SPA packets through an
HTTP proxy.  The patch also adds support for specifying an HTTP proxy
user and password via the following syntax:

'http://username:password@proxy.com:port' or
'http://username:password@proxy.com'



git-svn-id: file:///home/mbr/svn/fwknop/trunk@164 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1257138330,1257138330,5cf8813eac21edec19cc5dbf754df11e32cc3240
5cf8813eac21edec19cc5dbf754df11e32cc3240,5cf8813e,"Updated digest cache to store additional information including src ip, created,…","Updated digest cache to store additional information including src ip, created, first_replay, last_replay, and replay count.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@163 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1257126416,1257126416,2145aeac5b9e010d973b7d7eaa9f56c1a0e6155c
2145aeac5b9e010d973b7d7eaa9f56c1a0e6155c,2145aeac,added the latest http proxy fixes to the ChangeLog,"added the latest http proxy fixes to the ChangeLog

git-svn-id: file:///home/mbr/svn/fwknop/trunk@162 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1256701934,1256701934,9dfe63e8582a9efe4cbd71219d4ee18b48900753
9dfe63e8582a9efe4cbd71219d4ee18b48900753,9dfe63e8,"added Daniel Lopez, and Jonathan Bennett's proxy fix","added Daniel Lopez, and Jonathan Bennett's proxy fix

git-svn-id: file:///home/mbr/svn/fwknop/trunk@161 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1256701890,1256701890,8614cc1f625664d16068a714cabfdadb9c106125
8614cc1f625664d16068a714cabfdadb9c106125,8614cc1f,- Added --http-proxy argument to the fwknop C client.,"- Added --http-proxy argument to the fwknop C client.
- (Legacy code): Changed HTTP proxy handling to point an SPA packet to
an HTTP proxy with -D specifying the end point host and --HTTP-proxy
pointing to the proxy host.  This fix was suggested by Jonathan Bennett.


git-svn-id: file:///home/mbr/svn/fwknop/trunk@160 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1256701137,1256701137,38590801e06fffc3b231af0c6ef231853d7519fb
38590801e06fffc3b231af0c6ef231853d7519fb,38590801,Added better --debug output for time differences on incoming SPA packets.  This makes it,"Added better --debug output for time differences on incoming SPA packets.  This makes it
easier to tell when there are problems with time synchronization between the fwknop client
and fwknopd server systems.


git-svn-id: file:///home/mbr/svn/fwknop/trunk@159 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1256485682,1256485682,8cd0864ab076aa851628965f08b74d5163352de6
8cd0864ab076aa851628965f08b74d5163352de6,8cd0864a,Added --List-mode so that identifying strings for tests can be printed on stdout.  This is,"Added --List-mode so that identifying strings for tests can be printed on stdout.  This is
useful to see what is available for --test-include regex's.


git-svn-id: file:///home/mbr/svn/fwknop/trunk@158 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1256485595,1256485595,7f95651feda44a1929cdc3df712a9d28f657b51f
7f95651feda44a1929cdc3df712a9d28f657b51f,7f95651f,Fixed minor typo in the POD synopsis (thanks Franck!).,"Fixed minor typo in the POD synopsis (thanks Franck!).

git-svn-id: file:///home/mbr/svn/fwknop/trunk@157 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1255996356,1255996356,b0edb8cafea3f34ed2f394b125e61b422f46e1e5
b0edb8cafea3f34ed2f394b125e61b422f46e1e5,b0edb8ca,updated to handle the fwknop-c version string '2.0.0-alpha' in HTTP tests,"updated to handle the fwknop-c version string '2.0.0-alpha' in HTTP tests

git-svn-id: file:///home/mbr/svn/fwknop/trunk@156 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1255883525,1255883525,34745aa8be48ad4b07897fa052548e63d4c1a17c
34745aa8be48ad4b07897fa052548e63d4c1a17c,34745aa8,Fixed missed MY_DBM_CLOSE call,"Fixed missed MY_DBM_CLOSE call

git-svn-id: file:///home/mbr/svn/fwknop/trunk@155 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1255876528,1255876528,4b8e3e974b218c688774ab51e046d16fd5ba8a2b
4b8e3e974b218c688774ab51e046d16fd5ba8a2b,4b8e3e97,Changed digest cache to use gdbm directly wth fallback to ndbm (still not tested).,"Changed digest cache to use gdbm directly wth fallback to ndbm (still not tested).

git-svn-id: file:///home/mbr/svn/fwknop/trunk@154 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1255875966,1255875966,8c1261ca39fba47568542b8afdb5ca1b16cadf3e
8c1261ca39fba47568542b8afdb5ca1b16cadf3e,8c1261ca,Fixed memory leak issue in libfko when fko_new_with_data() was called with a bad…,"Fixed memory leak issue in libfko when fko_new_with_data() was called with a bad key.  Added autoconf checks for gdbm with fallback to ndbm for server builds. Added digest cache capability using gdbm (in ndbm compatibility mode) or ndbm for replay detection.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@153 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1255659782,1255659782,8b4b55fa4450c271cd39934cebb53b4e766b3147
8b4b55fa4450c271cd39934cebb53b4e766b3147,8b4b55fa,Added stubs and some handling for signals.  SIGHUP induces the re-reading the…,"Added stubs and some handling for signals.  SIGHUP induces the re-reading the configs and restarting the capture loop.  SIGTERM and SIGINT simply trigger a graceful exit.  Trimmed some more of the configuration options.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@152 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1255282965,1255282965,e399f39c395010337b368bd1547aeca68bda33e9
e399f39c395010337b368bd1547aeca68bda33e9,e399f39c,"Updated sniffer to be able to handle the linux ""any"" interface.","Updated sniffer to be able to handle the linux ""any"" interface.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@151 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1254097989,1254097989,5a72c4fca76ef29bbb52a6333dfbedde08498741
5a72c4fca76ef29bbb52a6333dfbedde08498741,5a72c4fc,Updates and enhancements to logging functions.  Now log_msg writes only to…,"Updates and enhancements to logging functions.  Now log_msg writes only to stderr when running in foreground. Default log facility is LOG_DAEMON. Config file options of ENABLE_PACP_PROMISC, HOSTNAME, SYSLOG_IDENTITY, and SYSLOG_FACILITY are processed.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@150 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1254064181,1254064181,8a94aa94126bef1c5d4d7fcef6999c840bec6297
8a94aa94126bef1c5d4d7fcef6999c840bec6297,8a94aa94,Updated pid/lock file handling. Implemetned -K option.,"Updated pid/lock file handling. Implemetned -K option.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@149 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1253762013,1253762013,61c243f827d3b6b68e0111eb931641416cf395d9
61c243f827d3b6b68e0111eb931641416cf395d9,61c243f8,Added some more (stubbed-in) server code and functions. Minor doc tweak.,"Added some more (stubbed-in) server code and functions. Minor doc tweak.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@148 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1252888711,1252888711,8a06e363382d3e9fff3e73759bdbc219e7d64212
8a06e363382d3e9fff3e73759bdbc219e7d64212,8a06e363,Removed the wipe_pw routine as it could result in segfaults when a static key is used.,"Removed the wipe_pw routine as it could result in segfaults when a static key is used.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@147 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1252888633,1252888633,2bf25e62a7ed95057ea7c85c2f1f52dd6fcb7cb2
2bf25e62a7ed95057ea7c85c2f1f52dd6fcb7cb2,2bf25e62,Added perl/legacy distribution (fwknop-1.9.12).  Renamed this distribution from…,"Added perl/legacy distribution (fwknop-1.9.12).  Renamed this distribution from fwknop-c to simply fwknop.  Made the version 2.0.0-alpha.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@143 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1252629804,1252629804,a07decf1d910a9664a7f8002c3d53a34b95761f6
a07decf1d910a9664a7f8002c3d53a34b95761f6,a07decf1,Added some more stuff to deal with byte order identification on Solaris 10 x86 systems.,"Added some more stuff to deal with byte order identification on Solaris 10 x86 systems.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@142 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1252460283,1252460283,4fef98682b278338fbd10ab8ab587407cfbbc4c0
4fef98682b278338fbd10ab8ab587407cfbbc4c0,4fef9868,"More tweaks to config file processing, including simple variable expansion.","More tweaks to config file processing, including simple variable expansion.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@141 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1252204710,1252204710,911361deff49eb051f236bcca4ff3a4a26a22505
911361deff49eb051f236bcca4ff3a4a26a22505,911361de,Minor manpage tweak,"Minor manpage tweak

git-svn-id: file:///home/mbr/svn/fwknop/trunk@140 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1252194075,1252194075,0c87e7395feec4bd17dffd8e3361aec853bb4661
0c87e7395feec4bd17dffd8e3361aec853bb4661,0c87e739,Added override config handling and updated the config_init routines to parse…,"Added override config handling and updated the config_init routines to parse everything in the correct order (i.e. config file, override configs, then command-line).

git-svn-id: file:///home/mbr/svn/fwknop/trunk@139 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1252171935,1252171935,998fe8da0af353f66d11f04e45133738316351db
998fe8da0af353f66d11f04e45133738316351db,998fe8da,Added more server command-line and config file processing code.  Updated…,"Added more server command-line and config file processing code.  Updated autoconf config for new checks and files.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@138 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1252119282,1252119282,791eb4055b767b7e4d0501e5e5273cc244e4525b
791eb4055b767b7e4d0501e5e5273cc244e4525b,791eb405,Added check for libpcap.  More stubbing in on the server code side.,"Added check for libpcap.  More stubbing in on the server code side.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@137 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1252098884,1252098884,f0fa45cec2e501a538d861e70ed81084bba47096
f0fa45cec2e501a538d861e70ed81084bba47096,f0fa45ce,Added fwknop.man.asciidoc to docs and fwknop.8 man page to client (derived from…,"Added fwknop.man.asciidoc to docs and fwknop.8 man page to client (derived from fwknop.man.asciidoc).

git-svn-id: file:///home/mbr/svn/fwknop/trunk@136 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1251948335,1251948335,10c0aabe3860ae47ac32e69db92295b060c18a31
10c0aabe3860ae47ac32e69db92295b060c18a31,10c0aabe,Fixed another minor typo in the doc,"Fixed another minor typo in the doc

git-svn-id: file:///home/mbr/svn/fwknop/trunk@135 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1250043074,1250043074,768606906ee35773f6d3e8d71681545eb9256ed7
768606906ee35773f6d3e8d71681545eb9256ed7,76860690,updated SPA over HTTP packets to always begin the a slash right after the GET…,"updated SPA over HTTP packets to always begin the a slash right after the GET string, updated to print SPA packets over HTTP to stderr in test/verbose mode

git-svn-id: file:///home/mbr/svn/fwknop/trunk@134 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1249960317,1249960317,1781e9e758b6fbeb8a91b60d566aef4ac4b79f3a
1781e9e758b6fbeb8a91b60d566aef4ac4b79f3a,1781e9e7,"Updated ip,port format and value check.","Updated ip,port format and value check.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@133 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1249956291,1249956291,eaa179a6c1384df12d471e8e23b3973816e09e6b
eaa179a6c1384df12d471e8e23b3973816e09e6b,eaa179a6,Changed http_resolve_host code to make it work with or without trailing…,"Changed http_resolve_host code to make it work with or without trailing whitespace in returned content.  Updated the IP address format and value checking code.  Switched back to whatsmyip.com as default IP resolver.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@132 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1249954847,1249954847,08aa1ef2e8bbd8acb20cedaf52e93768f8b12b4a
08aa1ef2e8bbd8acb20cedaf52e93768f8b12b4a,08aa1ef2,Updates to accommodate the Windows build.,"Updates to accommodate the Windows build.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@131 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1249838048,1249838048,78fb936a55966fe2a4bce2a3973d9ab18b0fa62e
78fb936a55966fe2a4bce2a3973d9ab18b0fa62e,78fb936a,Some minor refactoring of the TIME_OFFSET handling. Other minor code formatting tweaks.,"Some minor refactoring of the TIME_OFFSET handling. Other minor code formatting tweaks.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@130 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1249835582,1249835582,1da9ea0f6b55cdb66491f010cf6ce138446eb42c
1da9ea0f6b55cdb66491f010cf6ce138446eb42c,1da9ea0f,Made the configure help message show --disable-xxx as the options for whether or…,"Made the configure help message show --disable-xxx as the options for whether or not to build the server or client.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@129 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1249834790,1249834790,5b3f6f07da34b3f7fba30a30cd49fc6dc297ce02
5b3f6f07da34b3f7fba30a30cd49fc6dc297ce02,5b3f6f07,Forgot to add the server dir.,"Forgot to add the server dir.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@128 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1249832745,1249832745,53b7fae8bb1b61ef5fc165819fd2ca14d96c3c86
53b7fae8bb1b61ef5fc165819fd2ca14d96c3c86,53b7fae8,"Major rearrangement.  Renamed directories: ""fko"" to ""lib"", ""src"" to ""client"".…","Major rearrangement.  Renamed directories: ""fko"" to ""lib"", ""src"" to ""client"". Added ""common"" and ""server"" directories.  Setup autoconf to allow disabling the server and/or client builds.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@127 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1249832596,1249832596,078661e35505817c363bf015e9bbb256930c3b50
078661e35505817c363bf015e9bbb256930c3b50,078661e3,Fixed typo (actually a cut-and-paste remnant) in the doc.,"Fixed typo (actually a cut-and-paste remnant) in the doc.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@126 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1249248466,1249248466,8d789eff4df5ebe95427f003042c7086595950be
8d789eff4df5ebe95427f003042c7086595950be,8d789eff,Update the VS project file for the new SHA digest files and functions.,"Update the VS project file for the new SHA digest files and functions.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@125 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1249238069,1249238069,f011889da05b4d5ed7ce4ff3475b6278f6f1fd7b
f011889da05b4d5ed7ce4ff3475b6278f6f1fd7b,f011889d,Forgot to add the files for the updated SHA digests (oops).,"Forgot to add the files for the updated SHA digests (oops).

git-svn-id: file:///home/mbr/svn/fwknop/trunk@124 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1249237858,1249237858,7f45031cef416e0d0edbea58c7ce051714768ca6
7f45031cef416e0d0edbea58c7ce051714768ca6,7f45031c,Added SHA384 and SHA512 digests.  Tweaks for getting rid of windows warnings.…,"Added SHA384 and SHA512 digests.  Tweaks for getting rid of windows warnings. Use recv instead of read on socket. Bumped version to 0.63 (libfko) and 0.23 (FKO perl module).

git-svn-id: file:///home/mbr/svn/fwknop/trunk@123 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1249237714,1249237714,3029e012389c4ed07fda584b0c4a892ffe32d3e0
3029e012389c4ed07fda584b0c4a892ffe32d3e0,3029e012,added the --resolve-ip-http and --user-agent command line args so the fwknop-c…,"added the --resolve-ip-http and --user-agent command line args so the fwknop-c client can resolve the external network via http://www.cipherdyne.org/cgi/myip.cgi

git-svn-id: file:///home/mbr/svn/fwknop/trunk@121 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1248672801,1248672801,9bc2b1539eab85fdfb54be17237e0650e9860115
9bc2b1539eab85fdfb54be17237e0650e9860115,9bc2b153,"bugfix to order HTTP request headers properly, updated the user agent for SPA…","bugfix to order HTTP request headers properly, updated the user agent for SPA over HTTP to use the options->http_user_agent variable (can be set from the command line)

git-svn-id: file:///home/mbr/svn/fwknop/trunk@120 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1248672474,1248672474,868aa6ee376a05064862b94b8782c6bed6ada2ca
868aa6ee376a05064862b94b8782c6bed6ada2ca,868aa6ee,Added the --source-ip argument to build SPA packets with 0.0.0.0 (the fwknopd…,"Added the --source-ip argument to build SPA packets with 0.0.0.0 (the fwknopd server can wrap access controls around this)

git-svn-id: file:///home/mbr/svn/fwknop/trunk@119 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1248629302,1248629302,a57baa20d077f808881e71ca545869bf7a39cc4f
a57baa20d077f808881e71ca545869bf7a39cc4f,a57baa20,minor doc updates,"minor doc updates

git-svn-id: file:///home/mbr/svn/fwknop/trunk@118 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1248620926,1248620926,17ca88ad4cd34d695c27e16b6c361ec635d440bc
17ca88ad4cd34d695c27e16b6c361ec635d440bc,17ca88ad,"changed the minimum destination SPA port from 1024 to 10,000","changed the minimum destination SPA port from 1024 to 10,000

git-svn-id: file:///home/mbr/svn/fwknop/trunk@117 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1248323704,1248323704,f5849dc68c7185e51dac95a244e64c041a5b1e57
f5849dc68c7185e51dac95a244e64c041a5b1e57,f5849dc6,* Added the --show-last and --no-save command line options to show the,"* Added the --show-last and --no-save command line options to show the
  command line used for the previous fwknop invocation, and to have the
  fwknop client not save its command line arguments.
* Bug fix to force libfko to recalculate the random data embedded in the
  the SPA packet after a random port is acquired via --rand-port or
  --nat-rand-port.  This is a precaution so that an attacker cannot guess
  some of the internal SPA data based on the destination port number.


git-svn-id: file:///home/mbr/svn/fwknop/trunk@116 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1248322624,1248322624,70db22064edac8ff6c25c9c9757f2d81692e8b21
70db22064edac8ff6c25c9c9757f2d81692e8b21,70db2206,"* Got forward and local NAT modes working with the --nat-access,","* Got forward and local NAT modes working with the --nat-access,
  --nat-local, --nat-port, and --nat-randport options.  All NAT modes
  are now passing the fwknop test suite.
* Added the --server-command option to build an SPA packet with a command
  for the server to execute.
* Added the --fw-timeout option for client side timeouts to be specified.
* Added the --time-offset-plus and --time-offset-minus options to allow
  the user to influence the timestamp associated with an SPA packet.
* Added the --rand-port option so that the SPA packet destination port can
  be randomized.


git-svn-id: file:///home/mbr/svn/fwknop/trunk@115 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1248153508,1248153508,3a77e0fefa03f87c615a9b555e7b10acd0512194
3a77e0fefa03f87c615a9b555e7b10acd0512194,3a77e0fe,Fixed some formatting errors in the POD.,"Fixed some formatting errors in the POD.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@114 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1248036499,1248036499,561ba4f7e499045c34f44b607cc4678d15db2e62
561ba4f7e499045c34f44b607cc4678d15db2e62,561ba4f7,Tweaks to cover WIN32 build.  Added print of error if tcp connect() fails.,"Tweaks to cover WIN32 build.  Added print of error if tcp connect() fails.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@113 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1247795523,1247795523,6f79b6fb04090c53bca9abe53fc15e13786587da
6f79b6fb04090c53bca9abe53fc15e13786587da,6f79b6fb,- Added the ability to send SPA packets over valid HTTP requests with,"- Added the ability to send SPA packets over valid HTTP requests with
the fwknop-c client.
- Added support for transmitting SPA packets over IPv6 via TCP and UDP
sockets, and also via HTTP.
- Added GnuPG 'hQ' base64 encoded prefix handling (this prefix is
stripped out of encrypted SPA packet data).
- Added hostname resolution support to the fwknop-c client if the SPA
server is specified as a hostname instead of an IP address.
- Minor bug fix to allow a GnuPG password to be specified via the
--get-key functionality.



git-svn-id: file:///home/mbr/svn/fwknop/trunk@112 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1247726451,1247726451,31ef94024cea1edb3024c9f78efa30794aa81264
31ef94024cea1edb3024c9f78efa30794aa81264,31ef9402,added B64_GPG_PREFIX 'hQ' string for GnuPG prefix handling (similar to the…,"added B64_GPG_PREFIX 'hQ' string for GnuPG prefix handling (similar to the 'Salted__' handling for Rijndael SPA packet encryption

git-svn-id: file:///home/mbr/svn/fwknop/trunk@111 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1247704084,1247704084,111d24c89b6e3e46a1094b2db321ca9e52bf66e9
111d24c89b6e3e46a1094b2db321ca9e52bf66e9,111d24c8,initial stab at libfko server daemon TODO's,"initial stab at libfko server daemon TODO's

git-svn-id: file:///home/mbr/svn/fwknop/trunk@110 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1246592061,1246592061,e0e08f0cf2e8b3ce4a3313aeffe9262fa5320c59
e0e08f0cf2e8b3ce4a3313aeffe9262fa5320c59,e0e08f0c,bug fix suggested by Damien to allow the recompute of the SPA digest to properly…,"bug fix suggested by Damien to allow the recompute of the SPA digest to properly happen when calling spa_digest() with a true value

git-svn-id: file:///home/mbr/svn/fwknop/trunk@109 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1246236732,1246236732,5ba9f1ecf9f70acae3209841ee9ecaeb8e954bfc
5ba9f1ecf9f70acae3209841ee9ecaeb8e954bfc,5ba9f1ec,Fixed spa access message validation routine to allow for multiple…,"Fixed spa access message validation routine to allow for multiple comma-separated requests in one message.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@108 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1246213164,1246213164,0bec8bd141d3aa851faad2e42cacf9c97422d9d8
0bec8bd141d3aa851faad2e42cacf9c97422d9d8,0bec8bd1,Tweaks to the win32 build (Visual Studio project configs).,"Tweaks to the win32 build (Visual Studio project configs).

git-svn-id: file:///home/mbr/svn/fwknop/trunk@107 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1245111539,1245111539,591e5be81e33f24c73dc48d95f839dcb7791be45
591e5be81e33f24c73dc48d95f839dcb7791be45,591e5be8,minor typo fix (gps -> gpg),"minor typo fix (gps -> gpg)

git-svn-id: file:///home/mbr/svn/fwknop/trunk@106 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1245023083,1245023083,6e167c65df1da839c63b12dee04d86d2bf6708d9
6e167c65df1da839c63b12dee04d86d2bf6708d9,6e167c65,Added handling of Backspace and Ctrl-U in the Win32 handling of get_passswd.,"Added handling of Backspace and Ctrl-U in the Win32 handling of get_passswd.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@105 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1244997497,1244997497,33e353b2fc5a8f1abe0afc69bc4b73fc453cbc15
33e353b2fc5a8f1abe0afc69bc4b73fc453cbc15,33e353b2,Added the digest types constants to the types and individual export tags.,"Added the digest types constants to the types and individual export tags.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@104 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1244989323,1244989323,44bca335746599f6b191b8d69f7a4dc133c363d8
44bca335746599f6b191b8d69f7a4dc133c363d8,44bca335,minor wording update to match fwknop help to config_init.h for --server-proto option,"minor wording update to match fwknop help to config_init.h for --server-proto option

git-svn-id: file:///home/mbr/svn/fwknop/trunk@103 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1244608969,1244608969,0dae9badba1c44cae6737e9bc1445f58e9e65344
0dae9badba1c44cae6737e9bc1445f58e9e65344,0dae9bad,Added a TODO file,"Added a TODO file

git-svn-id: file:///home/mbr/svn/fwknop/trunk@102 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1244501740,1244501740,04690e2f077b66264a56ec436838d26381c0d083
04690e2f077b66264a56ec436838d26381c0d083,04690e2f,Forgot to bump the perl module minor version number.,"Forgot to bump the perl module minor version number.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@101 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1244407574,1244407574,488ca566e19b399b623b7e55f871894ef6115b73
488ca566e19b399b623b7e55f871894ef6115b73,488ca566,Minor updates to non-code-related files.  Changed some copyrights to 2009.,"Minor updates to non-code-related files.  Changed some copyrights to 2009.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@100 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1244406833,1244406833,caab726e7b02b592712eeaec5c3b7667dd0fd876
caab726e7b02b592712eeaec5c3b7667dd0fd876,caab726e,Brought Error constants in sync with libfko.,"Brought Error constants in sync with libfko.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@99 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1244404934,1244404934,2fee69dc33297cda54cf736c9d9e99c65bad3a3c
2fee69dc33297cda54cf736c9d9e99c65bad3a3c,2fee69dc,Tweaks again for win32 build,"Tweaks again for win32 build

git-svn-id: file:///home/mbr/svn/fwknop/trunk@98 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1244395632,1244395632,5811d1107bfa0eb31b0ce3e01ba4a7c7d227089a
5811d1107bfa0eb31b0ce3e01ba4a7c7d227089a,5811d110,Yet another tweak for win32.,"Yet another tweak for win32.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@97 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1244394816,1244394816,51c37ba15918e29c673d30ab40bc744c6b09f304
51c37ba15918e29c673d30ab40bc744c6b09f304,51c37ba1,Tweak for win32 platform,"Tweak for win32 platform

git-svn-id: file:///home/mbr/svn/fwknop/trunk@96 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1244394181,1244394181,7817e442641ed4a696ca92c29ba97e5d9a152b45
7817e442641ed4a696ca92c29ba97e5d9a152b45,7817e442,Added sending via tcp (established) conneciton. removed --debug as an option. …,"Added sending via tcp (established) conneciton. removed --debug as an option.  Some minor code reformatting and refactoring.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@95 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1244393722,1244393722,7206fa03a6bf681b53cfafae09ec83d760734516
7206fa03a6bf681b53cfafae09ec83d760734516,7206fa03,minor link update for the cipherdyne.org website,"minor link update for the cipherdyne.org website

git-svn-id: file:///home/mbr/svn/fwknop/trunk@94 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1243561295,1243561295,c509b53dd4456fc0ea9f1ed9f57078b0d162aa37
c509b53dd4456fc0ea9f1ed9f57078b0d162aa37,c509b53d,Implemented sending spa data via TCP or ICMP via SOCK_RAW (unix only so far).,"Implemented sending spa data via TCP or ICMP via SOCK_RAW (unix only so far).

git-svn-id: file:///home/mbr/svn/fwknop/trunk@93 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1243350180,1243350180,9c9d46cc09ef2f1ac55c64cd985a226abdacb939
9c9d46cc09ef2f1ac55c64cd985a226abdacb939,9c9d46cc,Fixed bad variable name after moving the winsock startup code to a the send_spa_packet function.,"Fixed bad variable name after moving the winsock startup code to a the send_spa_packet function.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@92 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1243277713,1243277713,79a15c2f6d5ffc85c21f89f37ae10c10a2631e3d
79a15c2f6d5ffc85c21f89f37ae10c10a2631e3d,79a15c2f,Removed old test code from fwknop client.  Other tweaks and enhancements.,"Removed old test code from fwknop client.  Other tweaks and enhancements.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@91 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1243277222,1243277222,8c5f6ee069f4a6d0dfabc0b81120f3532215f30b
8c5f6ee069f4a6d0dfabc0b81120f3532215f30b,8c5f6ee0,Added getopt_long and getlogin capability to the Windows build.,"Added getopt_long and getlogin capability to the Windows build.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@90 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1243261971,1243261971,cf65f6ef5d63810f85261d4a62926d7dc087e246
cf65f6ef5d63810f85261d4a62926d7dc087e246,cf65f6ef,Updated Makefile.am to add win32 directory to the dist.,"Updated Makefile.am to add win32 directory to the dist.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@89 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1243184408,1243184408,4192eb887632ba4fa00d63a3a9fac014bc4a3078
4192eb887632ba4fa00d63a3a9fac014bc4a3078,4192eb88,Updates and revisions to accommodate a Windows build.,"Updates and revisions to accommodate a Windows build.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@88 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1243183593,1243183593,ee78a35cfdf75d940d8924c04a5f641d8074a94d
ee78a35cfdf75d940d8924c04a5f641d8074a94d,ee78a35c,"Made the dist name ""fwknop-c"" so as not to confuse it with the current ""fwknop"".","Made the dist name ""fwknop-c"" so as not to confuse it with the current ""fwknop"".

git-svn-id: file:///home/mbr/svn/fwknop/trunk@87 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1242694108,1242694108,d711843e846c832609ceb9801ed7d6518a04b020
d711843e846c832609ceb9801ed7d6518a04b020,d711843e,Changed fko version to 1.9.12. Made signing GPG-encrypted messages optional.,"Changed fko version to 1.9.12. Made signing GPG-encrypted messages optional.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@86 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1242575047,1242575047,2fff0a0a209d409249d56c18e90768165a7a40b7
2fff0a0a209d409249d56c18e90768165a7a40b7,2fff0a0a,Added the Perl module files to Makefile.am so they will be included in the dist.,"Added the Perl module files to Makefile.am so they will be included in the dist.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@85 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1242092358,1242092358,a32100f9646711550591123ec94c53b545f76deb
a32100f9646711550591123ec94c53b545f76deb,a32100f9,Updated documentation to reflect API changes and GPG signature functions.,"Updated documentation to reflect API changes and GPG signature functions.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@84 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1241374223,1241374223,2865912c0ace898b830ce90431f90b2d54d72a84
2865912c0ace898b830ce90431f90b2d54d72a84,2865912c,Tweaks to updated API.  Added GPG signature checking and processing functions. …,"Tweaks to updated API.  Added GPG signature checking and processing functions.  Updated Perl module and perldoc for new API and functions.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@83 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1241365665,1241365665,6e147ad3e7a5538394e5bec3f2afab5724a70b06
6e147ad3e7a5538394e5bec3f2afab5724a70b06,6e147ad3,"Interim check-in of API changes, libfko and fwknop binary now support the…","Interim check-in of API changes, libfko and fwknop binary now support the updated API.  Docs and Perl module are pending.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@82 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1241233328,1241233328,58c1a857119be213c09d066d41bb7e521e94fe98
58c1a857119be213c09d066d41bb7e521e94fe98,58c1a857,Added perl module code to the repository.,"Added perl module code to the repository.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@81 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1240062429,1240062429,7e2d52e38fd084c0ae1e8f666ba42a98e2e364e5
7e2d52e38fd084c0ae1e8f666ba42a98e2e364e5,7e2d52e3,Fixed double-free when destroy was called after a failed gpg encryption/decryption.,"Fixed double-free when destroy was called after a failed gpg encryption/decryption.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@80 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1240061781,1240061781,339db831292b09325202045332440ba5832e3f40
339db831292b09325202045332440ba5832e3f40,339db831,added --save-packet-append so that SPA packet data can be appended to a file,"added --save-packet-append so that SPA packet data can be appended to a file

git-svn-id: file:///home/mbr/svn/fwknop/trunk@79 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1239593651,1239593651,f3e4694a0c04957edee693478bac1abe399553e5
f3e4694a0c04957edee693478bac1abe399553e5,f3e4694a,added the --save-packet argument so that SPA packet data can be saved to the…,"added the --save-packet argument so that SPA packet data can be saved to the local filesystem by the fwknop-c client

git-svn-id: file:///home/mbr/svn/fwknop/trunk@78 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1239592390,1239592390,d19e2777f7e47dff6616e3865a00d226f1b4b3a7
d19e2777f7e47dff6616e3865a00d226f1b4b3a7,d19e2777,Fixed segfault issue when spa_data_final was called before spa_message was set.,"Fixed segfault issue when spa_data_final was called before spa_message was set.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@77 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1238374565,1238374565,675e24be4c93cff08662ac64af59774f946706a7
675e24be4c93cff08662ac64af59774f946706a7,675e24be,Fixed typo in doc,"Fixed typo in doc

git-svn-id: file:///home/mbr/svn/fwknop/trunk@76 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1237946893,1237946893,6e90c5efc6a705e431869f48d774c3e1114372fb
6e90c5efc6a705e431869f48d774c3e1114372fb,6e90c5ef,Added gpg-home-dir support to libfko and the fwknop program.  Added the…,"Added gpg-home-dir support to libfko and the fwknop program.  Added the fko_set_spa_data() function.  Documentation updates and other tweaks to support these changes.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@75 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1237255525,1237255525,b82f0e99dd9fad68929e40c738bc6db3be01c33a
b82f0e99dd9fad68929e40c738bc6db3be01c33a,b82f0e99,Tweaked byte order determination for Solaris systems.,"Tweaked byte order determination for Solaris systems.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@74 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1237127855,1237127855,7f0e7a9a350e6a3da83b2953d6ccff27e342603e
7f0e7a9a350e6a3da83b2953d6ccff27e342603e,7f0e7a9a,Updated autoconf files and code to support Solaris (ver 10 x86 at least).  This…,"Updated autoconf files and code to support Solaris (ver 10 x86 at least).  This includes better type checking and resolving some conflicting names under Solaris.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@73 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1237125642,1237125642,e1b5b7eed1fbe3ecf5588df69aa7b8f2f0ab9600
e1b5b7eed1fbe3ecf5588df69aa7b8f2f0ab9600,e1b5b7ee,removed unnecessary initialization of string vars to 0x0 because the earlier…,"removed unnecessary initialization of string vars to 0x0 because the earlier memset() takes care of this

git-svn-id: file:///home/mbr/svn/fwknop/trunk@72 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1236436586,1236436586,450795da716d8e4189cb62d3f445532ceaa13aa0
450795da716d8e4189cb62d3f445532ceaa13aa0,450795da,Minor bug fix to process gpg command line arguments properly when handling,"Minor bug fix to process gpg command line arguments properly when handling
the command line.


git-svn-id: file:///home/mbr/svn/fwknop/trunk@71 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1235858010,1235858010,3fd6f4dd7e630079f8736b47638a8f0a20d8987e
3fd6f4dd7e630079f8736b47638a8f0a20d8987e,3fd6f4dd,updated Copyright to Damien,"updated Copyright to Damien

git-svn-id: file:///home/mbr/svn/fwknop/trunk@70 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1235855799,1235855799,c3f483a0916dca5e493939bc8d2d90dd2138431a
c3f483a0916dca5e493939bc8d2d90dd2138431a,c3f483a0,Better error checking/message for decription.  Fixed typo in docs.,"Better error checking/message for decription.  Fixed typo in docs.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@69 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1235341118,1235341118,41127cd7ed62158691b53245e42679b20b10e839
41127cd7ed62158691b53245e42679b20b10e839,41127cd7,Added better autoconf handling of gpgpme.  Fixes so libfko will compile under…,"Added better autoconf handling of gpgpme.  Fixes so libfko will compile under FreeBSD (7.0 release anyway).

git-svn-id: file:///home/mbr/svn/fwknop/trunk@68 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1235330124,1235330124,62487d72fda892cd75e5c7ff216f686541f3845f
62487d72fda892cd75e5c7ff216f686541f3845f,62487d72,updated to concatenate the allow IP and access string for fko_set_spa_message(),"updated to concatenate the allow IP and access string for fko_set_spa_message()

git-svn-id: file:///home/mbr/svn/fwknop/trunk@67 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1234585726,1234585726,41df11b21756c96d44c3948448720c20434294e6
41df11b21756c96d44c3948448720c20434294e6,41df11b2,minor bug fix to anticipate closing newline in a password read from a file via --get-key,"minor bug fix to anticipate closing newline in a password read from a file via --get-key

git-svn-id: file:///home/mbr/svn/fwknop/trunk@66 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1234585677,1234585677,96df3a2dc237b0183aa6528a2040b41b09060bd6
96df3a2dc237b0183aa6528a2040b41b09060bd6,96df3a2d,Added the following options:,"Added the following options:

--Access
--allow-ip
--spoof-user
--debug
--no-save

The --Access and --allow-ip options still need to be fleshed out for
proper operation.



git-svn-id: file:///home/mbr/svn/fwknop/trunk@65 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1234511394,1234511394,51abd640c011adecd4d658e771fec49875d3b0be
51abd640c011adecd4d658e771fec49875d3b0be,51abd640,-Added the --get-key option to allow SPA passwords to be read from a,"-Added the --get-key option to allow SPA passwords to be read from a
file.  This feature will be useful for an automated test suite that
drives the fwknop C client against an SPA server implementation.


git-svn-id: file:///home/mbr/svn/fwknop/trunk@64 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1234505842,1234505842,bcafc22d48deff10710a5c5af1581e699f0f97fb
bcafc22d48deff10710a5c5af1581e699f0f97fb,bcafc22d,added Id tag expansion,"added Id tag expansion

git-svn-id: file:///home/mbr/svn/fwknop/trunk@63 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1234415140,1234415140,4b08fba26ae564576a5d4e9f46c92e73faca1408
4b08fba26ae564576a5d4e9f46c92e73faca1408,4b08fba2,Fixed typo in Makefile.am,"Fixed typo in Makefile.am

git-svn-id: file:///home/mbr/svn/fwknop/trunk@62 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1234383319,1234383319,3342349b4843c3b0b4acad5abf85ded4185585cc
3342349b4843c3b0b4acad5abf85ded4185585cc,3342349b,Fixed minor typo,"Fixed minor typo

git-svn-id: file:///home/mbr/svn/fwknop/trunk@61 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1234320429,1234320429,4ef8a25596de387d0ad61a39221af5c15178c611
4ef8a25596de387d0ad61a39221af5c15178c611,4ef8a255,Update libfko docs for the gpgme-related error codes and function.,"Update libfko docs for the gpgme-related error codes and function.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@60 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1234314008,1234314008,be3bb0762f269639e233f2ecbed21682f6d62b7a
be3bb0762f269639e233f2ecbed21682f6d62b7a,be3bb076,Added getpasswd routine for getting a password from the user.  A few updates to…,"Added getpasswd routine for getting a password from the user.  A few updates to the lib to accomodate clearing the password after we are done with it.  Update the fwknop program to reflect/use some of the new functionality.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@59 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1234230847,1234230847,06257a92222382245d0a52b87aff3f416f5a7424
06257a92222382245d0a52b87aff3f416f5a7424,06257a92,Split out the source files.  Added processing for a couple more command-line options.,"Split out the source files.  Added processing for a couple more command-line options.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@58 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1234146818,1234146818,2396d8fee6aec4ed25f50c905e6393d597a9ba74
2396d8fee6aec4ed25f50c905e6393d597a9ba74,2396d8fe,Replaced deprecated gpgme_key_release calls with gpgme_key_unref.  Fixed more…,"Replaced deprecated gpgme_key_release calls with gpgme_key_unref.  Fixed more potential memory leaks.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@57 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1233529340,1233529340,0c7c2558820ea01671f7e181bfbea9ebb5b110c1
0c7c2558820ea01671f7e181bfbea9ebb5b110c1,0c7c2558,Add more compiler conditionals for GPGME support to fix error during compiles on…,"Add more compiler conditionals for GPGME support to fix error during compiles on systems without gpgme.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@56 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1233502615,1233502615,43c309b10ce116db733110e3ea91969ef2b42388
43c309b10ce116db733110e3ea91969ef2b42388,43c309b1,minor update to not force --Destination in --Version mode,"minor update to not force --Destination in --Version mode

git-svn-id: file:///home/mbr/svn/fwknop/trunk@55 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1233499471,1233499471,6b878ea65a29e4505684e466f0f31e5c847dbdf7
6b878ea65a29e4505684e466f0f31e5c847dbdf7,6b878ea6,- Added code to send SPA packet data over a UDP socket.,"- Added code to send SPA packet data over a UDP socket.
- Added minor validation step to enforce --Destination usage if not
running in --Test mode (will extend this validation to include other
option).


git-svn-id: file:///home/mbr/svn/fwknop/trunk@54 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1233498645,1233498645,12e7a8d700a54f2d8f14f3dbbd4f7101600df868
12e7a8d700a54f2d8f14f3dbbd4f7101600df868,12e7a8d7,Some minor cleanup and tweaks to gpgme code.,"Some minor cleanup and tweaks to gpgme code.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@53 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1233496446,1233496446,7008774e52451efc363aeeb0b39066ef824eb8c8
7008774e52451efc363aeeb0b39066ef824eb8c8,7008774e,Slightly improved and cleaner GPG error handling (there is still plenty of room for improvement).,"Slightly improved and cleaner GPG error handling (there is still plenty of room for improvement).

git-svn-id: file:///home/mbr/svn/fwknop/trunk@52 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1233460251,1233460251,1f443da41b1a354e6f63566b609b1ed951c80854
1f443da41b1a354e6f63566b609b1ed951c80854,1f443da4,- Added command line argument processing for:,"- Added command line argument processing for:

--Destination
--Server-port
--Server-proto
--Source-port
--Spoof-src
--Test

- Stubbed in packet sending functions for SPA packets over UDP, TCP, and ICMP,
with the default set to UDP port 62201.
- Updated to use fko_version() in --Version mode.



git-svn-id: file:///home/mbr/svn/fwknop/trunk@51 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1233459060,1233459060,3ee06b36d30049c3c9d5a011d5e57671539f8081
3ee06b36d30049c3c9d5a011d5e57671539f8081,3ee06b36,Added more gpgme-related errors and error checking.  Other minor tweaks.,"Added more gpgme-related errors and error checking.  Other minor tweaks.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@50 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1233200995,1233200995,2d34c27f5a7d28d60be26c6dd3dee0f6bbe37788
2d34c27f5a7d28d60be26c6dd3dee0f6bbe37788,2d34c27f,Fixed flag on gpgme_keylist_next that was forcing only private keys for…,"Fixed flag on gpgme_keylist_next that was forcing only private keys for recipient.  Fixed typo in docs.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@49 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1233113922,1233113922,7951d327e8b49a6d26eeff6b2ee41c02f95337dc
7951d327e8b49a6d26eeff6b2ee41c02f95337dc,7951d327,Make version consistent for real this time.,"Make version consistent for real this time.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@48 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1233024834,1233024834,8e7cf3b5a940238e703ef6229d37a150435ae0e5
8e7cf3b5a940238e703ef6229d37a150435ae0e5,8e7cf3b5,Documentation updates and minor tweaks.  Made it version 1.10.0 consistent in…,"Documentation updates and minor tweaks.  Made it version 1.10.0 consistent in caonfigure.ac and fko.h.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@47 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1233024469,1233024469,86ef05fc7a3172ca7e6637f888aa8b3179b8554c
86ef05fc7a3172ca7e6637f888aa8b3179b8554c,86ef05fc,Added fwknop.h to the source list in Makefile.am so it will be included in the distrubution.,"Added fwknop.h to the source list in Makefile.am so it will be included in the distrubution.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@46 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1232977733,1232977733,10b308b2d593715d4a115639f8016f520532ecf4
10b308b2d593715d4a115639f8016f520532ecf4,10b308b2,Fixed configure.ac again (I broke it with my last change).  Added first cut at…,"Fixed configure.ac again (I broke it with my last change).  Added first cut at gpg decryption routine.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@45 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1232941187,1232941187,54e1f22a80114111c40ba5f047f5bceb76b69c6e
54e1f22a80114111c40ba5f047f5bceb76b69c6e,54e1f22a,Merged in fwknop-c-ubuntu branch changes via:,"Merged in fwknop-c-ubuntu branch changes via:

svn merge -r 39:40 svn+ssh://rohan/usr/local/svn/fwknop-c/branches/fwknop-c-ubuntu

This merge includes the following:

-Started on command line argument processing with getopt_long().
For now this just handles --help and --version, and there is a new
cmdl_opts typedef for setting and storing option data.



git-svn-id: file:///home/mbr/svn/fwknop/trunk@44 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Michael Rash,mbr@cipherdyne.org,Michael Rash,mbr@cipherdyne.org,1232935465,1232935465,18c056047575266e278c40348fe59987525d788f
18c056047575266e278c40348fe59987525d788f,18c05604,Fixed gpgme check so it would not fail if gpgme was not installed.  Setup to…,"Fixed gpgme check so it would not fail if gpgme was not installed.  Setup to allow using --with[out]-gpgme option to configure.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@43 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1232908711,1232908711,2a5120468db4a482732f4a6c3dae4b4d2fed8957
2a5120468db4a482732f4a6c3dae4b4d2fed8957,2a512046,Removing files that are auto-generated by the autogen.sh script.,"Removing files that are auto-generated by the autogen.sh script.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@42 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1232900027,1232900027,9ebdb622a06ba453ff67b006087fc8251f93301c
9ebdb622a06ba453ff67b006087fc8251f93301c,9ebdb622,Fixed a potential bug where the NULL-termination of the base64-encoded data was…,"Fixed a potential bug where the NULL-termination of the base64-encoded data was being lost during process just before rijndael decryption.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@41 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1232898652,1232898652,e846cdd44d4c9e12b102d3e72ad8302ba886921e
e846cdd44d4c9e12b102d3e72ad8302ba886921e,e846cdd4,First cut at GPG encrytion support (decryption and doc update are pending).,"First cut at GPG encrytion support (decryption and doc update are pending).

git-svn-id: file:///home/mbr/svn/fwknop/trunk@39 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1232855930,1232855930,04674071ef188ad66c4c2588d96296446bc30a3a
04674071ef188ad66c4c2588d96296446bc30a3a,04674071,Updated README,"Updated README

git-svn-id: file:///home/mbr/svn/fwknop/trunk@36 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1230907940,1230907940,c0c61a5eece80fb5cbc5388e84f5a0a616606f3c
c0c61a5eece80fb5cbc5388e84f5a0a616606f3c,c0c61a5e,"Minor tweaks, and fixed one potential memory allocation issue discovered with valgrind.","Minor tweaks, and fixed one potential memory allocation issue discovered with valgrind.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@35 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1230906636,1230906636,b446bdc31e7d7fc7947d91fd1948ee7080a6f716
b446bdc31e7d7fc7947d91fd1948ee7080a6f716,b446bdc3,Broke these out from fko.h.,"Broke these out from fko.h.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@34 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1230756778,1230756778,49fb5f939d651c00691f65d01756eb3c11ca732d
49fb5f939d651c00691f65d01756eb3c11ca732d,49fb5f93,Made the context struct opaque to users of the library.  Somewhat major API…,"Made the context struct opaque to users of the library.  Somewhat major API tweak in that fko_ctx_t is not a pointer type and the fko_new functions take a pointer to that.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@33 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1230756009,1230756009,8fe9db44706238b4ce1364d00ed6dbe857f7ce5b
8fe9db44706238b4ce1364d00ed6dbe857f7ce5b,8fe9db44,Reorganized libfko doc.,"Reorganized libfko doc.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@32 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1230737589,1230737589,edf966e7d39f80e084858075fac0b3d5b34709eb
edf966e7d39f80e084858075fac0b3d5b34709eb,edf966e7,Documentation fixes.,"Documentation fixes.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@31 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1230735984,1230735984,0000fe270df7ce187688166309ef7f2e1388dc54
0000fe270df7ce187688166309ef7f2e1388dc54,0000fe27,Documentation updates and minor tweaks.,"Documentation updates and minor tweaks.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@30 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1230700262,1230700262,686ee5caf10f380070600e78d42962a22b628317
686ee5caf10f380070600e78d42962a22b628317,686ee5ca,Some progress on the libfko doc.,"Some progress on the libfko doc.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@29 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1230610861,1230610861,d4e115f86bcad12f758cfe1008816a85814902fd
d4e115f86bcad12f758cfe1008816a85814902fd,d4e115f8,Update to docs.,"Update to docs.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@28 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1230513761,1230513761,474a787e0be9f691bb1ae11ff4a01819936e49ed
474a787e0be9f691bb1ae11ff4a01819936e49ed,474a787e,more checks for configure.  omit salt from Rijndael-encrypted data as returned by fko_get_dpa_data.,"more checks for configure.  omit salt from Rijndael-encrypted data as returned by fko_get_dpa_data.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@27 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1230481360,1230481360,e6eb3061fb0a09d09a3a9143eaea2e7136561611
e6eb3061fb0a09d09a3a9143eaea2e7136561611,e6eb3061,Code format tweaks.  Added a couple more convenience functions.,"Code format tweaks.  Added a couple more convenience functions.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@26 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1230480551,1230480551,9ef004b9ba8cce45821b9605b95d655868757b86
9ef004b9ba8cce45821b9605b95d655868757b86,9ef004b9,Added gpl-2.0.texi file to doc/Makefile.am so it is included in the dist.,"Added gpl-2.0.texi file to doc/Makefile.am so it is included in the dist.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@25 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1230435357,1230435357,a4e82aa68ff5b2ecb218f9ae94de87b0d8fcb682
a4e82aa68ff5b2ecb218f9ae94de87b0d8fcb682,a4e82aa6,Added decrypting/decoding/parsing of SPA data.,"Added decrypting/decoding/parsing of SPA data.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@24 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1230433684,1230433684,620ffec5cc33b4d68b3519a9cf5c6ad5a5da9b5a
620ffec5cc33b4d68b3519a9cf5c6ad5a5da9b5a,620ffec5,Added fallback for isdigit() if ctype.h is not available.,"Added fallback for isdigit() if ctype.h is not available.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@23 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1230325478,1230325478,98bb7ed53657483f189a0666b59640de38056144
98bb7ed53657483f189a0666b59640de38056144,98bb7ed5,Added some basic format checking to spa message data and message_type checks…,"Added some basic format checking to spa message data and message_type checks when client_timeout is set/unset.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@22 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1230323963,1230323963,a93e8ddd4ef2851681a9834f7f56a55f3d29c4f6
a93e8ddd4ef2851681a9834f7f56a55f3d29c4f6,a93e8ddd,Minor docs update - Added GPL to info doc.,"Minor docs update - Added GPL to info doc.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@21 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1230296217,1230296217,4560866fc580b9d7eace9e9991a8dd5e9424e664
4560866fc580b9d7eace9e9991a8dd5e9424e664,4560866f,Tweaks to add some more ctx state tracking.,"Tweaks to add some more ctx state tracking.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@20 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1230264856,1230264856,bda1598c81f9d71c7b3d0c1b24a02a629ade690d
bda1598c81f9d71c7b3d0c1b24a02a629ade690d,bda1598c,Made fko.h an include_HEADER for proper distribution.,"Made fko.h an include_HEADER for proper distribution.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@19 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1230254231,1230254231,65e11abc96da42925e871ed16381757502878f63
65e11abc96da42925e871ed16381757502878f63,65e11abc,Added documentation stub.,"Added documentation stub.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@18 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1230178266,1230178266,e113cb7e8ab3e6f06b014efcbfd39ca076dbece0
e113cb7e8ab3e6f06b014efcbfd39ca076dbece0,e113cb7e,Updates to allow for building libfko as a shared lib. (make use of libtool).,"Updates to allow for building libfko as a shared lib. (make use of libtool).

git-svn-id: file:///home/mbr/svn/fwknop/trunk@17 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1230168383,1230168383,6c70a69445fa44c0d9b98ff4233b218594cca4c4
6c70a69445fa44c0d9b98ff4233b218594cca4c4,6c70a694,Putting the reg version of the files back,"Putting the reg version of the files back

git-svn-id: file:///home/mbr/svn/fwknop/trunk@16 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1230168327,1230168327,b4bad315e76461ec253a41ad2b1425d0741bd1cb
b4bad315e76461ec253a41ad2b1425d0741bd1cb,b4bad315,Remove files that were stored as sym links.,"Remove files that were stored as sym links.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@15 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1230168295,1230168295,1cdf9fd5489cf929f0f89cff0201fb640c934270
1cdf9fd5489cf929f0f89cff0201fb640c934270,1cdf9fd5,Re-arrangement of source tree.,"Re-arrangement of source tree.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@14 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1230156132,1230156132,a82c361e28fc513dae3d46da16d57906e636cda2
a82c361e28fc513dae3d46da16d57906e636cda2,a82c361e,Another major re-write of the fwknop library.,"Another major re-write of the fwknop library.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@13 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1230093105,1230093105,deb85ddddfdbe0673536cc55bdad3de2554ac3ec
deb85ddddfdbe0673536cc55bdad3de2554ac3ec,deb85ddd,Total re-arrangement for autoconf/automake implementation.,"Total re-arrangement for autoconf/automake implementation.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@12 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1229886711,1229886711,8041bdf6ddb08d99330f59232dd745d15ce3635c
8041bdf6ddb08d99330f59232dd745d15ce3635c,8041bdf6,More updates to address compatibility issues with the perl version of fwknop.,"More updates to address compatibility issues with the perl version of fwknop.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@11 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1229610309,1229610309,f3dc818b288671a04bda4469553f7f1fb4c1466c
f3dc818b288671a04bda4469553f7f1fb4c1466c,f3dc818b,Makefile tweak.,"Makefile tweak.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@10 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1228699073,1228699073,1e7534df68861e2ff9021d8752a3e26db230e1fc
1e7534df68861e2ff9021d8752a3e26db230e1fc,1e7534df,"Added rijndael code, spa digest and message functions, and a shitload of other changes and tweaks.","Added rijndael code, spa digest and message functions, and a shitload of other changes and tweaks.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@9 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1228698141,1228698141,8b54a0d4d6dc08c7004db72a19f307c0d69786f8
8b54a0d4d6dc08c7004db72a19f307c0d69786f8,8b54a0d4,Added sha1 refactored the access to the digest routines via digest.c. Other misc…,"Added sha1 refactored the access to the digest routines via digest.c. Other misc teaks to format and style of digest code.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@8 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1228355252,1228355252,49378671fa41d1c2b0a8bffec0326ddb9c33f2f4
49378671fa41d1c2b0a8bffec0326ddb9c33f2f4,49378671,Added sha256 code.,"Added sha256 code.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@7 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1228271273,1228271273,962e20310d2cf0b1f2e92879d25134fae4f1ba30
962e20310d2cf0b1f2e92879d25134fae4f1ba30,962e2031,Added base64 and md5 code.,"Added base64 and md5 code.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@6 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1228262091,1228262091,0022ffa6178d7cbf46615a9b39510cb3aa40d243
0022ffa6178d7cbf46615a9b39510cb3aa40d243,0022ffa6,Added more source files.  Split out libfwknop functions to a static lib. Misc updates.,"Added more source files.  Split out libfwknop functions to a static lib. Misc updates.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@5 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1228083675,1228083675,2564d103f0a5e914d145ef777241fc6b07840106
2564d103f0a5e914d145ef777241fc6b07840106,2564d103,Added spa_timestamp function.,"Added spa_timestamp function.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@4 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1227995948,1227995948,12fce24403704f78198f4ead8d85af295e5cdcae
12fce24403704f78198f4ead8d85af295e5cdcae,12fce244,Added strlcat/cpy functions. Added spa_user function.,"Added strlcat/cpy functions. Added spa_user function.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@3 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1227994475,1227994475,55dd479c68a73f9e5dcb0dbba6b2bec09747421f
55dd479c68a73f9e5dcb0dbba6b2bec09747421f,55dd479c,"Initial Makefile and first cut at fwknop.h, the spa_random_number function, and…","Initial Makefile and first cut at fwknop.h, the spa_random_number function, and a program for testing the functions.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@2 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1227984633,1227984633,0cdcbddf0d9f4dba786296288aa8f5c84ef3e413
0cdcbddf0d9f4dba786296288aa8f5c84ef3e413,0cdcbddf,Initial import.,"Initial import.

git-svn-id: file:///home/mbr/svn/fwknop/trunk@1 510a4753-2344-4c79-9c09-4d669213fbeb
",,,,Damien Stuart,dstart@dstuart.org,Damien Stuart,dstart@dstuart.org,1227833879,1227833879,
