id,short_id,title,message,additions,deletions,total,author_name,author_email,committer_name,committer_email,authored_date,committed_date,parent_ids
d0a6c81eb5dbc84e5edef55bf55ca5577bc39c88,d0a6c81e,Release 0.15,"Release 0.15
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1491512543,1491512543,d5ce251c5e66636b095fa73c0ffdb39aa98c8427
d5ce251c5e66636b095fa73c0ffdb39aa98c8427,d5ce251c,Release 0.14,"Release 0.14
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1479908846,1479908846,cd471428966a583749f6bc820d3e0ec2f0259cea
cd471428966a583749f6bc820d3e0ec2f0259cea,cd471428,Add menu option to search for the word on vortaro.net,"Add menu option to search for the word on vortaro.net
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1479904742,1479908787,03ce95f2a3991414a8990271cb3a43e3a34014a5
03ce95f2a3991414a8990271cb3a43e3a34014a5,03ce95f2,Release 0.13,"Release 0.13
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1453235522,1453235522,751701009c63b90d35eaa1712cdb7334951c576f
751701009c63b90d35eaa1712cdb7334951c576f,75170100,Don't mark a language as used if coming from a generic search,"Don't mark a language as used if coming from a generic search

If MenuHelper.goSearch is called (ie, from the start activity or from
the generic search button) we don't want it to mark the language as
used because it's just using the default language so the user hasn't
really explicitly selected it. To make this work there is now an extra
string on the intent to specify if the language should be marked as
used.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1453162505,1453162505,4dd00bc3fe12e2b91e8c0ac972ad875d090c00fe
4dd00bc3fe12e2b91e8c0ac972ad875d090c00fe,4dd00bc3,Mark the language as used from the SearchActivity,"Mark the language as used from the SearchActivity

Previously the last used language and the language count was only
updated if the language was selected from the SelectLanguageActivity
menu. Now there are updated whenever a SearchActivity is created so
that it will include uses from the search activity menu.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1453161866,1453161866,5bd846f0e9522f3e965f5f744990cf399415cca2
5bd846f0e9522f3e965f5f744990cf399415cca2,5bd846f0,SelectLanguageActivity: Use MenuHelper.createSearchIntent,"SelectLanguageActivity: Use MenuHelper.createSearchIntent
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1453160926,1453160926,cb4e6758dab72c2239525640315ef3f36a1ece3b
cb4e6758dab72c2239525640315ef3f36a1ece3b,cb4e6758,MenuHelper: Use a Context where possible instead of an Activity,"MenuHelper: Use a Context where possible instead of an Activity
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1453160547,1453160547,a38714f5600ede268c4b1cfcbc62d9a6e170444c
a38714f5600ede268c4b1cfcbc62d9a6e170444c,a38714f5,SearchAdapter: Add a note when an alternative language is used,"SearchAdapter: Add a note when an alternative language is used
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1453154788,1453158942,479d5b8b61310a427b44edf92314c564357c8dbe
479d5b8b61310a427b44edf92314c564357c8dbe,479d5b8b,Add a convenience function to get the language name with ‘la’,"Add a convenience function to get the language name with ‘la’

This adds a second method to LanguageList to get the language name,
but this one has a parameter to specify whether the article should be
added. It now returns ‘esperanto’ instead of ‘esperanta’ for eo and
never adds the article.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1453156156,1453158942,8437c6418c5b360d6ee3ab628da6347bac6d7a05
8437c6418c5b360d6ee3ab628da6347bac6d7a05,8437c641,SearchAdapter: Keep track of the language number that had results,"SearchAdapter: Keep track of the language number that had results

The number of the language that was finally used to return results is
now tracked by making the filter return a new object which has this in
addition to the actual results.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1453148667,1453158942,bb3b6c8c112c5446de81e0067e99757aff42891e
bb3b6c8c112c5446de81e0067e99757aff42891e,bb3b6c8c,Search alternative indices instead of just the main one,"Search alternative indices instead of just the main one

When searching if no results are found it will now try searching in
up to two other of the main languages. If at least one match is found
it will display the results from that language instead.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1453147421,1453158942,742d3ee1f4b2a6461627215400700ba08de7d3b3
742d3ee1f4b2a6461627215400700ba08de7d3b3,742d3ee1,SearchAdapter: Don't save the trie index,"SearchAdapter: Don't save the trie index

The trie is now loaded on-demand from the cache whenever a search is
initiatied rather than keeping it around forever. This should usually
hit the trie cache so it shouldn't cause any delays but it also has
the benefit that if the user opens a bunch of activities with many
different languages then the garbage collector will get a chance to
collect the tries. They will be loaded again when a new search is
started on the activity.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1453142796,1453158942,3b9a2a9db742bb22de5cd1924fa4cafed10bdd97
3b9a2a9db742bb22de5cd1924fa4cafed10bdd97,3b9a2a9d,Cache the trie indices,"Cache the trie indices

Instead of each SearchActivity loading its own copy of the trie, they
are now cached in a static class so that they can be shared. The cache
only keeps the last 5 used indices so that if the user switches
between a lot of languages it won't use up too much memory.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1453137328,1453143868,e7e48410a716aeb06760a6fb0af6224d0b6d5154
e7e48410a716aeb06760a6fb0af6224d0b6d5154,e7e48410,Update the TODO list,"Update the TODO list
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1453111393,1453111393,69eecb6e4a567d364c117a5d22b39b7b9b56d480
69eecb6e4a567d364c117a5d22b39b7b9b56d480,69eecb6e,SearchActivity: Put the language shortcuts on the action bar,"SearchActivity: Put the language shortcuts on the action bar

The menu items to select the most used two languages are now shown in
the action bar with just the language code as the condensed text.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1452960129,1452970864,912e90bb2d81a365e5cdc4e009b790857e74f8e5
912e90bb2d81a365e5cdc4e009b790857e74f8e5,912e90bb,Add 2016 to the copyright message,"Add 2016 to the copyright message
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1452955502,1452955502,4bc43c22f3471a9d8dfaa1f8be7efbe10e784817
4bc43c22f3471a9d8dfaa1f8be7efbe10e784817,4bc43c22,SearchActivity: Fix the name of menu item for searching in esperanto,"SearchActivity: Fix the name of menu item for searching in esperanto

Otherwise it says ‘serĉu en la esperanta’ which is a bit weird.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1452955379,1452955379,c40292a4f133965debfb8b963877c8a5d8d879fb
c40292a4f133965debfb8b963877c8a5d8d879fb,c40292a4,SearchActivity: Retain the search string when switching language,"SearchActivity: Retain the search string when switching language

When one of the convenience menu items is used to switch between the
main languages it now preserves the search string by setting it in the
intent.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1452954709,1452954964,dc3149b17534c0d6ef007851890f7c8d2ae95835
dc3149b17534c0d6ef007851890f7c8d2ae95835,dc3149b1,SearchActivity: Add an intent extra field for setting the search term,"SearchActivity: Add an intent extra field for setting the search term

When the activity is launched it now checks whether the search term
has been specified in the intent and if so it will immediately set the
search text box to it.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1452954609,1452954964,91ab3ce3795932ac06c7f7db1849b615ba6c1850
91ab3ce3795932ac06c7f7db1849b615ba6c1850,91ab3ce3,SearchActivity: Add menu items to rapidly switch to the main languages,"SearchActivity: Add menu items to rapidly switch to the main languages

The menu in the search activity now has dynamically added items to
switch to the 2 other most used languages.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1452952818,1452954954,41f8af537b88d23321a964b6733dacad72a036a0
41f8af537b88d23321a964b6733dacad72a036a0,41f8af53,MenuHelper: Add a helper method to create an intent for SearchActivity,"MenuHelper: Add a helper method to create an intent for SearchActivity

The helper function sets the language for the intent.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1452954867,1452954867,5e6eceab0a0558a1cfbf198e78d06d489fe5f1d8
5e6eceab0a0558a1cfbf198e78d06d489fe5f1d8,5e6eceab,Merge tag '0.12',"Merge tag '0.12'
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1452699110,1452699110,"6c637621f24405ab9fbb0ecfac05ef29ed943f97,dc23282e12372203a190a4cc941d1d727e3fb5e5"
6c637621f24405ab9fbb0ecfac05ef29ed943f97,6c637621,Convert the README to markdown,"Convert the README to markdown
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1452698710,1452699108,8678a366ca6f2aae9c36f7dae10390daf6eb6015
8678a366ca6f2aae9c36f7dae10390daf6eb6015,8678a366,SearchActivity: Remove the search menu item,"SearchActivity: Remove the search menu item

This is removed when the menu is created so it is pointless to list it
in the menu resource. This was left around from when the menu resource
was shared between multiple activities.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1452640451,1452640451,3436dcba8d3a7cd7bc18ec8cb740e2e53fcaaf51
3436dcba8d3a7cd7bc18ec8cb740e2e53fcaaf51,3436dcba,Remove the debuggable option from AndroidManifest.xml,"Remove the debuggable option from AndroidManifest.xml

The default value is false is anyway.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1452639620,1452639620,c330e2eda294376e8953cd611d20c73c3c17cd3c
dc23282e12372203a190a4cc941d1d727e3fb5e5,dc23282e,Release 0.12,"Release 0.12
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1448628144,1448630196,c330e2eda294376e8953cd611d20c73c3c17cd3c
c330e2eda294376e8953cd611d20c73c3c17cd3c,c330e2ed,README: Change the git repo to github,"README: Change the git repo to github
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1430244025,1430244025,f8481a1fdfc85df8765b2d8047d16bdc66034130
f8481a1fdfc85df8765b2d8047d16bdc66034130,f8481a1f,Release 0.11,"Release 0.11
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1415576484,1415576484,71193623f3aa8a3e6751bd0c57332ea7d5d9d2a8
71193623f3aa8a3e6751bd0c57332ea7d5d9d2a8,71193623,Prepare for release,"Prepare for release
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1415576414,1415576414,05dc8e942b6d5ec5d3341ab484138512c08bfaca
05dc8e942b6d5ec5d3341ab484138512c08bfaca,05dc8e94,Update the TODO list,"Update the TODO list
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1415576392,1415576392,6071ddf6671c916606b7b6633d462847eff8116f
6071ddf6671c916606b7b6633d462847eff8116f,6071ddf6,Add some TODO items,"Add some TODO items
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1398768889,1398768968,088cc217ce867629f3acf704d8f5be2d95b377f3
088cc217ce867629f3acf704d8f5be2d95b377f3,088cc217,Unprepare for release,"Unprepare for release
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1398768958,1398768958,6a67576955872a640262b28f1c8fefbb374f0b7e
6a67576955872a640262b28f1c8fefbb374f0b7e,6a675769,Release 0.10,"Release 0.10
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1398717652,1398717652,1f8701c67755bcb0aaa3dc7ceabe0eb1fde93d0b
1f8701c67755bcb0aaa3dc7ceabe0eb1fde93d0b,1f8701c6,Release 0.9,"Release 0.9
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1384256897,1384256897,2aad4ec446f220533983bada3106ebabb9ca03a4
2aad4ec446f220533983bada3106ebabb9ca03a4,2aad4ec4,Prepare for release,"Prepare for release
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1384212945,1384212945,3a363d3ed95e4c9e56534e1e0f881aa50308cda9
3a363d3ed95e4c9e56534e1e0f881aa50308cda9,3a363d3e,Remove unused private members from StartActivity,"Remove unused private members from StartActivity

The StartActivity had some left over members from when it was copied
from LanguagesActivity.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1376939011,1376939011,04a47d57b7a550f284355d39402ff99824e4de3b
04a47d57b7a550f284355d39402ff99824e4de3b,04a47d57,Add a README file with build instructions,"Add a README file with build instructions
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1374926918,1374927693,655c6c3719bceabd3544d98621af73ac0410b547
655c6c3719bceabd3544d98621af73ac0410b547,655c6c37,Unprepare for release,"Unprepare for release
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1359656366,1374927693,4fcd47ab61cbfb01085ce0a02ec7c5667a03babc
4fcd47ab61cbfb01085ce0a02ec7c5667a03babc,4fcd47ab,Release 0.8,"Release 0.8
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1374705744,1374705744,4aa5cce381c33f428f4de66542603f6297f5f5dd
4aa5cce381c33f428f4de66542603f6297f5f5dd,4aa5cce3,Release 0.7,"Release 0.7
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1369386564,1369386564,b8df13f66475683d05966195e206fa1a2e4934e1
b8df13f66475683d05966195e206fa1a2e4934e1,b8df13f6,Release 0.6,"Release 0.6
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1363860331,1363860331,7d5e461bcbc5f38de1dbff28cc47ea832dc8d5ed
7d5e461bcbc5f38de1dbff28cc47ea832dc8d5ed,7d5e461b,Release 0.5,"Release 0.5
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1359107918,1359107918,7d403e0e9b9dbec62b8b6a6a3fbf5ced18002765
7d403e0e9b9dbec62b8b6a6a3fbf5ced18002765,7d403e0e,Fix loading the article when there is a non-default font size,"Fix loading the article when there is a non-default font size

Previously if there was a non-default font size then it would try to
set the size on the views before the article has actually been loaded.
This patch changes it to delay setting the font size when there is a
reload queued. The font is always reset after the article is loaded
because the new views will again have the default size.

This patch also moves some initialisation out of loadIntendedArticle
into onCreate.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1358969271,1358969271,6f1f54d1fffce7fc2a8fb4bb3dff6dca8b8ba7d7
6f1f54d1fffce7fc2a8fb4bb3dff6dca8b8ba7d7,6f1f54d1,Move a couple of strings from the Java source to the resources,"Move a couple of strings from the Java source to the resources

Two strings from the language selector activity were encoded directly
in the source code instead of being in the resource file. Also for
some reason they were all in capitals. This has been fixed.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1358897311,1358897311,73044a777920edf5aac1b03f8f71ce2db7a0299d
73044a777920edf5aac1b03f8f71ce2db7a0299d,73044a77,Add a preference activity to choose the translation languages,"Add a preference activity to choose the translation languages

This adds a list activity with all of the languages with a check box.
The user can select which translations to display. This sets the
selectedLanguages preference.

The article and select language activities have been modified to
register for preference changes on create and destroy instead of start
and stop. When the UI switches to another activity the old activity is
usually stopped so it is not enough to cause it to reload the state.
However to avoid redundantly reloading state for invisible activities,
it now queues a reload when the pref changes and only actually reloads
when the activity is started again.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1358696409,1358809919,b5290e7e3404dc548d4805de0043fe4cb9ab2434
b5290e7e3404dc548d4805de0043fe4cb9ab2434,b5290e7e,LanguagesAdapter: Move list of languages to a separate helper class,"LanguagesAdapter: Move list of languages to a separate helper class

The list of languages should never change throughout the lifetime of
the program so in order to aid sharing the list with other adapters it
is now stored in a shared global object. There is a new class to wrap
the array and it includes functions to search for a name given a code
by binary chopping the list.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1358797819,1358809757,f5fb9d3e2a427d0cbdef450a319576d6aa5957be
f5fb9d3e2a427d0cbdef450a319576d6aa5957be,f5fb9d3e,Update the TODO list,"Update the TODO list

Two tasks have been completed
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1358699036,1358809757,3ade7e065d55209ac7e709c4fcb194a2313e68d1
3ade7e065d55209ac7e709c4fcb194a2313e68d1,3ade7e06,Add a launch activity to skip the language select activity,"Add a launch activity to skip the language select activity

The LanguagesActivity has been renamed to SelectLanguageActivity and a
new activity with the old name has been created to decide which
initial activity to show depending on the preferences. If the user has
previously already selected a language it will jump straight to the
search page for that language, otherwise it will default to the select
language activity.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1358698218,1358698218,8d8ee1491d64d4f64c7a3d6e944d1ac5dd99299b
8d8ee1491d64d4f64c7a3d6e944d1ac5dd99299b,8d8ee149,Add a shared preference for limiting the displayed languages,"Add a shared preference for limiting the displayed languages

This adds a shared preference called ‘selectedLanguages’ which is a
comma-separated list of language codes. If this is set then the
article activity will skip sections of the article that have a code
which isn't in the list and the languages activity won't list
the unselected languages.

There is a new class to help parse the comma separated list which
stuffs the language codes into a sorted array so that it can be binary
chopped.

There is currently no UI to change the seting.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1358545395,1358545395,3049869fb101685cdf05b3a802a3012917e0ba58
3049869fb101685cdf05b3a802a3012917e0ba58,3049869f,search: Show the language code in the title,"search: Show the language code in the title

Sometimes it's difficult to remember which language you are searching
in so this patch makes it display the language's code in the title.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1358506830,1358506830,f47924cc73aa1d4ea83823b274680e1cc19cd363
f47924cc73aa1d4ea83823b274680e1cc19cd363,f47924cc,Skip language codes in the articles,"Skip language codes in the articles

The prevodb tool now adds language codes to each section of the
article so that eventually the app can selectively show translations.
Currently these codes are just skipped.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1358506780,1358506780,eaf3706b854f8fe9779165970f8b95c6f4fc14e1
eaf3706b854f8fe9779165970f8b95c6f4fc14e1,eaf3706b,Add 2013 to the copyright years,"Add 2013 to the copyright years
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1357819240,1357819240,c1bfe657bb12914b77c50bbb337baa758ddfe7e7
c1bfe657bb12914b77c50bbb337baa758ddfe7e7,c1bfe657,BinaryReader: Keep a single buffer around to read integers,"BinaryReader: Keep a single buffer around to read integers

Instead of allocating a separate tiny buffer every time an integer is
read, it now conserves the buffer as a private member variable.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1357643079,1357643079,f081031d152f41a69904bd446a97aacf9fe85de3
f081031d152f41a69904bd446a97aacf9fe85de3,f081031d,Unprepare for release,"Unprepare for release
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1357596882,1357596882,6de5b3f6adb8889a77f85caa39221751a1d0234b
6de5b3f6adb8889a77f85caa39221751a1d0234b,6de5b3f6,Release 0.4,"Release 0.4
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1357595564,1357595564,a33e32afb8bfe46de500ced40d45492a32c639c4
a33e32afb8bfe46de500ced40d45492a32c639c4,a33e32af,Group articles into files containing a set of 16,"Group articles into files containing a set of 16

The package installer on Android 2.1 seems to have a problem with
packages containing a large number of files which causes it to crash
while installing. To work around this, the articles are now grouped
into files containing up to 16 articles. The articles are named using
the most significant 3 nibbles of the 16-bit article number. The
article file format now includes the article length so that the
application can detect the end of the article. This also happens to
make the package compress a lot smaller.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1357595208,1357595208,7c500b880cbf3369884b801535b225bb04f9bb5d
7c500b880cbf3369884b801535b225bb04f9bb5d,7c500b88,Unprepare for release,"Unprepare for release
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1351333945,1351333945,f9e734f9e022305cad2516458c9ef337fc905252
f9e734f9e022305cad2516458c9ef337fc905252,f9e734f9,Release 0.3,"Release 0.3
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1351329195,1351329195,4a53c7f139ce903608731b30552d74ed6ef4465c
4a53c7f139ce903608731b30552d74ed6ef4465c,4a53c7f1,Remove the old create flashcard action for AnkiDroid 1.1.x,"Remove the old create flashcard action for AnkiDroid 1.1.x

The old AnkiDroid seems to just crash if you pass an intent to create
a card so we might as well limit it to the action for AnkiDroid 2.0.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1350862195,1350862195,6a59b0ac08509780d2630d2e8288b58c7cc0fb79
6a59b0ac08509780d2630d2e8288b58c7cc0fb79,6a59b0ac,Update the TODO list,"Update the TODO list
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1350849086,1350849086,ea6c5776b4bb040ed12d161df3503f8f7427341a
ea6c5776b4bb040ed12d161df3503f8f7427341a,ea6c5776,Remove some debugging Log calls,"Remove some debugging Log calls
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1350847015,1350847015,3acded7da5a0778d99447668b25201aa05b9e8f6
3acded7da5a0778d99447668b25201aa05b9e8f6,3acded7d,Add an option to change the text size,"Add an option to change the text size

There is now a menu option in the article view to 'zoom' the text.
This will create and display an instance of ZoomControls with a
timeout so that it will be hidden after 10 seconds of not pressing the
buttons. When the buttons are pressed a configuration option is
updated which causes the text size to change. There are 10 text sizes
which are used to scale the original text size of the layouts.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1350293755,1350839583,e84a77678265464f6dc701c5bc757daac2cd9866
e84a77678265464f6dc701c5bc757daac2cd9866,e84a7767,Add context menu options to create flashcards via Anki,"Add context menu options to create flashcards via Anki

This adds two menu items to the context menu that get shown for each
definition which will create a flashcard either with the word on the
front and the definition on the back or vice versa. The flashcard is
created by just launching the intent
org.openintents.action.CREATE_FLASHCARD. At least Anki handles this
but presumably there may be other flash card apps that can do this
too.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1350226748,1350235967,afe71d9de087949f46b4ee53752228612a73b168
afe71d9de087949f46b4ee53752228612a73b168,afe71d9d,Support copying definitions from a context menu,"Support copying definitions from a context menu

When a long press is performed on the text view for a definition it
now pops up a context menu with an option to copy it to the clipboard.
The definitions are now represented in a tiny subclass of TextView
which stores some extra context menu information to grab the text back
out.

The clipboard is set using a helper class that will either use HTML
data or plain text depending on is supported by the SDK. The
appropriate methods are retrieved using reflection so that it won't
break on older Android.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1350215850,1350215850,914a2bd66c744329ad8e84c3663a7ae51981a1d4
914a2bd66c744329ad8e84c3663a7ae51981a1d4,914a2bd6,Move the prevodb project to its own repo,"Move the prevodb project to its own repo

The prevodb project now no longer solely relates to the Android
version of PReVo so I think it makes sense to live in its own repo.
The code has been moved to:

git://git.busydoingnothing.co.uk/prevodb.git
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1349429761,1349429761,fa782b7580d5b7cd947c348be3aa3f525a85df0e
fa782b7580d5b7cd947c348be3aa3f525a85df0e,fa782b75,pdb: Pipe the output of the prevo tool to groff and less,"pdb: Pipe the output of the prevo tool to groff and less

The generated article for the prevo tool is now passed on to a bash
subprocess which sets up a pipe between groff and less. Groff is
configured to parse a man page. The article is still generated as
normal text but the idea is to change it be in nroff format.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1349390517,1349390517,878981d2e176246cc60607520383d4f7b0a2f23d
878981d2e176246cc60607520383d4f7b0a2f23d,878981d2,prevodb: Add a tool for reading the single file database,"prevodb: Add a tool for reading the single file database

This adds a tool for showing an article from the single file database.
It takes an optional language code and a word from the index and
displays the strings from the article. The idea is eventually to
format these strings either with nroff or html and display them in
some pager.

The tool can also complete language and word names with the intention
that eventually this could be integrated with bash completion to make
a convenient command line dictionary.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1349289333,1349290867,9038c26edcae922f82e268ef874a942037bf41e2
9038c26edcae922f82e268ef874a942037bf41e2,9038c26e,pdb-file: Add support for reading,"pdb-file: Add support for reading

A PdbFile can now either be opened for reading or writing and there
are equivalent functions to all of the writing functions to read the
data again.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1349289243,1349290867,9ed955dfd91f48da9aba337ef9d76783b01232e6
9ed955dfd91f48da9aba337ef9d76783b01232e6,9ed955df,prevodb: Add an option to save the database to a single file,"prevodb: Add an option to save the database to a single file

This adds a -s option to save the database in a single file. The idea
is that a separate utility program could access this database. The
format is slightly different and is intended to be easier to access
from a Linux system instead of Android.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1349207700,1349290864,889ebb58ca7c91f4db5dfe7d901580c800f954c8
889ebb58ca7c91f4db5dfe7d901580c800f954c8,889ebb58,Add a wrapper for writing to files with GErrors,"Add a wrapper for writing to files with GErrors

This adds a PdbFile type which wraps a file that can be written to. It
generates GErrors with the filename in the message.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1349207596,1349207596,4a9c4017414585843a8f182c4a2764ae3c57a667
4a9c4017414585843a8f182c4a2764ae3c57a667,4a9c4017,prevodb: Use GOptionGroup to parse the command line arguments,"prevodb: Use GOptionGroup to parse the command line arguments

Instead of just taking the input and output as the only two arguments,
it now expects a -i and a -o option.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1348822025,1348822025,6b3e63b22bd7ba2fb809db2b43f146fc899769f6
6b3e63b22bd7ba2fb809db2b43f146fc899769f6,6b3e63b2,pdb-db: Temporarily store span offsets as byte offsets,"pdb-db: Temporarily store span offsets as byte offsets

In the article file, the span offsets are stored as a count of UTF-16
code points to make it easier to work with from a Java string.
However, to make it easier to generate a database targetted for other
applications, this patch makes it now store the offsets in memory as
UTF-8 byte counts. They are then only converted to UTF-16 offsets as
the file is written.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1348605550,1348605550,6a1109000dcf346e2b2253e50e0a55dafa44e847
6a1109000dcf346e2b2253e50e0a55dafa44e847,6a110900,Add an entry to the TODO,"Add an entry to the TODO
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1348591189,1348591189,f5a81ae67b4f2a1992638014a3551aebaec47247
f5a81ae67b4f2a1992638014a3551aebaec47247,f5a81ae6,Add another TODO entry,"Add another TODO entry
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1346751891,1346751891,e087abaf8c75ccdb31bd9359da4900d01ad4ac9d
e087abaf8c75ccdb31bd9359da4900d01ad4ac9d,e087abaf,Add some things to the TODO list,"Add some things to the TODO list
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1346337110,1346337110,6727290712f1b748443891b1a57205565d64e1f9
6727290712f1b748443891b1a57205565d64e1f9,67272907,Extract the version number from the package in the about dialog,"Extract the version number from the package in the about dialog

Instead of having to manually update the version number in the string
resources for the about dialog, it now contains a placeholder string
which gets replaced by querying the version number from the package
manager. In release 0.2 I forgot to update the string so this should
fix that problem.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1346264410,1346272871,9cf99709d4d6021680afd08a57591ff09da2e607
9cf99709d4d6021680afd08a57591ff09da2e607,9cf99709,Unprepare for release,"Unprepare for release
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1344971669,1345066515,5bbaab6852978e82a78483b66fdeb5286f9f56b6
5bbaab6852978e82a78483b66fdeb5286f9f56b6,5bbaab68,Prepare for release,"Prepare for release
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1344969833,1344969833,4b434f4a2594b039c3b6e1d150f9c492288b4d57
4b434f4a2594b039c3b6e1d150f9c492288b4d57,4b434f4a,pdb-db: Show errors about articles with no content,"pdb-db: Show errors about articles with no content

Some of the articles such as '-i/' and '-iv/' don't have any <drv>s or
<subart>s so they don't get handled properly. This adds an error
message so that I won't forget about them.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1344936038,1344936038,ddb327aa393bb3181ca542e8764b376bb9617c8d
ddb327aa393bb3181ca542e8764b376bb9617c8d,ddb327aa,dump-marks: Print to standard out,"dump-marks: Print to standard out

All of the messages were going to standard out except the new lines
were going to stderr. It is probably most useful to send them all to
stdout.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1344930974,1344930974,ac69d9b0587164e8a0c0a3424762f790284a6cf1
ac69d9b0587164e8a0c0a3424762f790284a6cf1,ac69d9b0,ArticleActivity: Jump to search activity when search button is pressed,"ArticleActivity: Jump to search activity when search button is pressed

The article activity now has a key press handler which makes it jump
to the search activity when the search button is pressed.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1344894157,1344894157,96a2b6774254cb705683463fb920da781ea4806e
96a2b6774254cb705683463fb920da781ea4806e,96a2b677,Add menus to the article and search activities,"Add menus to the article and search activities

The article and search activities now have menus to jump back to the
language selection and search activities. There is a common menu class
with static utility methods to implement the menu actions. Whenever a
language is selected, a preference is updated to store the last
language. When the search option is pressed the search for the last
used language is shown.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1344891708,1344891755,80f0fd0edc1fc325a52e4d9b6102e4634d60c8f7
80f0fd0edc1fc325a52e4d9b6102e4634d60c8f7,80f0fd0e,pdb-db: Expand abbreviations in 'uzo' tags with tip stl,"pdb-db: Expand abbreviations in 'uzo' tags with tip stl

Any uzo tags that have the tip attribute set to ‘stl’ will now be
expanded instead of showing the abbreviation.

PdbDbRefType has been replaced with PdbReplacement so that the code to
look for the right replacement in the list can be shared.

The element handlers for spannable string elements can now set a flag
on the parse state to ignore the element's children. This is needed to
avoid adding the abbreviation once its expansion has been added.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1344850550,1344850550,b21c779cd87bdfde6f7d12efc64f9b46eb4f7dd6
b21c779cd87bdfde6f7d12efc64f9b46eb4f7dd6,b21c779c,dump-marks: Print best matches,"dump-marks: Print best matches

Try to find and print the next best mark when a missing mark is found.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1344468822,1344468877,e9efee30d6f76b55ae387d54c30ffedccdac8315
e9efee30d6f76b55ae387d54c30ffedccdac8315,e9efee30,pdb-db: Try less precise marks if some are missing,"pdb-db: Try less precise marks if some are missing

If a link is found to a missing mark, instead of immediately giving up
on the mark it will now try increasingly less precise marks until it
finds a match. The mark is made less precise by removing one of the
components separated by dots. It sounds like some of the articles
deliberately point to a section that is expected to be written later
so this should at least let it find the right article.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1344468004,1344468318,599e5c1a3dbca9398aa0bd8375cb638ee696abec
599e5c1a3dbca9398aa0bd8375cb638ee696abec,599e5c1a,Add more versions of the icon with different resolutions,"Add more versions of the icon with different resolutions

The icon looked a bit naff on the home screen because it was being
scaled up. This adds ldpi, hdpi and xhdpi versions of it so Android
can pick the right size.

The icon ID has been renamed to ic_launcher and the old icon that was
in the stub package has been removed.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1344178554,1344178554,53872682dadef8154780d29830525c7dd816ff06
53872682dadef8154780d29830525c7dd816ff06,53872682,pdb-db: Strip out references with no corresponding mark,"pdb-db: Strip out references with no corresponding mark

If we couldn't find the mark for a reference, instead of just leaving
a link to article 0, mark 0 the span for the reference is now removed.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1344173525,1344173552,b9d0b33d37a07e4065218fad9feb7945233c1b95
b9d0b33d37a07e4065218fad9feb7945233c1b95,b9d0b33d,pdb-db: Use an embedded linked list for the list of spans,"pdb-db: Use an embedded linked list for the list of spans

This will be used so that we can remove span from its list. An
embedded list helps here because we can easily work out the spans list
node.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1344173210,1344173552,e0b51181763ffca472c34a9eacb99cde7b3940b6
e0b51181763ffca472c34a9eacb99cde7b3940b6,e0b51181,prevodb: Add an embedded linked list type,"prevodb: Add an embedded linked list type

Embedded linked lists are more efficient and convenient for some
situations. This pinches the list implementation from the Wayland
source code.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1344173069,1344173548,0180e02e4f27945705539d2362281154fa531083
0180e02e4f27945705539d2362281154fa531083,0180e02e,pdb-db: Make a function for the common code to resolve a reference,"pdb-db: Make a function for the common code to resolve a reference

There were two identical bits of code that were resolving
PdbDbReferences to an article and section number so we combine them
into one function.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1344168058,1344168058,df8aa79b7c44241cbdf8a53b943c8bedcdb353b5
df8aa79b7c44241cbdf8a53b943c8bedcdb353b5,df8aa79b,prevodb: Add a test program to find missing refs,"prevodb: Add a test program to find missing refs

This adds 'dump-marks' which is a standalone program which parses all
of the XML files in the revo zip file and outputs a list of <ref> tags
which point to a missing mark.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1344159847,1344159847,72c00dedb82f22f2861a83493b35ec07c60fb76b
72c00dedb82f22f2861a83493b35ec07c60fb76b,72c00ded,pdb-xml: Initialise the handler callbacks,"pdb-xml: Initialise the handler callbacks

The handler callbacks are optional except they weren't being
initialised so that if they weren't specified then it would crash.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1344159781,1344159781,7700f1878328f779ef1bd1b203071984411fdc4b
7700f1878328f779ef1bd1b203071984411fdc4b,7700f187,Set the minimum SDK version to 7,"Set the minimum SDK version to 7

The package has now been tested on Android 2.1 so we might as well
support that.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1344075850,1344075850,e3c00f3dd20d3a2379b1ca28bfe5a3ddaa173517
e3c00f3dd20d3a2379b1ca28bfe5a3ddaa173517,e3c00f3d,Assume the default charset is UTF-8,"Assume the default charset is UTF-8

The String conversion methods that take an explicit Charset object are
only available since API level 9. If you don't specify a Charset
object then it will use the 'default charset' which as far as I can
tell is always UTF-8 on Android. This should make it work on Android
2.1.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1344075818,1344075818,d4df1c7e20aa42e9569025928abf7d1c048fb943
d4df1c7e20aa42e9569025928abf7d1c048fb943,d4df1c7e,LanguageDatabaseHelper: Don't use insertWithOnConflict,"LanguageDatabaseHelper: Don't use insertWithOnConflict

insertWithOnConflict is not available in Android 2.1. Looking at the
code, it just seems to generate a statement anyway so it doesn't look
like there's any advantage to it over just using execSQL directly.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1344075666,1344075666,02ec7111b109cd2bf9b47711cd42a02ac5145952
02ec7111b109cd2bf9b47711cd42a02ac5145952,02ec7111,Allow the app to be installed on an SD card,"Allow the app to be installed on an SD card

The app is reasonably large and it doesn't have any services so it
probably makes sense to install it on an SD card.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1343946677,1343946742,68fe4bd099b0be77451b15495f5f278ef142d467
68fe4bd099b0be77451b15495f5f278ef142d467,68fe4bd0,Add a TODO,"Add a TODO
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1343911562,1343911562,8f986c2027ab8a8786cdb1965d059d3dfe85f8fa
8f986c2027ab8a8786cdb1965d059d3dfe85f8fa,8f986c20,Unprepare for release,"Unprepare for release
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1343911299,1343911299,c7f0bd3ebde9af06765f85bb390e218ef61616e4
c7f0bd3ebde9af06765f85bb390e218ef61616e4,c7f0bd3e,Prepare for release,"Prepare for release
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1343861847,1343861847,5dcc4e13bbeb14449dc127c33cdefec4d0fbcf67
5dcc4e13bbeb14449dc127c33cdefec4d0fbcf67,5dcc4e13,Add an about dialog,"Add an about dialog

This contains the copyright and version information.

There is now an information icon on the main activity to display
dialog.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1343856461,1343856569,21796d1948ee5d930ce1db4947fd52b8e21a213a
21796d1948ee5d930ce1db4947fd52b8e21a213a,21796d19,Increase the minimum SDK version to 10,"Increase the minimum SDK version to 10

Instead of just picking a number out of the air, this updates the
number to 10 (Honeycomb / 2.3.3) which seems to support the app at
least in the emulator.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1343832112,1343832112,2d98456b23b4297d8aae8b506caa202bbb0a8a56
2d98456b23b4297d8aae8b506caa202bbb0a8a56,2d98456b,pdb-db: Add marks while looking for translations,"pdb-db: Add marks while looking for translations

Previously the marks were only added while processing <drv> tags. That
meant that marks on the <subart>s and other tags would not be found.
Adding them while looking for translations is a convenient place
because the functions to find them are passed the section pointer
directly.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1343815116,1343815116,fd2a79170623cc06622d0e22fa9d7780f9373c21
fd2a79170623cc06622d0e22fa9d7780f9373c21,fd2a7917,pdb-db: Don't look for the innermost mark when processing translations,"pdb-db: Don't look for the innermost mark when processing translations

The mark isn't used anymore so this was just dead code.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1343784503,1343784503,f460baeb4349c1607c90db0403ca2f95fcc9c764
f460baeb4349c1607c90db0403ca2f95fcc9c764,f460baeb,gitignore: Fix the pattern for the article files,"gitignore: Fix the pattern for the article files
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1343783829,1343783829,7523f13b1eccfdc9c77c54b82fc7575304c4fc32
7523f13b1eccfdc9c77c54b82fc7575304c4fc32,7523f13b,pdb-db: Search for the translations directly after creating a section,"pdb-db: Search for the translations directly after creating a section

Instead of searching for all of the translations after creating the
article, then are now searched for after creating each section. That
way the translation references can directly point to the right
section. This is necessary because some translations are not under a
section with a mrk attribute.

There are now two ways to search for translations; either recursively
or by just looking at the direct children of a given node. The first
is used when processing an entire drv or a spannable string and the
second is used when processing a container element whose children may
generate other sections.

The references, links and marks have been renamed and reorganised.
There are now comments to explain what they are used for.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1343764976,1343783388,81a7550145fa0cc6419ff0cecf055103bbf5bbfd
81a7550145fa0cc6419ff0cecf055103bbf5bbfd,81a75501,pdb-db: Support references to the filename,"pdb-db: Support references to the filename

Some <ref> tags just use the filename of the article instead of an
actual mrk attribute. To support this prevodb now adds a mark to the
first section in every file based on the filename.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1343680770,1343680770,b638bffa40158a372e529b4cf9d41bd38c05b771
b638bffa40158a372e529b4cf9d41bd38c05b771,b638bffa,pdb-db: Support variations for headwords,"pdb-db: Support variations for headwords

Some <kap> tags contain <var> tags for a variation of the word with
exactly the same meaning. The <var> tags were being ignored so only
the first word would appear with a load of commas after it. This patch
makes it strip the commas and recursively add the headword from the
embedded <var> tags to the index. The embedded <kap> tags are no
longer ignored if they have a parent <kap> tag.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1343678604,1343678604,416748ce8b7b5b407c148272e322d318a694c87f
416748ce8b7b5b407c148272e322d318a694c87f,416748ce,pdb-db: Enumerate sub-articles,"pdb-db: Enumerate sub-articles

The sub-articles now get a separate section header with a roman
numeral. The sub-article is assumed to either contain a separate list
of <dif> tags or a single spannable string.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1343676851,1343676851,ac5bb4e873d26f999087f7ed2260e5b14c629f51
ac5bb4e873d26f999087f7ed2260e5b14c629f51,ac5bb4e8,pdb-db: Handle subsnc and subdrv,"pdb-db: Handle subsnc and subdrv

These are now enumerated instead of just weirdly joining together the
paragraphs.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1343676404,1343676404,78ef0f258e1c5fb530afb3ed14de3e478f28444b
78ef0f258e1c5fb530afb3ed14de3e478f28444b,78ef0f25,prevodb: Add a utility to convert an ordinal to roman numerals,"prevodb: Add a utility to convert an ordinal to roman numerals

Roman numerals will be needed for the sub article headers. The code
for the utility is taken from Mozilla.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1343676350,1343676350,50fccf816a99bd4a244cfba480c5d72e69f29cc9
50fccf816a99bd4a244cfba480c5d72e69f29cc9,50fccf81,ArticleActivity: Scroll to the right section on initial create,"ArticleActivity: Scroll to the right section on initial create

The scroll view for the article is now implemented as a subclass so
that it can override the onLayout function. This is used to delay
scrolling to the right widget until after the initial layout in order
to ensure the views all have the right position.

The article activity now uses this to scroll to the right section on
onCreate.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1343630714,1343630714,700ea096d498d7295e4262830dec5f386c6900cb
700ea096d498d7295e4262830dec5f386c6900cb,700ea096,SearchActivity: Try to show the keyboard,"SearchActivity: Try to show the keyboard

Whenever the activity is started it will now try to give focus to the
search entry and ask Android to show the keyboard.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1343627063,1343627063,f38df48805cdfd1152bbb1e30669d6e1f4a40f9a
f38df48805cdfd1152bbb1e30669d6e1f4a40f9a,f38df488,pdb-db: Ignore empty translations,"pdb-db: Ignore empty translations

For some reason some of the articles have empty <trd> tags. These were
messing up the indices so we should ignore them.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1343625328,1343625328,a5a023b79b7ec0393808225feb6ce2ae1150dbc7
a5a023b79b7ec0393808225feb6ce2ae1150dbc7,a5a023b7,pdb-db: Skip the leading '-' for index entries in Esperanto,"pdb-db: Skip the leading '-' for index entries in Esperanto

The esperanto suffixes have a leading '-' which should probably be
ignored for the ordering in the index.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1343623952,1343623952,5de64c37682d1bb211c1993a98605483b3be34df
5de64c37682d1bb211c1993a98605483b3be34df,5de64c37,pdb-db: Don't add klr and ofc tags to index entries for translations,"pdb-db: Don't add klr and ofc tags to index entries for translations

The text in the <klr> and <ofc> tags is now stripped out of index
entries for translations. The <klr> tags are however retained in the
display name.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1343569585,1343572672,b6552275025844b8f6e4c410b7414fb88abb0de3
b6552275025844b8f6e4c410b7414fb88abb0de3,b6552275,pdb-trie: Ignore display names that are identical to the real name,"pdb-trie: Ignore display names that are identical to the real name

The display name is now strcmp'd with the real name when an index
entry is added. If they match then the display name will be ignored in
order to avoid redundantly storing extra data.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1343572594,1343572672,0a513afcc0302e30157ff90d2d33edc1e44d0682
0a513afcc0302e30157ff90d2d33edc1e44d0682,0a513afc,pdb-doc: Add pdb_doc_element_has_child_element,"pdb-doc: Add pdb_doc_element_has_child_element

This just returns TRUE if the element has an element type child node.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1343572539,1343572672,6396fd91e029fe377b5ae9c7bc27a1c6d1c46c0f
6396fd91e029fe377b5ae9c7bc27a1c6d1c46c0f,6396fd91,pdb-doc: Add pdb_doc_append_element_text_with_ignore,"pdb-doc: Add pdb_doc_append_element_text_with_ignore

This is an alternate version of pdb_doc_append_element which has a
va_arg list of tag names to ignore. The original function now works in
terms of the new function.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1343572473,1343572672,cf48b83d7812940dfaac90b331a97ff5f92a007b
cf48b83d7812940dfaac90b331a97ff5f92a007b,cf48b83d,pdb-revo: Allow the revo zip file to actually be a directory,"pdb-revo: Allow the revo zip file to actually be a directory

Instead of requiring the zip file to be passed directly to pdb-revo,
it can now also accept the unzipped directory. This is a lot faster
than launching a separate process to unzip each file.

All of the functions in pdb-revo now have two implementations
depending on whether the data is in a zip file or a directory.

Anything that was using pdb-revo now gives paths relative to the revo/
directory instead of including revo/.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1343567235,1343567235,205afcf056c0febf479145cfa55707dd7257dc9d
205afcf056c0febf479145cfa55707dd7257dc9d,205afcf0,Automatically guess the main languages based on the ones used,"Automatically guess the main languages based on the ones used

There is now an SQLite database containing the list of languages used
along with a usage count. Whenever a language is selected from the
langauge activity the usage count is updated. The top two most used
languages are shown along with Esperanto as the main languages.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1343490764,1343490764,1e41676de040c6659b27e0382f372e79c7cfa8fb
1e41676de040c6659b27e0382f372e79c7cfa8fb,1e41676d,SearchAdapter: Convert the search string to lower case,"SearchAdapter: Convert the search string to lower case

If the user types something to search for with upper case letters then
it should convert it to lower case because all of the index entries
are in lower case.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1343486275,1343486275,f364d8b26bb74c6b54f8e43fbcc5ad2d826c7000
f364d8b26bb74c6b54f8e43fbcc5ad2d826c7000,f364d8b2,pdb-db: Fix the unitialised db->references list,"pdb-db: Fix the unitialised db->references list

This was picked up by valgrind
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1343485833,1343485833,4df7e6931316d8df838517eb2dcc0d9315fdf914
4df7e6931316d8df838517eb2dcc0d9315fdf914,4df7e693,pdb-db: Add index entries for the translations,"pdb-db: Add index entries for the translations

This adds an index entry to the corresponding language for each <trd>
tag. The index entries have been replaced with a union that can either
represent a direct pointer to a section or a mark to indirectly
reference the section. That way the entries for the translations can
be added without knowing the section number.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1343485661,1343485821,827daaa15470ef8ae290edd2afad8c9d9663f899
827daaa15470ef8ae290edd2afad8c9d9663f899,827daaa1,ArticleActivity: Log invalid spans,"ArticleActivity: Log invalid spans

This adds a 'WTF' Log for invalid spans when building a SpannableString.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1343203579,1343203627,871437b91a997a308d3c1d5713c510de62356ead
871437b91a997a308d3c1d5713c510de62356ead,871437b9,dump-article: Validate the UTF-8 and the span lengths,"dump-article: Validate the UTF-8 and the span lengths

This adds checks to dump-article to validate the UTF-8 strings and
that the span indices are all in range.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1343203460,1343203627,975fef63e2150af29e749213953a0c47c299cf48
975fef63e2150af29e749213953a0c47c299cf48,975fef63,pdb-db: Add translations,"pdb-db: Add translations

The <trd> and <trdgrp> tags are separately searched for after
processing each article. The translations for each language are added
as a separate section.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1343123611,1343203623,0391cd0851cf3ffb16e5cc14c5e878b20ca89cba
0391cd0851cf3ffb16e5cc14c5e878b20ca89cba,0391cd08,pdb-doc: Add pdb_doc_get_attribute,"pdb-doc: Add pdb_doc_get_attribute

This gets the value of an attribute from an element or NULL if it's
not set.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1343123436,1343123436,9de4baaf62ddc31648f42a01f385d14209be3acc
9de4baaf62ddc31648f42a01f385d14209be3acc,9de4baaf,pdb-doc: Added pdb_doc_append_element_text,"pdb-doc: Added pdb_doc_append_element_text

This is similar to pdb_doc_get_element_text except that it appends the
data to an existing GString. pdb_doc_get_element_text has been changed
to use the new function.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1343123382,1343123382,fd911aee2730af0b456dc3214f4ba5df65d6e36d
fd911aee2730af0b456dc3214f4ba5df65d6e36d,fd911aee,pdb-doc: Fix pdb_doc_get_element_text for empty elements,"pdb-doc: Fix pdb_doc_get_element_text for empty elements

The function was always adding the first child of an element to the
stack even if the element doesn't have a child so it would crash for
empty elements.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1343123291,1343123291,a17ee1e4d9c76cad7215a2485566f315da77de76
a17ee1e4d9c76cad7215a2485566f315da77de76,a17ee1e4,pdb-lang: Add a function to get the name of a language given the code,"pdb-lang: Add a function to get the name of a language given the code

The hash table of language codes now points to the PdbLangEntry
instead of directly to the trie for the lang. That way
pdb_lang_get_name can also return the real language name.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1343123140,1343123140,7b7813b6484acecda9ef3827c6f3c27a44ee5448
7b7813b6484acecda9ef3827c6f3c27a44ee5448,7b7813b6,pdb-db: Skips spans with zero length,"pdb-db: Skips spans with zero length

Sometimes PdbDb will end up creating a span with zero length for
example because of the empty <ekz> tag in al.xml. This ends up being
processed as the end of the list of spans which makes it interpret the
remaining spans as an invalid string.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1342995411,1342995411,d6137ca43b4a056c7885dcbb7f984a4918a1141f
d6137ca43b4a056c7885dcbb7f984a4918a1141f,d6137ca4,Add a small test program to dump an article,"Add a small test program to dump an article

This adds a little noinst test program to read a processed article
file and dump the string along with the numbers for the spans.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1342994711,1342994711,2f2d43fe09d8ef758b51af134a1a74ba7f55cb9a
2f2d43fe09d8ef758b51af134a1a74ba7f55cb9a,2f2d43fe,pdb-db: Add icons to the references,"pdb-db: Add icons to the references

This adds icons next to the references depending on the type. The
icons are implemented using Unicode symbols instead of actually using
pictures so that it will scale properly and use the right colours.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1342779198,1342779198,f79488274595d936bdba53662a565c69a78433bf
f79488274595d936bdba53662a565c69a78433bf,f7948827,pdb-db: Flush the paragraph before expanding a <tld>,"pdb-db: Flush the paragraph before expanding a <tld>

This was causing the paragraph to be inserted after the expansion of
the <tld> if that was the first thing.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1342772819,1342772819,6ceb420ec969982ad876b99b883ed4d1eb2d3d87
6ceb420ec969982ad876b99b883ed4d1eb2d3d87,6ceb420e,Fix the name of pdb_doc_parse_spannable_string,"Fix the name of pdb_doc_parse_spannable_string
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1342739646,1342739646,df796290999141e952349fa8207566c09eeb42e7
df796290999141e952349fa8207566c09eeb42e7,df796290,"Add styles for rim, em and aut tags","Add styles for rim, em and aut tags

The <aut> tag needs to add [ and ] arround the span so there is now a
new stack entry type for adding a character after all of the children
have been processed.

The <rim> tag forms a paragraph and has a span. The span needs to be
applied after the paragraph separator. To make this easier there is
now a 'paragraph' field in the span descriptions to make a paragraph
around the span. pdb_db_parse_node makes sure to handle the paragraph
before the span is started.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1342739526,1342739526,a6d651683037360b42230e2026a163fdf863f4be
a6d651683037360b42230e2026a163fdf863f4be,a6d65168,ArticleActivity: Handle reference spans,"ArticleActivity: Handle reference spans

Reference spans are now converted to a ClickableSpan. The onClick
method either launches a new activity with an intent for the given
article and span or just directly scrolls to the right section if it
is within the same article. The section number from the intent when
the activity is started still doesn't cause it to scroll because I
think this would need something to wait until the layouting has
occurred.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1342735247,1342735397,350e078f154e32cd6d7e08ea9e85be55738f7b49
350e078f154e32cd6d7e08ea9e85be55738f7b49,350e078f,prevodb: Handle <ref> tags and mrk attributes,"prevodb: Handle <ref> tags and mrk attributes

Whenever a <drv> is parsed the child nodes are scanned for mrk
attributes and a mark is added for each.

The <ref> tags now cause a reference span to be added with the
corresponding PdbDbReference. The list of references is now stored
against the PdbDb instead of against each article because there is no
reason not to and it means the handler for the ref tag doesn't need a
pointer to the article.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1342735065,1342735397,203d4095f5c360c7daafc733a11701540e013a23
203d4095f5c360c7daafc733a11701540e013a23,203d4095,pdb-db: Split the sences into separate paragraphs,"pdb-db: Split the sences into separate paragraphs

The parser for spannable strings has been split up so that it stores
its state in a separate struct. There is a separate function to handle
parsing a stack entry pointing to a node. The stack entries can now be
one of three types; a node entry, a close span entry and a paragraph
marker entry. The paragraph marker entry is used to break a paragraph
after the tag is closed. The paragraph separators are inserted by
setting a flag on the parser state. The next time any text is added
the paragraph marker will be inserted. That way it won't duplicate
paragraph markers or add redundant ones at the end of the string. The
array of element types now also has an optional callback to do
additional processing for that element. This is used for the 'snc' tag
to start the paragraph and insert the sence number.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1342726244,1342735397,529c645b650f482fe08b1ecf524a9bfbb0565be6
529c645b650f482fe08b1ecf524a9bfbb0565be6,529c645b,ArticleActivity: Support superscript and italic spans,"ArticleActivity: Support superscript and italic spans

The maybeReadSpannableString method now processes the spans in the
document and sets the spans on the SpannableString. Currently it only
understands italic and superscript.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1342688312,1342735396,07a5a9fef24150195498bdcf8e13c78e1b06798a
07a5a9fef24150195498bdcf8e13c78e1b06798a,07a5a9fe,pdb-db: Add spans for the <ofc> and <ekz> tags,"pdb-db: Add spans for the <ofc> and <ekz> tags

The ofc tags are marked with a superscript span and the ekz tags are
marked with an italic span.

The offsets and lengths for the spans have been converted to represent
the length of the string if it was encoded in UTF-16. This makes it
easier to handle in the Java side.

When a span is started a closing marker is added to the processing
stack so that it knows to store the end of the span after all of the
children are processed.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1342688231,1342735396,ec70e063f692368958e90ea43f12580a72173d22
ec70e063f692368958e90ea43f12580a72173d22,ec70e063,ArticleActivity: Style the section headers as list separators,"ArticleActivity: Style the section headers as list separators

This adds a layout resource with uses the listSeparatorTextViewStyle
for a TextView. Each alternate string from the article (ie, the
section headers) is created by inflating this layout instead of a new
TextView.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1342650754,1342735393,4a71452fa2aec709f24230e3a64b470fc42b0854
4a71452fa2aec709f24230e3a64b470fc42b0854,4a71452f,search: Add an EditText to the top of the search view,"search: Add an EditText to the top of the search view

With a soft keyboard it's not possible to make the keyboard appear
unless an EditText is activated so we can't just use the default
filtering mechanism to search. This adds an edit control which sets
the filter text whenever it is changed so that the user has something
to click on to bring up the keyboard.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1342563383,1342605652,115fb9cb718678f1a1ef283c53385b705e1e7df8
115fb9cb718678f1a1ef283c53385b705e1e7df8,115fb9cb,prevodb: Resolve the article and section numbers later,"prevodb: Resolve the article and section numbers later

Instead of directly storing the article and mark number in the index
when the reference is first encountered, the PdbDb now just stores a
pointer to the article and section. The numbers are calculated later
once all of the articles and sections have been generated. That way
the article and section doesn't need to be added to the arrays
immediately to know its number.

The PdbTrie now stores a data pointer for each word and has a callback
function to calculate the article and mark number from that data
pointer while the trie is being compressed.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1342519940,1342519940,6f963d537f8f0cc536157ec090a18c44b057e61b
6f963d537f8f0cc536157ec090a18c44b057e61b,6f963d53,ArticleActivity: Fix the maybeReadAll method,"ArticleActivity: Fix the maybeReadAll method

It looks like InputStream.read can return less bytes than requested if
there aren't enough immediately available.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1342082655,1342082655,33af769aaed6f84b68f50a7538b3575a61a6999d
33af769aaed6f84b68f50a7538b3575a61a6999d,33af769a,ArticleActivity: Start of code to load the SpannableStrings,"ArticleActivity: Start of code to load the SpannableStrings

Instead of a WebView the ArticleActivity now just creates a
LinearLayout with a TextView for each of the strings from the binary
dump of the article. The spans are currently skipped over instead of
being applied to the string.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1341861933,1342047439,645872e63e9acfe4ea903cf986137d7c71ade58b
645872e63e9acfe4ea903cf986137d7c71ade58b,645872e6,pdb-db: Write out a binary file containing the sections of each article,"pdb-db: Write out a binary file containing the sections of each article

Instead of dumping out the XML and getting the app to do process it,
the plan is now to write out a binary file with a list of
SpannableStrings for the app to display directly. This changes prevodb
to start building the array of strings. The XML document is now parsed
using a PdbDoc instead of trying to parse the data directly from
Expat. This makes the code a lot easier to maintain because it doesn't
have to manage a separate stack for the state and certain branches of
the tree can be handled multiple times.

Although the framework is setup to add spans to the strings all of the
strings are currently just output directly with no spans.

This patch breaks the translation indices and the marks for all of the
sections are zero. These will be fixed in later patches.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1341862004,1342047160,2b0fd3be9b25bedeaaf1bf8b54d79ffc6e69571b
2b0fd3be9b25bedeaaf1bf8b54d79ffc6e69571b,2b0fd3be,prevodb: Add a small unit test to check PdbDoc,"prevodb: Add a small unit test to check PdbDoc

This checks loading all of the XML files from a ReVo zip file and
verifies the integrity of the generated PdbDoc.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1341959479,1342047160,e884b7dfaca80b5bb444bdbe1b64af438749beba
e884b7dfaca80b5bb444bdbe1b64af438749beba,e884b7df,prevodb: Add an object to represent a mini DOM tree of an XML file,"prevodb: Add an object to represent a mini DOM tree of an XML file

This adds a PdbDoc struct which represents a tree of an XML file. The
DOM is build up using a PdbXmlParser. The theory is that it will be a
lot simpler to build the articles from a DOM model than trying to use
SAX.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1341959300,1342047153,0ba10a682d5ca85939388d2c5ddf70d9b29fc402
0ba10a682d5ca85939388d2c5ddf70d9b29fc402,0ba10a68,Trie: Mask off bit 31 of the file size,"Trie: Mask off bit 31 of the file size

It looks like the French index was somehow ending up with the empty
string as being a valid word so that total file size would end up
negative.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1341181701,1341864953,28e82c724c66f1c3ebe5a61aa30eb78ca63982fd
28e82c724c66f1c3ebe5a61aa30eb78ca63982fd,28e82c72,pdb-revo: Initialise in_list,"pdb-revo: Initialise in_list

Valgrind was picking this up as uninitialised data.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1341864917,1341864917,5786ccd34e316f7cb9b2feaff1d8ae0962365de7
5786ccd34e316f7cb9b2feaff1d8ae0962365de7,5786ccd3,pdb-db: Fix the terminator for pdb_try_mkdir,"pdb-db: Fix the terminator for pdb_try_mkdir

error was being passed at the end instead of passing the NULL
terminator.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1341864878,1341864878,754071e62c63207d0fc3048135d846468471f356
754071e62c63207d0fc3048135d846468471f356,754071e6,pdb-db: Don't forget to free the PdbDbArticle structs,"pdb-db: Don't forget to free the PdbDbArticle structs
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1341864849,1341864849,927be75962fda9e35c6c35d9f551b378edc292ab
927be75962fda9e35c6c35d9f551b378edc292ab,927be759,pdb-revo: Change API to directly pull data instead of a callback,"pdb-revo: Change API to directly pull data instead of a callback

Instead of having a single function to read a file from the zip file
with a callback whenever data is encountered, there is now a struct to
represent an open file and the caller and directly call a function to
read the next chunk of data.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1341862011,1341864615,07f2611f4f0cbaa126ee1c670e726fc3b2ee013a
07f2611f4f0cbaa126ee1c670e726fc3b2ee013a,07f2611f,dump-index: Fix the displayed article number,"dump-index: Fix the displayed article number

The article number was including the flags.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1341101517,1341101517,98c9a26bc6b9eb9099a2bdb596406b34f5044213
98c9a26bc6b9eb9099a2bdb596406b34f5044213,98c9a26b,db: Coalesce spaces in the index entries,"db: Coalesce spaces in the index entries

All groups of space characters are replaced with a single space as
well as trimming the beginning and end of the index entry.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1341101352,1341101352,b598ea249ae62bdcd14ea363db100e1a9670854b
b598ea249ae62bdcd14ea363db100e1a9670854b,b598ea24,Rename PdbTrieBuilder to PdbTrie,"Rename PdbTrieBuilder to PdbTrie

The code used to have a distinction between an object representing the
tree as it was built up and an object to represent the final
compressed tree but this is no longer the case. We might as well
rename it to make it a bit easier to use.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1341100744,1341100744,d07b6faf9ee4003089fb74bc7231d1ea25a9fd59
d07b6faf9ee4003089fb74bc7231d1ea25a9fd59,d07b6faf,lang: Skip languages that don't have any translations,"lang: Skip languages that don't have any translations

The cfg/linvgoj.xml file from ReVo seems to list a lot of languages
that aren't actually used. To make the language list smaller we might
as well skip these out.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1341100490,1341100490,057daa8121019b8f231587a0c8bd5a72de580c0c
057daa8121019b8f231587a0c8bd5a72de580c0c,057daa81,prevodb: Skip pictures,"prevodb: Skip pictures
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1341098226,1341098226,72e2de39699a944311ef48b2adbadf5e6b366a88
72e2de39699a944311ef48b2adbadf5e6b366a88,72e2de39,prevodb: Ignore translations of examples,"prevodb: Ignore translations of examples
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1341098190,1341098190,56577f812205af8e8fe271d30c238896ac4facb0
56577f812205af8e8fe271d30c238896ac4facb0,56577f81,db: Add translations to the trie indices,"db: Add translations to the trie indices
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1341097091,1341097091,8182683c33f7b1ab2afaa2815ecd85056e946e8f
8182683c33f7b1ab2afaa2815ecd85056e946e8f,8182683c,Add the files generated by prevodb to the .gitignore,"Add the files generated by prevodb to the .gitignore
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1341092926,1341092926,de8ce2dd9fc6ed592caf9244be39ab55813f3b76
de8ce2dd9fc6ed592caf9244be39ab55813f3b76,de8ce2dd,Add a view for the article,"Add a view for the article

Currently this just dumps the article into a WebView with no styling.
This ends up just displaying unreadable text.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1341092647,1341092770,2db0d9b455fcf309c788ab841abd2b19d9495f3b
2db0d9b455fcf309c788ab841abd2b19d9495f3b,2db0d9b4,pdb-db: Skip 'fnt' and 'adm' tags,"pdb-db: Skip 'fnt' and 'adm' tags
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1341092575,1341092575,ac369d9a3df28156c8dd58d998e734375d8a9a2e
ac369d9a3df28156c8dd58d998e734375d8a9a2e,ac369d9a,Support the 'lit' attribute of the <tld> tag,"Support the 'lit' attribute of the <tld> tag

The lit attribute gives an alternate character to use for the first
character of the root word. This is usually used to capitalise it.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1341088698,1341088698,b84e672f443ffc75c05c56543e2f3b135525e674
b84e672f443ffc75c05c56543e2f3b135525e674,b84e672f,Change the trie format to allow multiple articles for a keyword,"Change the trie format to allow multiple articles for a keyword

When a valid word is encountered in a tree it is now followed by a
list of articles and marks instead of just one. Also an article can
have an optional alternative name to display instead of the one stored
in the index. That way it is possible to have ""Britujo"" be listed
under the index ""britujo"". PdbDb now always converts the index name to
lowercase before passing it on to the trie and will use the optional
display name if that caused the name to change.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1341088516,1341088516,789e4f097c15d7e94370f62e0b3e46a2ce6a472d
789e4f097c15d7e94370f62e0b3e46a2ce6a472d,789e4f09,pdb-db: Resolve references to an article and mark number,"pdb-db: Resolve references to an article and mark number

Any 'cel' attributes in the article are now marked in a list instead
of writing out the value to the article buffer. While the article is
saved all of the references are resolved using the hash table so that
it can instead store the article and mark number to make it easier for
the Android application to find the right reference.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1341082692,1341082692,62627925e4029f9f731b4ca31eeab74e68619dce
62627925e4029f9f731b4ca31eeab74e68619dce,62627925,pdb-db: Just copy the XML instead of trying to convert to HTML,"pdb-db: Just copy the XML instead of trying to convert to HTML

It looks like the WebView in Android doesn't work very well so it will
probably be easier to parse the XML in the application. prevodb now
mostly just copies the tags across except it still replaces the <tld>
references, expands entities, removes repeated whitespace and replaces
the marks with an integer.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1341079419,1341079419,12f14934013a487c49b45a70f9c9b586b7a3b88f
12f14934013a487c49b45a70f9c9b586b7a3b88f,12f14934,Add the missing search.xml file,"Add the missing search.xml file

This got left out in d57afff51cc
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1341060309,1341060309,88ab1645ad613970e31295e2ca9a6707e8677b52
88ab1645ad613970e31295e2ca9a6707e8677b52,88ab1645,Add a GPLv2 notice to all of the source files,"Add a GPLv2 notice to all of the source files

This adds a copyright notice for GPLv2 to all of the source files.

Only GPLv2 is used (not later versions) because that is the license of
ReVo itself so it's potentially a derived work and should probably
have the same license.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1341060135,1341060135,6296bd9adf583b5804419fdfda50ce39db3a35d4
6296bd9adf583b5804419fdfda50ce39db3a35d4,6296bd9a,Rename LanguageActivity to LanguagesActivity,"Rename LanguageActivity to LanguagesActivity

so that it matches LanguagesAdapter
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1341059393,1341059393,a33c1a118f003f43cad805d01ffe18d139ac1d94
a33c1a118f003f43cad805d01ffe18d139ac1d94,a33c1a11,Add a view for searching a trie,"Add a view for searching a trie

This adds a new ListActivity which gets launched whenever a language
is clicked in the language activity. It loads the trie for the
corresponding language passed down from the intent and sets up a list
adapter to filter the results.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1341052833,1341052833,b90282aab08c372ade38adf9d31391a4a51022bc
b90282aab08c372ade38adf9d31391a4a51022bc,b90282aa,prevodb: Strip spaces around headwords,"prevodb: Strip spaces around headwords

Some of the <kap> entries have extra whitespace around the name which
was getting into the index.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1341052695,1341052695,9d8d4ed6e7a46d17bfccdb999dcab3e54967481c
9d8d4ed6e7a46d17bfccdb999dcab3e54967481c,9d8d4ed6,Add a class for searching in the Trie struct,"Add a class for searching in the Trie struct

This adds a class to handle an in-memory representation of the trie
structure generated by prevodb. The trie can be queried for words
beginning with a prefix. The results are filled into an existing
array.

The class also includes a main function so that it can be compiled
outside of the Android SDK for testing.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1341020736,1341020736,748a985a36cd557b26837845cb8516faa660c7c2
748a985a36cd557b26837845cb8516faa660c7c2,748a985a,Support the x-system in the filter search,"Support the x-system in the filter search

X's in the filter string are now replaced with hats according to the
'x-sistem'.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1341006304,1341006304,d2c2f0e0f2b9c82437ab0b719c28d22a8d0800ac
d2c2f0e0f2b9c82437ab0b719c28d22a8d0800ac,d2c2f0e0,Add a filter for keyboard searches in the language list,"Add a filter for keyboard searches in the language list

LanguagesAdapter now implements Filterable so that the user can type
to search within the list.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1341004332,1341004332,22f51495666876ec7ccbe0cffa91baca718edc48
22f51495666876ec7ccbe0cffa91baca718edc48,22f51495,Store the languages in the list view as an object along with the code,"Store the languages in the list view as an object along with the code

Instead of storing the languages as a list of Strings, they are now
stored in a Language object which has the language code so that we
will be able to determine which index to use once the item as clicked.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1340994268,1340994268,b244a7ce203bafe7abb0b4066cad8be845bcec46
b244a7ce203bafe7abb0b4066cad8be845bcec46,b244a7ce,prevodb: Write the files to a dir hierarchy suitable for the package,"prevodb: Write the files to a dir hierarchy suitable for the package

The indices are now written to assets/indices/

Articles are now in assets/articles/

and the language list is now stored as an XML resource in
res/xml/languages.xml.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1340966438,1340966438,30d2674b915c22ac992abf63bacac25192d98a16
30d2674b915c22ac992abf63bacac25192d98a16,30d2674b,Add the initial 'select language' activity,"Add the initial 'select language' activity

This changes the main activity to be a list view that shows all of the
languages. The languages are loaded from an XML file generated by
prevodb. The 'main languages' will eventually be retrieved from an
SQLite database by counting the usage but for now they are just
hardcoded.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1340965169,1340965236,5dee9fb5cac9ed4c1cfa218dd79e35523cd5f47a
5dee9fb5cac9ed4c1cfa218dd79e35523cd5f47a,5dee9fb5,lang: Also save the language list,"lang: Also save the language list

The language list is dumped to an XML file.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1340790146,1340790146,17e49732b6784e4ee75a6f211d4e9ee8aea652ef
17e49732b6784e4ee75a6f211d4e9ee8aea652ef,17e49732,Store the trie nodes in sorted order,"Store the trie nodes in sorted order

That way it will be possible to get a sorted list of words beginning
with a prefix.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1340790124,1340790124,8cf9bca0cf85589c049bf3518026dd70b755a369
8cf9bca0cf85589c049bf3518026dd70b755a369,8cf9bca0,prevodb: Add a test program to dump an indices file,"prevodb: Add a test program to dump an indices file
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1340752871,1340752871,8917ac839ada1623683766ecd79f2abb156a3020
8917ac839ada1623683766ecd79f2abb156a3020,8917ac83,prevodb: Add support for saving the results,"prevodb: Add support for saving the results

The program now takes an extra parameter as a directory to store the
results in. The indices and articles are written to subdirectories of
that.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1340752791,1340752791,199877e8fd79417e8a5105103766c499c1084458
199877e8fd79417e8a5105103766c499c1084458,199877e8,trie: Support compression,"trie: Support compression

This replaces the old trie compression code from Amagramanam to
directly compressed the data into a byte buffer. The characters are
encoded in UTF-8 and the article and mark numbers are also stored.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1340752718,1340752718,c164b7b6aa5cf36b5d17767d393a6372b783ae6e
c164b7b6aa5cf36b5d17767d393a6372b783ae6e,c164b7b6,db: More work on the article generator,"db: More work on the article generator

• Some more tags are handled

• The kap words are added to the index
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1340746316,1340746316,8b36ac4fead0a1ab2e897738ae899021a8425cb0
8b36ac4fead0a1ab2e897738ae899021a8425cb0,8b36ac4f,xml: Add the current line number to pdb_xml_abort messages,"xml: Add the current line number to pdb_xml_abort messages
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1340746254,1340746254,821d63c5787430954d76eca77ff9c530f7c54127
821d63c5787430954d76eca77ff9c530f7c54127,821d63c5,trie: Switch to storing an article number and a mark number,"trie: Switch to storing an article number and a mark number

Instead of storing the 'word level' (a concept from Amagramanam) the
trie builder now stores the article and mark numbers that the word is
contained in. The compression doesn't work yet.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1340746221,1340746221,9bd9af8004c9616251091019e0e4a0128a06b1ba
9bd9af8004c9616251091019e0e4a0128a06b1ba,9bd9af80,db: Don't add tags for elements we don't care about,"db: Don't add tags for elements we don't care about
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1340739783,1340739783,ada20f17e27745fc342609b117096bf2fcf13acf
ada20f17e27745fc342609b117096bf2fcf13acf,ada20f17,db: Replace <tld> tags with the contents of the <rad> tag,"db: Replace <tld> tags with the contents of the <rad> tag

Whenever a <rad> tag is encountered its contents are copied into a
GString. Any <tld> tags are then replaced with the value of this
string.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1340739549,1340739549,41d494a85c3baade9280611bfdddb65c4cd16df9
41d494a85c3baade9280611bfdddb65c4cd16df9,41d494a8,db: Add a stack for parser handlers,"db: Add a stack for parser handlers

There is now a stack to maintain a temporary change to the callbacks
from the xml parser. That way it will be possible for example to start
skipping elements until the closing tag for that element is reached.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1340738774,1340738774,c9df7de3bd7106419e12d4984389ababf8961f89
c9df7de3bd7106419e12d4984389ababf8961f89,c9df7de3,xml: Automatically parse external entity references,"xml: Automatically parse external entity references

PdbXml now automatically handles a stack of external reference parsers
so the upper layers will see the events as if its a single document.

The stack keeps track of the filenames which can now be directly
queried from the xml parser object.

The pdb_xml_stop_parser mechanism has been replaced with an abort
function that explicitly takes a GError object to pass up.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1340727288,1340727288,3be7d27e830abf4f57ff2b29f87c32e0be582c13
3be7d27e830abf4f57ff2b29f87c32e0be582c13,3be7d27e,revo: Expand filenames with ../ sequences,"revo: Expand filenames with ../ sequences

The unzip glob matcher doesn't cope with ../ directory sequences so we
should expand them out before passing them to unzip.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1340726447,1340726447,238897e02cc8d5921db94186ce8fff87eca6961e
238897e02cc8d5921db94186ce8fff87eca6961e,238897e0,Add wrapper functions for all of the Expat API used,"Add wrapper functions for all of the Expat API used

The idea is that the parser wrapper can transparently handle external
entity references however currently it is just a direct wrapper around
Expat.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1340699230,1340699230,ebcdb51cba0ba29cc06c5eb0c10d805823baa8c5
ebcdb51cba0ba29cc06c5eb0c10d805823baa8c5,ebcdb51c,Add the start of a struct to represent the entire database,"Add the start of a struct to represent the entire database

PdbDb will parse all of the XML documents from ReVo and store the list
of articles in memory with the indices. Currently this just generates
an HTML segment for each article with <span> tags instead of the
document's own tags.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1340696302,1340696302,d3104d08c83888af185e7f106869d9aa171b6d64
d3104d08c83888af185e7f106869d9aa171b6d64,d3104d08,lang: Add a trie builder for each language,"lang: Add a trie builder for each language

The PdbLangEntry struct now has a PdbTrieBuilder member so that the
index for each language could be built up there. There is a hash table
to index the languages based on the language code.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1340696170,1340696170,6a424b35708a9d588f58aec36b823f3cdc51dbd5
6a424b35708a9d588f58aec36b823f3cdc51dbd5,6a424b35,revo: Fix the g_poll usage,"revo: Fix the g_poll usage

I misunderstood g_poll (and poll) and thought that it wrote only into
the first few entries of the array depending on the number of fds that
had events. Actually it only replaces the revents field of the GPollFD
struct and leaves everything else in place.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1340696062,1340696062,a8cbf7feff11ebc4b58d47ad832fde2d761969bf
a8cbf7feff11ebc4b58d47ad832fde2d761969bf,a8cbf7fe,Import the trie builder code from Amagramanam,"Import the trie builder code from Amagramanam

The trie builder code will be used to create the indices for all of
the languages.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1340661420,1340662163,b37c70c8a625f3c081173e92bb47daccc817bf34
b37c70c8a625f3c081173e92bb47daccc817bf34,b37c70c8,revo: Add a function to list files,"revo: Add a function to list files

This adds a function to list files matching a glob pattern in the revo
zip file.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1340660866,1340660866,0c0f51023cb44f2472cd73e38e390d8ec1d3b2c9
0c0f51023cb44f2472cd73e38e390d8ec1d3b2c9,0c0f5102,prevodb: Add code to load the list of languages,"prevodb: Add code to load the list of languages

This extracts the cfg/lingvoj.xml file directly from the zip file and
parses the xml to build up a list of languages.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1340656713,1340656713,127c5b3ab3b3019e0895e4ce83d16480e9a66a45
127c5b3ab3b3019e0895e4ce83d16480e9a66a45,127c5b3a,Start a tool to generate the database,"Start a tool to generate the database

This just contains the autotools foo.
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1340575618,1340575618,2a72bba7ce93bf81548a9c05b06a13c96101544b
2a72bba7ce93bf81548a9c05b06a13c96101544b,2a72bba7,Initial source,"Initial source

This is just the source generated by the android tool
",,,,Neil Roberts,bpeeluk@yahoo.co.uk,Neil Roberts,bpeeluk@yahoo.co.uk,1340395501,1340395602,
